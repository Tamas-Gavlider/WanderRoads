{"version":3,"sources":["styles/TravelPreference.module.css","pages/travel_preference/TravelPreferences.js"],"names":["module","exports","continentMapping","AF","AN","AS","EU","NA","OC","SA","TravelPreferences","_ref","profileOwner","currentUser","useCurrentUser","preferences","setPreferences","useState","loading","setLoading","error","setError","useEffect","axios","get","then","response","data","catch","React","createElement","Loading","status","AddTravelPreferences","message","continentCode","preferred_continent","continentName","isOwner","username","Link","to","id","className","styles","EditIcon","Row","Col","xs","sm","md","lg","OverlayTrigger","placement","overlay","Tooltip","PreferenceItem","climate","activity","budget","travel_style","duration"],"mappings":"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","file":"static/js/4.669d6576.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"PreferenceItem\":\"TravelPreference_PreferenceItem__TuAJh\",\"EditIcon\":\"TravelPreference_EditIcon__2UjIq\"};","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"../../styles/TravelPreference.module.css\";\nimport AddTravelPreferences from \"./AddTravelPreferences\";\nimport { Row, Col, Tooltip, OverlayTrigger } from \"react-bootstrap\";\nimport Loading from \"../../components/Loading\";\n\n// Mapping of continent codes to full names\nconst continentMapping = {\n  AF: \"Africa\",\n  AN: \"Antarctica\",\n  AS: \"Asia\",\n  EU: \"Europe\",\n  NA: \"North America\",\n  OC: \"Oceania\",\n  SA: \"South America\",\n};\n\nexport default function TravelPreferences({ profileOwner }) {\n  const currentUser = useCurrentUser();\n  const [preferences, setPreferences] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Fetch travel preferences for the profile owner\n  useEffect(() => {\n    if (profileOwner) {\n      axios\n        .get(`/travel-preference/?user=${profileOwner}`)\n        .then((response) => {\n          if (response.data) {\n            setPreferences(response.data);\n          } else {\n            setPreferences(null);\n          }\n          setLoading(false);\n        })\n        .catch((error) => {\n          setError(error);\n          setLoading(false);\n        });\n    }\n  }, [profileOwner]);\n  // Show a loading screen while data is being fetched\n  if (loading) return <Loading />;\n\n  if (error) {\n    if (error.response && error.response.status === 404) {\n      return (\n        <div>\n          <p>No travel preferences found.</p>\n          <AddTravelPreferences />\n        </div>\n      );\n    } else {\n      return <p>{error.message || \"An error occurred\"}</p>;\n    }\n  }\n\n  // Retrieve the full name of the preferred continent, or fallback if not found\n  const continentCode = preferences?.preferred_continent;\n  const continentName =\n    continentMapping[continentCode] || continentCode || \"Not specified\";\n\n  const isOwner = currentUser?.username === profileOwner;\n\n  return (\n    <div>\n      {preferences ? (\n        <div>\n          {/* Only show edit icon if the current user is the owner */}\n          {isOwner && (\n            <Link to={`/travel-preference/${preferences.id}/edit`}>\n              <i className={`fa-solid fa-pen ${styles.EditIcon}`}> Edit</i>\n            </Link>\n          )}\n          {/* Display travel preferences */}\n          <Row>\n            <Col xs={4} sm={4} md={4} lg={4}>\n              <OverlayTrigger\n                placement=\"top\"\n                overlay={<Tooltip>Preferred continent</Tooltip>}\n              >\n                <div className={styles.PreferenceItem}>\n                  <i className=\"fa-solid fa-globe\"></i>\n                  <p>{continentName}</p>\n                </div>\n              </OverlayTrigger>\n            </Col>\n            <Col xs={4} sm={4} md={4} lg={4}>\n              <OverlayTrigger\n                placement=\"top\"\n                overlay={<Tooltip>Preferred climate</Tooltip>}\n              >\n                <div className={styles.PreferenceItem}>\n                  <i className=\"fa-solid fa-temperature-half\"></i>\n                  <p>{preferences.climate || \"Not specified\"}</p>\n                </div>\n              </OverlayTrigger>\n            </Col>\n            <Col xs={4} sm={4} md={4} lg={4}>\n              <OverlayTrigger\n                placement=\"top\"\n                overlay={<Tooltip>Preferred activity</Tooltip>}\n              >\n                <div className={styles.PreferenceItem}>\n                  <i className=\"fa-solid fa-person-hiking\"></i>\n                  <p>{preferences.activity || \"Not specified\"}</p>\n                </div>\n              </OverlayTrigger>\n            </Col>\n          </Row>\n\n          <Row>\n            <Col xs={4} sm={4} md={4} lg={4}>\n              <OverlayTrigger\n                placement=\"top\"\n                overlay={<Tooltip>Budget preference</Tooltip>}\n              >\n                <div className={styles.PreferenceItem}>\n                  <i className=\"fa-solid fa-money-check-dollar\"></i>\n                  <p>{preferences.budget || \"Not specified\"}</p>\n                </div>\n              </OverlayTrigger>\n            </Col>\n            <Col xs={4} sm={4} md={4} lg={4}>\n              <OverlayTrigger\n                placement=\"top\"\n                overlay={<Tooltip>Travel style</Tooltip>}\n              >\n                <div className={styles.PreferenceItem}>\n                  <i className=\"fa-solid fa-route\"></i>\n                  <p>{preferences.travel_style || \"Not specified\"}</p>\n                </div>\n              </OverlayTrigger>\n            </Col>\n            <Col xs={4} sm={4} md={4} lg={4}>\n              <OverlayTrigger\n                placement=\"top\"\n                overlay={<Tooltip>Preferred trip duration</Tooltip>}\n              >\n                <div className={styles.PreferenceItem}>\n                  <i className=\"fa-solid fa-calendar-days\"></i>\n                  <p>{preferences.duration || \"Not specified\"}</p>\n                </div>\n              </OverlayTrigger>\n            </Col>\n          </Row>\n        </div>\n      ) : (\n        <div>\n          {/* If no preferences exist, prompt the user to add them */}\n          <AddTravelPreferences />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"sourceRoot":""}