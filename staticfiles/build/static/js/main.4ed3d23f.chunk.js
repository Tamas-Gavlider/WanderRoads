(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{10:function(e,a,t){e.exports={NavBar:"NavBar_NavBar__1amC6",NavLink:"NavBar_NavLink__34ons",Active:"NavBar_Active__3PBZb"}},12:function(e,a,t){e.exports={Row:"SignInUpForm_Row__3PbVy",Input:"SignInUpForm_Input__3xaLZ",Header:"SignInUpForm_Header__3joQJ",Link:"SignInUpForm_Link__1BeMm",Container:"SignInUpForm_Container__2cuBp",SignInCol:"SignInUpForm_SignInCol__3ImPK",SignUpCol:"SignInUpForm_SignUpCol__28o4y",SignInLink:"SignInUpForm_SignInLink__IbeFE"}},18:function(e,a,t){e.exports={App:"App_App__16ZpL",LandingBackground:"App_LandingBackground__1CuGK",NoBackground:"App_NoBackground__3lGAn",Main:"App_Main__HQkvd",Content:"App_Content__ZaMNr",FillerImage:"App_FillerImage__2ob-g",Image:"App_Image__3UPXw"}},30:function(e,a,t){e.exports={Button:"Button_Button__27i9m",Wide:"Button_Wide__2ScDr"}},37:function(e,a,t){e.exports={tagline:"LandingPage_tagline__G04hq"}},64:function(e,a,t){},94:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),c=t(26),r=t.n(c),i=(t(64),t(18)),o=t.n(i),l=t(17),d=t(6),j=t(8),p=t.n(j);p.a.defaults.baseURL="/api",p.a.defaults.headers.post["Content-Type"]="multipart/form-data",p.a.defaults.withCredentials=!0;const u=p.a.create(),m=p.a.create();var b=t(31),h=t(11),x=t(12),O=t.n(x),g=t(30),v=t.n(g),N=t.p+"static/media/reg_img.71316063.jpg",_=t(32),f=t(16),w=t(23),C=t(38),L=t(57),I=t(58),y=t(1);var S=()=>{var e,a,t,s;const[c,r]=Object(n.useState)({username:"",password1:"",password2:""}),{username:i,password1:j,password2:u}=c,[m,x]=Object(n.useState)({}),g=Object(d.f)(),S=e=>{r(Object(b.a)(Object(b.a)({},c),{},{[e.target.name]:e.target.value}))};return Object(y.jsxs)(_.a,{className:O.a.Row,children:[Object(y.jsx)(f.a,{className:"my-auto py-2 p-md-2 d-flex align-items-center",md:6,children:Object(y.jsxs)(l.a,{className:"".concat(o.a.Content," p-4 "),children:[Object(y.jsx)("h1",{className:O.a.Header,children:"sign up"}),Object(y.jsxs)(w.a,{onSubmit:async e=>{e.preventDefault();try{await p.a.post("/dj-rest-auth/registration/",c),g.push("/")}catch(t){var a;x(null===(a=t.response)||void 0===a?void 0:a.data)}},children:[Object(y.jsxs)(w.a.Group,{controlId:"username",as:_.a,className:"mb-3",children:[Object(y.jsx)(w.a.Label,{className:"d-none",children:"username"}),Object(y.jsx)(w.a.Control,{className:O.a.Input,type:"text",placeholder:"Username",name:"username",value:i,onChange:S})]}),null===(e=m.username)||void 0===e?void 0:e.map(((e,a)=>Object(y.jsx)(C.a,{variant:"warning",children:e},a))),Object(y.jsxs)(w.a.Group,{controlId:"password1",as:_.a,className:"mb-3",children:[Object(y.jsx)(w.a.Label,{className:"d-none",children:"Password"}),Object(y.jsx)(w.a.Control,{className:O.a.Input,type:"password",placeholder:"Password",name:"password1",value:j,onChange:S})]}),null===(a=m.password1)||void 0===a?void 0:a.map(((e,a)=>Object(y.jsx)(C.a,{variant:"warning",children:e},a))),Object(y.jsxs)(w.a.Group,{controlId:"password2",as:_.a,className:"mb-3",children:[Object(y.jsx)(w.a.Label,{className:"d-none",children:"Confirm password"}),Object(y.jsx)(w.a.Control,{className:O.a.Input,type:"password",placeholder:"Confirm password",name:"password2",value:u,onChange:S})]}),null===(t=m.password2)||void 0===t?void 0:t.map(((e,a)=>Object(y.jsx)(C.a,{variant:"warning",children:e},a))),Object(y.jsx)(L.a,{className:"".concat(v.a.Button," ").concat(v.a.Wide),type:"submit",children:"Sign up"}),null===(s=m.non_field_errors)||void 0===s?void 0:s.map(((e,a)=>Object(y.jsx)(C.a,{variant:"warning",className:"mt-3",children:e},a)))]})]})}),Object(y.jsx)(f.a,{md:6,className:"d-none d-md-flex align-items-center justify-content-center",children:Object(y.jsx)(I.a,{className:"".concat(o.a.FillerImage),src:N,fluid:!0})}),Object(y.jsx)(l.a,{className:"mt-3",children:Object(y.jsxs)(h.b,{className:"".concat(O.a.Link," ").concat(O.a.SignInLink),to:"/signin",children:["Already have an account? ",Object(y.jsx)("span",{children:"Sign in"})]})})]})};const k=Object(n.createContext)(),B=Object(n.createContext)(),A=()=>Object(n.useContext)(B),P=e=>{let{children:a}=e;const[t,s]=Object(n.useState)(null),c=Object(d.f)();return Object(n.useEffect)((()=>{(async()=>{try{const{data:e}=await p.a.get("/dj-rest-auth/user/");s(e.user),console.log("Current User:",t)}catch(e){console.log(e)}})()}),[]),Object(n.useMemo)((()=>{u.interceptors.request.use((async e=>{try{await p.a.post("/dj-rest-auth/token/refresh/")}catch(a){return s((e=>(e&&c.push("/signin"),null))),e}return e}),(e=>Promise.reject(e))),m.interceptors.response.use((e=>e),(async e=>{var a;if(401===(null===(a=e.response)||void 0===a?void 0:a.status)){try{await p.a.post("/dj-rest-auth/token/refresh/")}catch(e){s((e=>(e&&c.push("/signin"),null)))}return p()(e.config)}return Promise.reject(e)}))}),[c]),Object(y.jsx)(k.Provider,{value:t,children:Object(y.jsx)(B.Provider,{value:s,children:a})})};var F=t.p+"static/media/sign_in_img.f2dab701.jpg";var U=function(){var e,a,t;const s=A(),[c,r]=Object(n.useState)({username:"",password:""}),{username:i,password:j}=c,[u,m]=Object(n.useState)({}),x=Object(d.f)(),g=e=>{r(Object(b.a)(Object(b.a)({},c),{},{[e.target.name]:e.target.value}))};return Object(y.jsx)(l.a,{fluid:!0,children:Object(y.jsxs)(_.a,{className:O.a.Row,children:[Object(y.jsxs)(f.a,{className:"my-auto p-0 p-md-2",md:6,children:[Object(y.jsxs)(l.a,{className:"".concat(o.a.Content," p-4 "),children:[Object(y.jsx)("h1",{className:O.a.Header,children:"sign in"}),Object(y.jsxs)(w.a,{onSubmit:async e=>{e.preventDefault();try{const{data:e}=await p.a.post("/dj-rest-auth/login/",c);s(e.user),x.push("/profile")}catch(t){var a;m(null===(a=t.response)||void 0===a?void 0:a.data)}},children:[Object(y.jsxs)(w.a.Group,{controlId:"username",className:"mt-3",children:[Object(y.jsx)(w.a.Label,{className:"d-none",children:"Username"}),Object(y.jsx)(w.a.Control,{type:"text",placeholder:"Username",name:"username",className:O.a.Input,value:i,onChange:g})]}),null===(e=u.username)||void 0===e?void 0:e.map(((e,a)=>Object(y.jsx)(C.a,{variant:"warning",children:e},a))),Object(y.jsxs)(w.a.Group,{controlId:"password",className:"mt-3",children:[Object(y.jsx)(w.a.Label,{className:"d-none",children:"Password"}),Object(y.jsx)(w.a.Control,{type:"password",placeholder:"Password",name:"password",className:O.a.Input,value:j,onChange:g})]}),null===(a=u.password)||void 0===a?void 0:a.map(((e,a)=>Object(y.jsx)(C.a,{variant:"warning",children:e},a))),Object(y.jsx)(L.a,{className:"".concat(v.a.Button," ").concat(v.a.Wide," mt-3"),type:"submit",children:"Sign in"}),null===(t=u.non_field_errors)||void 0===t?void 0:t.map(((e,a)=>Object(y.jsx)(C.a,{variant:"warning",className:"mt-3",children:e},a)))]})]}),Object(y.jsx)(l.a,{className:"mt-3",children:Object(y.jsxs)(h.b,{className:O.a.Link,to:"/signup",children:["Don't have an account? ",Object(y.jsx)("span",{children:"Sign up now!"})]})})]}),Object(y.jsx)(f.a,{md:6,className:"my-auto d-none d-md-block p-2 ".concat(O.a.SignInCol),children:Object(y.jsx)(I.a,{className:"".concat(o.a.FillerImage),src:F})})]})})},M=t(59),E=t(33),G=t.p+"static/media/logo.822b8032.png",R=t(10),T=t.n(R);var D=()=>{const[e,a]=Object(n.useState)(!1),t=Object(n.useRef)(null);return Object(n.useEffect)((()=>{const e=e=>{t.current&&!t.current.contains(e.target)&&a(!1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),[t]),{expanded:e,setExpanded:a,ref:t}};var H=()=>{const e=Object(n.useContext)(k),a=A(),{expanded:t,setExpanded:s,ref:c}=D(),r=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(h.c,{exact:!0,to:"/map",className:T.a.NavLink,activeClassName:T.a.Active,children:"Map"}),Object(y.jsx)(h.c,{to:"/profile",className:T.a.NavLink,activeClassName:T.a.Active,children:"Profile"}),Object(y.jsx)(h.c,{to:"/posts",className:T.a.NavLink,activeClassName:T.a.Active,children:"Posts"}),Object(y.jsx)(h.c,{to:"/travel-buddies",className:T.a.NavLink,activeClassName:T.a.Active,children:"Travel Buddies"}),Object(y.jsx)(h.c,{to:"/",onClick:async()=>{try{await p.a.post("/dj-rest-auth/logout/"),a(null)}catch(e){console.log(e)}},className:T.a.NavLink,activeClassName:T.a.Active,children:"Logout"}),Object(y.jsxs)("span",{className:T.a.NavLink,children:["Logged in as ",null===e||void 0===e?void 0:e.username]})]}),i=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(h.c,{to:"/signin",className:T.a.NavLink,activeClassName:T.a.Active,children:"Login"}),Object(y.jsx)(h.c,{to:"/signup",className:T.a.NavLink,activeClassName:T.a.Active,children:"Register"})]});return Object(y.jsx)(E.a,{expanded:t,expand:"md",className:T.a.NavBar,fixed:"top",children:Object(y.jsxs)(l.a,{fluid:!0,children:[Object(y.jsx)(h.c,{to:"/",children:Object(y.jsx)(E.a.Brand,{children:Object(y.jsx)("img",{src:G,alt:"logo",height:"75"})})}),Object(y.jsx)(E.a.Toggle,{ref:c,onClick:()=>s(!t),"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(E.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsx)(M.a,{className:"ms-auto",children:e?r:i})})]})})},J=t(37),W=t.n(J);var Z=function(){return Object(y.jsxs)(l.a,{children:[Object(y.jsxs)(_.a,{children:[Object(y.jsx)(f.a,{children:Object(y.jsx)("p",{className:W.a.tagline,children:"Your Journey"})}),Object(y.jsx)(f.a,{}),Object(y.jsx)(f.a,{children:Object(y.jsx)("p",{className:W.a.tagline,children:"Your Memory"})})]}),Object(y.jsxs)(_.a,{children:[Object(y.jsx)(f.a,{}),Object(y.jsx)(f.a,{xs:5,children:Object(y.jsx)("p",{className:W.a.tagline,children:"Your Story"})}),Object(y.jsx)(f.a,{})]})]})};var Y=function(){const e="/"===Object(d.g)().pathname;return Object(y.jsxs)("div",{className:"".concat(o.a.App," ").concat(e?o.a.LandingBackground:o.a.NoBackground),children:[Object(y.jsx)(H,{}),Object(y.jsx)(l.a,{children:Object(y.jsxs)(d.c,{children:[Object(y.jsx)(d.a,{exact:!0,path:"/",render:()=>Object(y.jsx)(Z,{})}),Object(y.jsx)(d.a,{exact:!0,path:"/signin",render:()=>Object(y.jsx)(U,{})}),Object(y.jsx)(d.a,{exact:!0,path:"/signup",render:()=>Object(y.jsx)(S,{})}),Object(y.jsx)(d.a,{exact:!0,path:"/map",render:()=>Object(y.jsx)("h1",{children:"Map"})}),Object(y.jsx)(d.a,{exact:!0,path:"/profile",render:()=>Object(y.jsx)("h1",{children:"Profile"})}),Object(y.jsx)(d.a,{exact:!0,path:"/posts",render:()=>Object(y.jsx)("h1",{children:"Posts"})}),Object(y.jsx)(d.a,{exact:!0,path:"/travel-buddies",render:()=>Object(y.jsx)("h1",{children:"Travel Buddies"})}),Object(y.jsx)(d.a,{exact:!0,path:"/logout",render:()=>Object(y.jsx)("h1",{children:"Logout"})}),Object(y.jsx)(d.a,{render:()=>Object(y.jsx)("p",{children:"Page not found!"})})]})})]})};var q=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,97)).then((a=>{let{getCLS:t,getFID:n,getFCP:s,getLCP:c,getTTFB:r}=a;t(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(h.a,{children:Object(y.jsx)(P,{children:Object(y.jsx)(Y,{})})})}),document.getElementById("root")),q()}},[[94,1,2]]]);
//# sourceMappingURL=main.4ed3d23f.chunk.js.map