{"version":3,"sources":["styles/Button.module.css","api/axiosDefaults.js","contexts/CurrentUserContext.js","App.module.css","styles/NavBar.module.css","styles/Profile.module.css","styles/SignInUpForm.module.css","utils/utils.js","styles/PostsPage.module.css","styles/CommentCreateEditForm.module.css","components/Loading.js","styles/MoreDropdown.module.css","styles/Post.module.css","styles/PopularDestinations.module.css","styles/Profiles.module.css","styles/PostPage.module.css","styles/TravelRecommendation.module.css","styles/EditStatus.module.css","styles/LandingPageText.module.css","styles/AddCountry.module.css","styles/ChangeThemeSong.module.css","styles/NotFoundPage.module.css","styles/PostCreateEditForm.module.css","styles/AddTrip.module.css","styles/Map.module.css","styles/ThemeSong.module.css","styles/TravelPreferenceEditForm.module.css","styles/Avatar.module.css","styles/Comment.module.css","styles/Trip.module.css","styles/Confirmation.module.css","pages/travel_preference/AddTravelPreferences.js","assets/reg_img.webp","assets/sign_in_img.webp","styles/Asset.module.css","assets/upload.png","styles/Loading.module.css","assets/recommendation-bg.webp","pages/travel_recommendation/TravelRecommendation.js","assets/landing_page.webp","hooks/useRedirect.js","pages/auth/SignUpForm.js","pages/auth/SignInForm.js","hooks/useClickOutsideToggle.js","components/Asset.js","components/Avatar.js","components/NavBar.js","components/LandingPageText.js","pages/map/Map.js","pages/posts/PostCreateForm.js","components/MoreDropdown.js","pages/posts/Post.js","pages/comments/CommentEditForm.js","pages/comments/Comment.js","pages/comments/CommentCreateForm.js","components/PopularDestinations.js","pages/posts/PostPage.js","pages/posts/PostsPage.js","pages/posts/PostEditForm.js","components/ThemeSong.js","pages/profile/Profile.js","pages/profile/Profiles.js","pages/travel_preference/TravelPreferenceEditForm.js","pages/trip/Trip.js","pages/trip/TripEditForm.js","pages/trip/AddTrip.js","pages/profile/UsernameForm.js","pages/profile/UserPasswordForm.js","pages/profile/ProfileImageChangeForm.js","pages/profile/EditStatus.js","pages/profile/AddCountry.js","pages/profile/ChangeThemeSong.js","pages/travel_preference/Confirmation.js","components/NotFoundPage.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosReq","create","axiosRes","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","_ref","children","currentUser","setCurrentUser","useState","history","useHistory","useEffect","async","data","get","err","handleMount","useMemo","interceptors","request","use","shouldRefreshToken","prevCurrentUser","push","removeTokenTimestamp","config","Promise","reject","response","_err$response","status","React","createElement","Provider","value","fetchMoreData","resource","setResource","next","prevResource","results","reduce","acc","cur","some","accResult","id","console","log","setTokenTimestamp","refreshTokenTimestamp","jwtDecode","access","exp","localStorage","setItem","getItem","removeItem","Loading","className","style","height","styles","airplane","AddTravelPreferences","isSubmitting","setIsSubmitting","preferenceExists","setPreferenceExists","formData","preferred_continent","climate","activity","budget","travel_style","duration","useParams","profile","setProfile","then","catch","isOwner","username","owner","pk","onSubmit","e","preventDefault","alert","type","disabled","BtnStyle","Button","Fragment","TravelRecommendation","recommendation","setRecommendation","Container","Heading","length","ListGroup","horizontal","ListContainer","recommended_destination","map","destination","index","Item","key","ListItem","str","charAt","toUpperCase","slice","NoData","useRedirect","userAuthStatus","SignUpForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","signUpData","setSignUpData","password1","password2","errors","setErrors","handleChange","event","name","target","prev","validateField","prevErrors","newErrors","trim","fluid","Row","Col","md","appStyles","Content","Header","Form","Group","controlId","Label","Control","Input","placeholder","onChange","aria-label","message","idx","Alert","variant","btnStyles","Wide","Object","keys","non_field_errors","Image","FillerImageRegister","src","reg_img","alt","Link","SignInLink","to","SignInForm","signInData","setSignInData","password","user","_formattedErrors$user","_formattedErrors$pass","formattedErrors","includes","SignInCol","FillerImage","image","useClickOutsideToggle","expanded","setExpanded","ref","useRef","handleClickOutside","current","contains","document","addEventListener","removeEventListener","Asset","spinner","Spinner","animation","Avatar","text","loading","setLoading","AvatarContainer","width","onLoad","handleImageLoad","visibility","NavBar","loggedInLinks","NavLink","exact","activeClassName","Active","onClick","profile_id","profile_image","loggedOutLinks","Navbar","expand","fixed","Toggle","aria-controls","Collapse","Nav","LandingPageText","HeroRow","Subheading","Map","countryPosts","setCountryPosts","postCounts","country_post_counts","fetchPostCounts","MapContainer","ComposableMap","tabIndex","projectionConfig","center","scale","ZoomableGroup","minZoom","maxZoom","enablePan","Geographies","geography","geographies","geo","countryName","properties","postCount","OverlayTrigger","rsmKey","placement","overlay","Tooltip","Geography","focusable","default","fill","stroke","strokeWidth","outline","hover","pressed","PostCreateForm","postData","setPostData","title","content","country","countries","setCountries","imageInput","error","fetchCountries","prevData","undefined","textFields","as","rows","required","c","code","goBack","FormData","append","files","_err$response2","lg","rounded","htmlFor","Upload","File","accept","URL","revokeObjectURL","createObjectURL","ThreeDots","forwardRef","Dot","displayName","MoreDropdown","_ref2","handleEdit","handleDelete","Dropdown","drop","Menu","popperConfig","strategy","DropdownItem","Icon","Post","props","comments_count","country_name","created_at","postPage","is_owner","showDeleteModal","setShowDeleteModal","handleCloseDeleteModal","xs","sm","Card","Body","Media","handleShowDeleteModal","Profile","User","Img","Title","Text","iconStyles","Hidden","Modal","show","onHide","closeButton","Footer","delete","CommentEditForm","setShowEditForm","setComments","formContent","setFormContent","put","prevComments","comment","updated_at","Comment","setPost","showEditForm","errorMessage","setErrorMessage","Owner","Date","profileImage","prevPost","_prevPost$results","Math","max","_prevComments$results","filter","CommentCreateForm","setContent","CommentFormContainer","InputGroup","PopularDestinations","popularDestinations","setPopularDestinations","sortedDestinations","entries","count","sort","a","b","Accordion","dest","eventKey","String","CardBody","PostPage","comments","all","assign","setPosts","InfiniteScroll","dataLength","loader","hasMore","Destination","PostsPage","posts","hasLoaded","setHasLoaded","pathname","useLocation","query","setQuery","setError","timer","setTimeout","fetchPosts","clearTimeout","CreatePost","ShareText","navStyle","ShareIcon","SearchIcon","SearchBar","Error","PostEditForm","_errors$title","_errors$content","_errors$image","_imageInput$current","ThemeSong","isMuted","setIsMuted","audioRef","toggleMute","play","pause","theme_song","TravelPreferences","lazy","UserPosts","visitedCountriesList","_profile$visited_coun","visited_countries","experience","Countries","ProfileContainer","HeroSection","backgroundImage","backgroundImageUrl","Overlay","ProfileContent","ProfileImage","roundedCircle","ProfileText","Status","Tab","defaultActiveKey","ProfileNav","TabContent","Suspense","fallback","Pane","profileOwner","EditIcon","UserList","profiles","setProfiles","sortBy","setSortBy","fetchProfiles","Users","searchStyles","onSelect","UserCard","posts_count","TravelPreferenceEditForm","preferencesData","setPreferencesData","fetchData","EditPrefContainer","EditPrefHeading","EditPrefForm","Trip","trip","setTrip","showModal","setShowModal","tripToDelete","setTripToDelete","sortedTrips","t","days_until_trip","start_date","expiredTrips","Soon","tripId","confirmDelete","Subtitle","end_date","notes","centered","prevTrip","TripEditForm","tripData","setTripData","matchingCountry","find","countryCode","updatedStartDate","updatedEndDate","AddTrip","_errors$start_date","_errors$end_date","UsernameForm","setUsername","_currentUser$profile_","toString","prevUser","UserPasswordForm","_errors$new_password","_errors$new_password2","userData","setUserData","new_password1","new_password2","ProfileImageChangeForm","EditStatus","setStatus","StatusContainer","StatusCard","StatusHeading","StatusInput","SaveButton","AddCountry","selectedCountry","setSelectedCountry","visitedCountries","setVisitedCountries","fetchProfile","handleAddCountry","Country","size","handleRemoveCountry","countryToRemove","Delete","Visited","ChangeThemeSong","themeSong","setThemeSong","ThemeSongContainer","MoodDescription","UploadLabel","file","lastIndexOf","Confirmation","NotFoundPage","NotFound","SubText","buttonStyles","handleRedirect","App","isLandingPage","landingPageImage","backgroundSize","backgroundPosition","backgroundRepeat","backgroundAttachment","LandingBackground","Main","Switch","Route","path","render","AddTravelPreference","component","Profiles","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Router","getElementById"],"mappings":"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","file":"static/js/main.06904743.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__27i9m\",\"Wide\":\"Button_Wide__2ScDr\"};","// IMPORTANT!!\n // Because this React app is running in the same workspace as the API,\n\n // there is no need to set a separate baseURL until you reach deployment.\n\n // Setting a baseURL before you reach deployment will cause errors\n\n\nimport axios from \"axios\";\n\naxios.defaults.baseURL = \"/api\"\naxios.defaults.headers.post[\"Content-Type\"] = \"multipart/form-data\"\naxios.defaults.withCredentials = true\n\nexport const axiosReq = axios.create()\nexport const axiosRes = axios.create()\n\n","import React from \"react\";\nimport { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport axios from \"axios\";\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\nimport { useHistory } from \"react-router\";\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\n\nexport const CurrentUserContext = createContext();\nexport const SetCurrentUserContext = createContext();\n\nexport const useCurrentUser = () => useContext(CurrentUserContext);\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\n\nexport const CurrentUserProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const history = useHistory();\n  // Function to fetch the current user when the app first loads\n  const handleMount = async () => {\n    try {\n      const { data } = await axiosRes.get(\"/dj-rest-auth/user/\");\n      setCurrentUser(data);\n    } catch (err) {\n      // Silently ignore the error - keep comment to avoid parsing error\n    }\n  };\n  // Run handleMount on first render to set current user if token is valid\n  useEffect(() => {\n    handleMount();\n  }, []);\n\n  useMemo(() => {\n    // Request interceptor: refresh token before sending request if needed\n    axiosReq.interceptors.request.use(\n      async (config) => {\n        if (shouldRefreshToken()) {\n          try {\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\n          } catch (err) {\n            // If refresh fails, log out the user and redirect to sign in\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push(\"/signin\");\n              }\n              return null;\n            });\n            removeTokenTimestamp();\n            return config;\n          }\n        }\n        return config;\n      },\n      (err) => {\n        return Promise.reject(err);\n      }\n    );\n    // Response interceptor: catch 401 errors and attempt token refresh\n    axiosRes.interceptors.response.use(\n      (response) => response,\n      async (err) => {\n        if (err.response?.status === 401) {\n          try {\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\n          } catch (err) {\n            // If refresh fails again here, log out the user\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push(\"/signin\");\n              }\n              return null;\n            });\n            removeTokenTimestamp();\n          }\n          // Retry original request after token refresh\n          return axios(err.config);\n        }\n        return Promise.reject(err);\n      }\n    );\n  }, [history]);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\n        {children}\n      </SetCurrentUserContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"Main\":\"App_Main__HQkvd\",\"Content\":\"App_Content__ZaMNr\",\"FillerImage\":\"App_FillerImage__2ob-g\",\"FillerImageRegister\":\"App_FillerImageRegister__OPjeC\",\"Image\":\"App_Image__3UPXw\",\"LandingBackground\":\"App_LandingBackground__1CuGK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__1amC6\",\"NavLink\":\"NavBar_NavLink__34ons\",\"Active\":\"NavBar_Active__3PBZb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileContainer\":\"Profile_ProfileContainer__1MhJH\",\"Countries\":\"Profile_Countries__D1H0B\",\"HeroSection\":\"Profile_HeroSection__e8eHN\",\"Overlay\":\"Profile_Overlay__1kE6W\",\"ProfileContent\":\"Profile_ProfileContent__kZMSg\",\"ProfileImage\":\"Profile_ProfileImage__33oYu\",\"ProfileText\":\"Profile_ProfileText__6-7ag\",\"Status\":\"Profile_Status__1YOjR\",\"ThemeSong\":\"Profile_ThemeSong__sjjXi\",\"ProfileNav\":\"Profile_ProfileNav__2k-vW\",\"TabContent\":\"Profile_TabContent__hmQaL\",\"NavLink\":\"Profile_NavLink__1WVM7\",\"EditIcon\":\"Profile_EditIcon__2FH5p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"SignInUpForm_Row__3PbVy\",\"Input\":\"SignInUpForm_Input__3xaLZ\",\"Header\":\"SignInUpForm_Header__3joQJ\",\"Link\":\"SignInUpForm_Link__1BeMm\",\"SignInCol\":\"SignInUpForm_SignInCol__3ImPK\",\"SignUpCol\":\"SignInUpForm_SignUpCol__28o4y\",\"SignInLink\":\"SignInUpForm_SignInLink__IbeFE\"};","import jwtDecode from \"jwt-decode\";\nimport { axiosReq } from \"../api/axiosDefaults\";\n\nexport const fetchMoreData = async (resource, setResource) => {\n  try {\n    const { data } = await axiosReq.get(resource.next);\n    setResource((prevResource) => ({\n      ...prevResource,\n      next: data.next,\n      results: data.results.reduce((acc, cur) => {\n        return acc.some((accResult) => accResult.id === cur.id)\n          ? acc\n          : [...acc, cur];\n      }, prevResource.results),\n    }));\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const setTokenTimestamp = (data) => {\n  const refreshTokenTimestamp = jwtDecode(data?.access).exp;\n  localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\n};\n\nexport const shouldRefreshToken = () => {\n  return !!localStorage.getItem(\"refreshTokenTimestamp\");\n};\n\nexport const removeTokenTimestamp = () => {\n  localStorage.removeItem(\"refreshTokenTimestamp\");\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"PostsPage_Row__1H1cO\",\"Hidden\":\"PostsPage_Hidden__2iLRB\",\"SearchBar\":\"PostsPage_SearchBar__1T8bC\",\"SearchIcon\":\"PostsPage_SearchIcon__12ojn\",\"CreatePost\":\"PostsPage_CreatePost__1_udf\",\"ShareIcon\":\"PostsPage_ShareIcon__11kLI\",\"ShareText\":\"PostsPage_ShareText__mI0lq\",\"Post\":\"PostsPage_Post__3wlLC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"CommentCreateEditForm_Form__1Qeyz\",\"CommentFormContainer\":\"CommentCreateEditForm_CommentFormContainer__30UTv\",\"Button\":\"CommentCreateEditForm_Button__sGFSX\",\"Icon\":\"CommentCreateEditForm_Icon__1OeiU\",\"Hidden\":\"CommentCreateEditForm_Hidden__1JSZ7\"};","import React from \"react\";\nimport styles from \"../styles/Loading.module.css\";\n\nconst Loading = () => {\n  return (\n    <div\n      className=\"position-relative w-100 overflow-hidden\"\n      style={{ height: \"80px\" }}\n    >\n      <i className={`fa-solid fa-plane ${styles.airplane}`}></i>\n    </div>\n  );\n};\n\nexport default Loading;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownItem\":\"MoreDropdown_DropdownItem__2E4UM\",\"Icon\":\"MoreDropdown_Icon__Z1Xje\",\"Dot\":\"MoreDropdown_Dot__3pQ2-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__3UScv\",\"Hidden\":\"Post_Hidden__16oP8\",\"Image\":\"Post_Image__2hiYK\",\"Profile\":\"Post_Profile__3lW0v\",\"User\":\"Post_User__1OzFF\",\"Content\":\"Post_Content__2sDLu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PopularDestinations_Container__35dtu\",\"Card\":\"PopularDestinations_Card__uvJoB\",\"Title\":\"PopularDestinations_Title__2tPrG\",\"Header\":\"PopularDestinations_Header__WsxXi\",\"CardBody\":\"PopularDestinations_CardBody__2l1lB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Users\":\"Profiles_Users__3dtPI\",\"UserCard\":\"Profiles_UserCard__3GbVk\",\"Image\":\"Profiles_Image__1Khlv\",\"Status\":\"Profiles_Status__3hErT\",\"SearchField\":\"Profiles_SearchField__1tLvW\",\"Owner\":\"Profiles_Owner__3mo89\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"PostPage_Row__zSGG9\",\"Destination\":\"PostPage_Destination__1lyRI\",\"Post\":\"PostPage_Post__i_JL6\",\"Comment\":\"PostPage_Comment__3Fwpi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"TravelRecommendation_Container__1bc-H\",\"Heading\":\"TravelRecommendation_Heading__nrQdA\",\"ListContainer\":\"TravelRecommendation_ListContainer__uzRV_\",\"ListItem\":\"TravelRecommendation_ListItem__2FqGO\",\"NoData\":\"TravelRecommendation_NoData__1SC1A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"StatusContainer\":\"EditStatus_StatusContainer__22Nya\",\"StatusCard\":\"EditStatus_StatusCard__38wb1\",\"fadeIn\":\"EditStatus_fadeIn__3Z2xh\",\"StatusHeading\":\"EditStatus_StatusHeading__1v7Xb\",\"StatusInput\":\"EditStatus_StatusInput__mo-27\",\"SaveButton\":\"EditStatus_SaveButton__2-di3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"LandingPageText_Container__1TxA2\",\"HeroRow\":\"LandingPageText_HeroRow__5iTIJ\",\"Heading\":\"LandingPageText_Heading__1DhND\",\"Subheading\":\"LandingPageText_Subheading__cJ8dS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"AddCountry_Container__3K-Wm\",\"Country\":\"AddCountry_Country__3a6IC\",\"Visited\":\"AddCountry_Visited__1_i9u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ThemeSongContainer\":\"ChangeThemeSong_ThemeSongContainer__mdwOF\",\"MoodDescription\":\"ChangeThemeSong_MoodDescription__1jshx\",\"Heading\":\"ChangeThemeSong_Heading__2Fsu1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NotFound\":\"NotFoundPage_NotFound__3VSom\",\"Text\":\"NotFoundPage_Text__fHzhN\",\"SubText\":\"NotFoundPage_SubText__1sor2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PostCreateEditForm_Container__2WHuV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"AddTrip_Form__2VDqC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Map_Header__1YJVC\",\"Map\":\"Map_Map__qDOKf\",\"MapContainer\":\"Map_MapContainer__4VHk-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"ThemeSong_Container__2TGo7\",\"Hidden\":\"ThemeSong_Hidden__1r6Qo\",\"Button\":\"ThemeSong_Button__1m89-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"EditPrefContainer\":\"TravelPreferenceEditForm_EditPrefContainer__IFr_a\",\"EditPrefError\":\"TravelPreferenceEditForm_EditPrefError__1M7sH\",\"EditPrefHeading\":\"TravelPreferenceEditForm_EditPrefHeading__3Sp05\",\"EditPrefForm\":\"TravelPreferenceEditForm_EditPrefForm__3wlBG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__196lW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Owner\":\"Comment_Owner__3sgYe\",\"Date\":\"Comment_Date__10qt0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card\":\"Trip_Card__13kqS\",\"Soon\":\"Trip_Soon__22bdt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Confirmation_Container__2-DX3\",\"Header\":\"Confirmation_Header__3YwN3\"};","import React, { useState, useEffect, useMemo } from \"react\";\nimport axios from \"axios\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport BtnStyle from \"../../styles/Button.module.css\";\n\nexport default function AddTravelPreferences() {\n  const currentUser = useCurrentUser();\n  const history = useHistory();\n  // State for form submission status (to handle loading state)\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  // State to track if the user already has travel preferences\n  const [preferenceExists, setPreferenceExists] = useState(false);\n\n  const [formData] = useState({\n    preferred_continent: \"ANY\",\n    climate: \"ANY\",\n    activity: \"ANY\",\n    budget: \"ANY\",\n    travel_style: \"ANY\",\n    duration: \"ANY\",\n  });\n\n  const { id } = useParams();\n  const [profile, setProfile] = useState(null);\n  // Fetch profile data based on the user ID from the URL params\n  useEffect(() => {\n    axios\n      .get(`/profiles/${id}`)\n      .then((response) => setProfile(response.data))\n      .catch(() => {/*Silently ignore the error or handle it silently */} );\n  }, [id]);\n  /**\n   * Check if the current user is the owner of the profile.\n   * This ensures that only the profile owner can add travel preferences.\n   */\n  const isOwner = useMemo(\n    () => currentUser?.username === profile?.owner,\n    [currentUser, profile?.owner]\n  );\n  // Check if the current user already has travel preferences\n  useEffect(() => {\n    if (currentUser?.pk) {\n      axios\n        .get(`/travel-preference/`)\n        .then((response) => {\n          if (response.data) {\n            setPreferenceExists(true); // Mark that preferences exist\n          }\n        })\n        .catch(() => {\n         // eslint-disable-next-line no-empty\n        });\n    }\n  }, [currentUser]);\n\n  /**\n   * Handles form submission by posting the default preferences for the user.\n   * If the user already has travel preferences, an alert is shown.\n   * Redirects to a confirmation page after successfully creating preferences.\n   */\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!currentUser) {\n      history.push(\"/signin\");\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      if (preferenceExists) {\n        alert(\"You already have travel preferences.\");\n        return;\n      }\n\n      // Post the default \"ANY\" preferences for the user\n      await axios.post(`/travel-preference/`, formData);\n      history.push(\"/confirmation\");\n    } catch  {\n      // Silently ignore the error or handle it silently\n    } finally {\n      setIsSubmitting(false); // Reset submission state\n    }\n  };\n  // Render the form only if the current user is the owner of the profile\n  return (\n    <div className=\"text-center\">\n      {isOwner ? (\n        <form onSubmit={handleSubmit}>\n          <button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className={BtnStyle.Button}\n          >\n            Add your Travel Preferences\n          </button>\n        </form>\n      ) : (\n        <></> // Render nothing if the user is not the owner\n      )}\n    </div>\n  );\n}\n","module.exports = __webpack_public_path__ + \"static/media/reg_img.d8104fd7.webp\";","module.exports = __webpack_public_path__ + \"static/media/sign_in_img.711b2d28.webp\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__1dBcX\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUmSURBVHgB7Z1NbxtFGMf/M7Nre3HitElRoLIlDiBFFbdIVKVCKh+AU8sXqNo7Uk+cEOJKvwEfAAV6KhfEASREoyJya0tQg1TJbqUc6qS1E6/3bZixcbp2nZdN7J3d5vlJq/V6d63o+e28O34YToiUkn0KiA3Ant8Ed1oQXQs85GC+AC+z/j5+j+1CIIP4JYTxYy94dVzyEXplBFYEubuIoAqEv6qNMSZxAhgSogNeU3/PuScoRg4KWQ1matjwQw+BY6FbrcL7gbEwye1HFnBBysLMU8yGAQog9mXHgndWYne1xjpHuf5QART441FU1de2i+1HHzLvoOsOFLD8l5zDObwF4ti0XbT/WWKt/c6PFaDr+YtPMU9P/WTY6cBbX0ITYxpsPu4GCv5kKavOytI65sede03A5XVJ9f0U0BLefywro+8PCdANrlvCDIipMGejfOGBHHq4hwSc+RdnQEyVSGA2frwn4FJdOmoEe7oHVSmgq6J4KdgTEDLqbqZFvBT0BHwupaCGNz10KVB9/d4QoCeg0aDgp021gZLe9wR0AhRBpMpiuf/Q9wSwQM3pEaniN/sPPcdXknMbFohUsXWPU7UDfPkz6nqa4opayOLPF0iAKTYasHnFIQGmWFTLtjzgyZcliclQKqgqyKHpB2O4ApyLXeoBmUJN/zAOwhheW5UAEMZQ7S/n7mn/Xo9BSh0qAcYhAYYhAYbhNo0DjKFjTyXAMCTAMCTAMCTAMCTAMLkVEESo+R7u6y3kqCKn5FKADr4M8CMkanqLXNzJq4TcCRgK/oAcS8iVgJHg12On6nmVkBsBo8HnFq4Ozqk11WvIqYRcCBgXfCHQGJy3iqjnVULmBRwW/AF5lZB5AdLHjcOCP+A1CV3cQsbJ/IK8sLASRqiopaPbBwV/gJYQdHEtAm5YEVaQcdjyE/kucorfxTO9t4s4j5xCUxGGIQGGIQGGIQGGIQGGIQGGyZSArZs/3dcbpsS0P/84ZGogJkNZS3hLPcnFx/j8qZPrr6arAdhF5BxqAwxDAgxDAgyTSQHt359VcErIlABmi3t6H9x5eBMTxFdCt7/4pbc2IAV7iAyRqV6QeG/udvC4+XH00r3VvH53Kosp/J25b5EhMlUCKl9eXrVqlevMmvxTymx+z/pg/urZbz75GRki1wsybwLUCzIMCTAMCTAMCTAMCTAM9wMkyvhATA4deyoBhiEBhiEBhuFC4kRpmIjjExQRcNtBBMIYXGxTCTAJ985TN9QUTll1Q63nVAJM0dHjgM4slQBTOD4i3vSpETbFC1X988VNBCCMoDOy8rW7VAWZ4jctAF+ziCbk0qdlw9epDXtTEfY8uiBSZdZVAvD/XNDmDjwQqbJZ6Me8n0XpOyoBadNY7QvYyx3w0d9yIXQonVUadAS6j2qsqV/vTUe3Q7RApMJL5WDwek+ATr0tOtQWTBvd42zE8s0PLchQKZg+gYvt+PGQAF0KLB87IKZCp42WjnH8vbEJfKhBnjzxhjfO2DXhP7/HFrUHk6MX/Cq2xp07MIXVlQdypjUznAGaSEapjPYfb7N929ZDc4jp7M9WCWfoZ+6ToZ96vEB7tM4f5chJ3Kp16dTUGoIXUurbgzhq4Ackz6K3IkX1EgqLnmqkS9Bzeqc6FW6kv1qyC0/P7TSqcPUMZ5L7T57GUEq2vAZLJwXtOBALHMxpQRQKr6osd6T64t1s/oe+Dmb8mEeQhQhRW+8DRKUKoo0Qka1WEfVC1tqyuj5hwEf5D7ZH39OOpDxXAAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"airplane\":\"Loading_airplane__1Sr97\",\"fly\":\"Loading_fly__IQo-v\",\"fadeInAndMove\":\"Loading_fadeInAndMove__1HNLV\"};","module.exports = __webpack_public_path__ + \"static/media/recommendation-bg.8d2508f4.webp\";","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { ListGroup, Container } from \"react-bootstrap\";\nimport styles from \"../../styles/TravelRecommendation.module.css\";\n\nexport default function TravelRecommendation() {\n  const currentUser = useCurrentUser();\n  const [recommendation, setRecommendation] = useState();\n\n  useEffect(() => {\n    if (currentUser) {\n      axios\n        .get(\"/travel-recommendation/\")\n        .then((response) => {\n          setRecommendation(response.data);\n        })\n        .catch(() => {\n         // Silently ignore the error - keep comment to avoid parsing error \n        });\n    }\n  }, [currentUser]);\n\n  // Capitalize the first letter of each word in a city name\n  const capitalize = (str) => str.charAt(0).toUpperCase() + str.slice(1);\n\n  return (\n    <Container className={styles.Container}>\n      <h4 className={styles.Heading}>Places You May Enjoy</h4>\n\n      {recommendation && recommendation.results.length > 0 ? (\n        // Display recommended destinations\n        <ListGroup horizontal=\"md\" className={styles.ListContainer}>\n          {recommendation.results[0].recommended_destination.map(\n            (destination, index) => (\n              <ListGroup.Item key={index} className={styles.ListItem}>\n                {capitalize(destination)}\n              </ListGroup.Item>\n            )\n          )}\n        </ListGroup>\n      ) : (\n        <p className={styles.NoData}>No recommendations available.</p>\n      )}\n    </Container>\n  );\n}\n","module.exports = __webpack_public_path__ + \"static/media/landing_page.c8f39d64.webp\";","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\n\nexport const useRedirect = (userAuthStatus) => {\n  const history = useHistory();\n\n  useEffect(() => {\n    const handleMount = async () => {\n      try {\n        await axios.post(\"/dj-rest-auth/token/refresh/\");\n        // if user is logged in, the code below will run\n        if (userAuthStatus === \"loggedIn\") {\n          history.push(\"/\");\n        }\n      } catch (err) {\n        // if user is not logged in, the code below will run\n        if (userAuthStatus === \"loggedOut\") {\n          history.push(\"/\");\n        }\n      }\n    };\n\n    handleMount();\n  }, [history, userAuthStatus]);\n};\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport styles from \"../../styles/SignInUpForm.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport reg_img from \"../../assets/reg_img.webp\";\nimport {\n  Form,\n  Button,\n  Col,\n  Image,\n  Row,\n  Container,\n  Alert,\n} from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\nconst SignUpForm = () => {\n  // Use the custom hook to redirect if already logged in\n  useRedirect(\"loggedIn\");\n  const [signUpData, setSignUpData] = useState({\n    username: \"\",\n    password1: \"\",\n    password2: \"\",\n  });\n  const { username, password1, password2 } = signUpData;\n\n  const [errors, setErrors] = useState({});\n  const history = useHistory();\n  // Function to validate fields onChange\n  const validateField = (name, value) => {\n    setErrors((prevErrors) => {\n      const newErrors = { ...prevErrors };\n      // Validate username\n      if (name === \"username\" && value.trim() === \"\") {\n        newErrors.username = [\"Username cannot be empty.\"];\n      } else {\n        delete newErrors.username;\n      }\n      // Validate password 1\n      if (name === \"password1\" && value.length < 8) {\n        newErrors.password1 = [\"Password must be at least 8 characters long.\"];\n      } else {\n        delete newErrors.password1;\n      }\n      // Validate password 2\n      if (name === \"password2\" && value !== password1) {\n        newErrors.password2 = [\"Passwords must match.\"];\n      } else {\n        delete newErrors.password2;\n      }\n\n      return newErrors;\n    });\n  };\n  // Handle input field changes\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setSignUpData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n    validateField(name, value);\n  };\n  // Handle form submission\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axios.post(\"/dj-rest-auth/registration/\", signUpData);\n      history.push(\"/signin\");\n    } catch (err) {\n      setErrors(err.response?.data || {});\n    }\n  };\n\n  return (\n    <Container className={styles.Container} fluid>\n      <Row className={styles.Row}>\n        <Col className=\"my-auto py-2 p-md-2 d-flex align-items-center\" md={6}>\n          <Container className={`${appStyles.Content} p-4`}>\n            <h1 className={styles.Header}>Sign Up</h1>\n\n            <Form onSubmit={handleSubmit}>\n              <Form.Group controlId=\"username\" className=\"mt-3\">\n                {/* Username input field */}\n                <Form.Label className=\"d-none\">Username</Form.Label>\n                <Form.Control\n                  className={styles.Input}\n                  type=\"text\"\n                  placeholder=\"Username\"\n                  name=\"username\"\n                  value={username}\n                  onChange={handleChange}\n                  aria-label=\"Username\"\n                />\n              </Form.Group>\n              {/* Display username error messages if present */}\n              {errors.username?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\">\n                  {message}\n                </Alert>\n              ))}\n              {/* Password input field */}\n              <Form.Group controlId=\"password1\" className=\"mt-3\">\n                <Form.Label className=\"d-none\">Password</Form.Label>\n                <Form.Control\n                  className={styles.Input}\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  name=\"password1\"\n                  value={password1}\n                  onChange={handleChange}\n                  aria-label=\"Password1\"\n                />\n              </Form.Group>\n              {/* Display password1 error messages if present */}\n              {errors.password1?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\">\n                  {message}\n                </Alert>\n              ))}\n              {/* Confirm Password input field */}\n              <Form.Group controlId=\"password2\" className=\"mt-3\">\n                <Form.Label className=\"d-none\">Confirm Password</Form.Label>\n                <Form.Control\n                  className={styles.Input}\n                  type=\"password\"\n                  placeholder=\"Confirm Password\"\n                  name=\"password2\"\n                  value={password2}\n                  onChange={handleChange}\n                  aria-label=\"Password2\"\n                />\n              </Form.Group>\n              {/* Display password2 error messages if present */}\n              {errors.password2?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\">\n                  {message}\n                </Alert>\n              ))}\n              {/* Submit Button */}\n              <Button\n                className={`${btnStyles.Button} ${btnStyles.Wide} mt-3`}\n                type=\"submit\"\n                disabled={Object.keys(errors).length > 0}\n              >\n                Sign Up\n              </Button>\n              {/* Display non-field error messages (e.g., email already in use) */}\n              {errors.non_field_errors?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\" className=\"mt-3\">\n                  {message}\n                </Alert>\n              ))}\n            </Form>\n          </Container>\n        </Col>\n        {/* Image Column for larger screens */}\n        <Col\n          md={6}\n          className=\"d-none d-md-flex align-items-center justify-content-center\"\n        >\n          <Image\n            className={appStyles.FillerImageRegister}\n            src={reg_img}\n            fluid\n            alt=\"signup\"\n          />\n        </Col>\n        {/* Link to sign in page */}\n        <Container className=\"mt-3\">\n          <Link className={`${styles.Link} ${styles.SignInLink}`} to=\"/signin\">\n            Already have an account? Sign in\n          </Link>\n        </Container>\n      </Row>\n    </Container>\n  );\n};\n\nexport default SignUpForm;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Form from \"react-bootstrap/Form\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\nimport Container from \"react-bootstrap/Container\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport styles from \"../../styles/SignInUpForm.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport image from \"../../assets/sign_in_img.webp\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\nimport { setTokenTimestamp } from \"../../utils/utils\";\n\nfunction SignInForm() {\n  const setCurrentUser = useSetCurrentUser();\n  useRedirect(\"loggedIn\");\n\n  const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  const { username, password } = signInData;\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n  // Validates individual fields on change\n  const validateField = (name, value) => {\n    setErrors((prevErrors) => {\n      const newErrors = { ...prevErrors };\n\n      if (name === \"username\") {\n        if (value.trim() === \"\") {\n          newErrors.username = [\"Username cannot be empty.\"];\n        } else {\n          delete newErrors.username;\n        }\n      }\n\n      if (name === \"password\") {\n        if (value.length < 8) {\n          newErrors.password = [\"Password must be at least 8 characters long.\"];\n        } else {\n          delete newErrors.password;\n        }\n      }\n\n      return newErrors;\n    });\n  };\n  // Handles input changes and triggers field validation\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setSignInData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n\n    validateField(name, value);\n  };\n  // Submits the login form\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    // Final validation before submit\n    const newErrors = {};\n    if (!username.trim()) newErrors.username = [\"Username cannot be empty.\"];\n    if (!password.trim()) newErrors.password = [\"Password cannot be empty.\"];\n\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      return;\n    }\n\n    try {\n      const { data } = await axios.post(\"/dj-rest-auth/login/\", signInData);\n      setCurrentUser(data.user);\n      setTokenTimestamp(data);\n      history.push(\"/map\");\n    } catch (err) {\n      // Handles and formats error messages from API\n      if (err.response?.data) {\n        const formattedErrors = { ...err.response.data };\n        if (\n          formattedErrors.username?.includes(\"This field may not be blank.\")\n        ) {\n          formattedErrors.username = [\"Username cannot be empty.\"];\n        }\n        if (\n          formattedErrors.password?.includes(\"This field may not be blank.\")\n        ) {\n          formattedErrors.password = [\"Password cannot be empty.\"];\n        }\n\n        setErrors(formattedErrors);\n      }\n    }\n  };\n\n  return (\n    <Container fluid>\n      <Row className={styles.Row}>\n        <Col className=\"my-auto p-0 p-md-2\" md={6}>\n          <Container className={`${appStyles.Content} p-4`}>\n            <h1 className={styles.Header}>Sign In</h1>\n            <Form onSubmit={handleSubmit}>\n              {/* Username input */}\n              <Form.Group controlId=\"username\" className=\"mt-3\">\n                <Form.Label className=\"d-none\">Username</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Username\"\n                  name=\"username\"\n                  className={styles.Input}\n                  value={username}\n                  onChange={handleChange}\n                  aria-label=\"Username\"\n                />\n              </Form.Group>\n              {/* Display username validation errors */}\n              {errors.username?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\">\n                  {message}\n                </Alert>\n              ))}\n              {/* Password input */}\n              <Form.Group controlId=\"password\" className=\"mt-3\">\n                <Form.Label className=\"d-none\">Password</Form.Label>\n                <Form.Control\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  name=\"password\"\n                  className={styles.Input}\n                  value={password}\n                  onChange={handleChange}\n                  aria-label=\"Password\"\n                />\n              </Form.Group>\n              {/* Display password validation errors */}\n              {errors.password?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\">\n                  {message}\n                </Alert>\n              ))}\n\n              <Button\n                className={`${btnStyles.Button} ${btnStyles.Wide} mt-3`}\n                type=\"submit\"\n                disabled={errors.username || errors.password}\n              >\n                Sign in\n              </Button>\n              {/* General login errors (e.g., incorrect credentials) */}\n              {errors.non_field_errors?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\" className=\"mt-3\">\n                  {message}\n                </Alert>\n              ))}\n            </Form>\n          </Container>\n          {/* Link to sign up page */}\n          <Container className=\"mt-3\">\n            <Link className={styles.Link} to=\"/signup\">\n              Don&apos;t have an account? Sign up now!\n            </Link>\n          </Container>\n        </Col>\n        {/* Sign-in image (visible on larger screens) */}\n        <Col\n          md={6}\n          className={`my-auto d-none d-md-block p-2 ${styles.SignInCol}`}\n        >\n          <Image\n            className={`${appStyles.FillerImage}`}\n            src={image}\n            alt=\"signin\"\n          />\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default SignInForm;\n","import { useEffect, useRef, useState } from \"react\";\n\nconst useClickOutsideToggle = () => {\n  const [expanded, setExpanded] = useState(false);\n  const ref = useRef(null);\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (ref.current && !ref.current.contains(event.target)) {\n        setExpanded(false);\n      }\n    };\n\n    document.addEventListener(\"mouseup\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mouseup\", handleClickOutside);\n    };\n  }, [ref]);\n\n  return { expanded, setExpanded, ref };\n};\n\nexport default useClickOutsideToggle;\n","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\nimport styles from \"../styles/Asset.module.css\";\n\nconst Asset = ({ spinner, src, message }) => {\n  return (\n    <div className={`${styles.Asset} p-4`}>\n      {spinner && <Spinner animation=\"border\" />}\n      {src && <img src={src} alt={message} />}\n      {message && <p className=\"mt-4\">{message}</p>}\n    </div>\n  );\n};\n\nexport default Asset;\n","import React, { useState } from \"react\";\nimport styles from \"../styles/Avatar.module.css\";\nimport Asset from \"./Asset\";\n\nconst Avatar = ({ src, height = 45, text }) => {\n  const [loading, setLoading] = useState(true);\n\n  const handleImageLoad = () => {\n    setLoading(false);\n  };\n\n  return (\n    <span className={styles.AvatarContainer}>\n      {loading && <Asset spinner message=\"Loading...\" />}\n      {text}\n      <img\n        className={styles.Avatar}\n        src={src}\n        height={height}\n        width={height}\n        alt=\"avatar\"\n        onLoad={handleImageLoad}\n        style={loading ? { visibility: \"hidden\" } : {}}\n      />\n    </span>\n  );\n};\n\nexport default Avatar;\n","import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport styles from \"../styles/NavBar.module.css\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../contexts/CurrentUserContext\";\nimport axios from \"axios\";\nimport useClickOutsideToggle from \"../hooks/useClickOutsideToggle\";\nimport Avatar from \"./Avatar\";\nimport { removeTokenTimestamp } from \"../utils/utils\";\n\nconst NavBar = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n  const history = useHistory();\n  // Custom hook to handle collapsing the navbar when clicking outside\n  const { expanded, setExpanded, ref } = useClickOutsideToggle();\n\n  // Handle user logout\n  const handleSignOut = async () => {\n    try {\n      await axios.post(\"/dj-rest-auth/logout/\");\n      setCurrentUser(null);\n      removeTokenTimestamp();\n      history.push(\"/\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  // Links shown when a user is logged in\n  const loggedInLinks = (\n    <>\n      <NavLink\n        exact\n        to=\"/\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Home\n      </NavLink>\n      <NavLink\n        to=\"/map\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Map\n      </NavLink>\n      <NavLink\n        to=\"/feed\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Posts\n      </NavLink>\n      <NavLink\n        to=\"/travelers\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Travelers\n      </NavLink>\n      <NavLink\n        to=\"/trip/\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Trips\n      </NavLink>\n      <NavLink to=\"/\" onClick={handleSignOut} className={styles.NavLink}>\n        Logout\n      </NavLink>\n      <NavLink\n        to={`/profiles/${currentUser?.profile_id}`}\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        {currentUser?.username}\n      </NavLink>\n      <Avatar src={currentUser?.profile_image} height={45} />\n    </>\n  );\n  // Links shown when no user is logged in\n  const loggedOutLinks = (\n    <>\n      <NavLink\n        exact\n        to=\"/\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Home\n      </NavLink>\n      <NavLink\n        to=\"/signin\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Login\n      </NavLink>\n      <NavLink\n        to=\"/signup\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Register\n      </NavLink>\n    </>\n  );\n\n  return (\n    <Navbar\n      expanded={expanded}\n      expand=\"md\"\n      className={`${styles.NavBar} shadow`}\n      fixed=\"top\"\n    >\n      <Container fluid>\n        {/* Hamburger toggle for mobile view */}\n        <Navbar.Toggle\n          ref={ref}\n          onClick={() => setExpanded(!expanded)}\n          aria-controls=\"basic-navbar-nav\"\n        />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ms-auto\">\n            {/* Show different links based on user login status */}\n            {currentUser ? loggedInLinks : loggedOutLinks}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","import React from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport styles from \"../styles/LandingPageText.module.css\";\nimport btnStyles from \"../styles/Button.module.css\";\nimport { Link } from \"react-router-dom/cjs/react-router-dom\";\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\n\nfunction LandingPageText() {\n  const currentUser = useCurrentUser();\n  return (\n    <Container className={styles.Container}>\n      <Row className={styles.HeroRow}>\n        <Col>\n          <h1 className={styles.Heading}>\n            Explore the World, Share Your Adventures\n          </h1>\n          <p className={styles.Subheading}>\n            Connect with travelers, share memories, and get recommendations for\n            your next journey.\n          </p>\n          {/* Show 'Start Your Journey' button only if the user is not logged in */}\n          {!currentUser && (\n            <Link to=\"/signup\" className={btnStyles.Button}>\n              Start Your Journey\n            </Link>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default LandingPageText;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  ComposableMap,\n  Geographies,\n  Geography,\n  ZoomableGroup,\n} from \"react-simple-maps\";\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"../../styles/Map.module.css\";\n\n// GeoJSON URL for world map data\nconst geoUrl = \"https://unpkg.com/world-atlas@2.0.2/countries-110m.json\";\n\nexport default function Map() {\n  // State to store the count of posts per country\n  const [countryPosts, setCountryPosts] = useState({});\n\n  useEffect(() => {\n    const fetchPostCounts = async () => {\n      try {\n        // Make an API request to fetch the post counts per country\n        const { data } = await axiosReq.get(\"/posts/\");\n        const postCounts = data.country_post_counts || {}; // Retrieve post counts from response\n        setCountryPosts(postCounts);\n      } catch (err) {\n        // Silently ignore the error - keep comment to avoid parsing error\n      }\n    };\n    fetchPostCounts();\n  }, []);\n\n  return (\n    <div className={styles.MapContainer}>\n      <h3 className={styles.Header}>See Where Users Are Posting From</h3>\n      <ComposableMap\n        tabIndex={-1}\n        projectionConfig={{\n          center: [0, 0],\n          scale: 150,\n        }}\n        className={styles.Map}\n      >\n        <ZoomableGroup minZoom={0.5} maxZoom={3} enablePan={true}>\n          {/* Render the countries on the map */}\n          <Geographies geography={geoUrl}>\n            {({ geographies }) =>\n              geographies.map((geo) => {\n                // Map over all the countries in the GeoJSON data\n                const countryName = geo.properties.name;\n                const postCount = countryPosts[countryName] || 0;\n\n                return (\n                  // OverlayTooltip: Shows the country name and post count when hovered\n                  <OverlayTrigger\n                    key={geo.rsmKey}\n                    placement=\"top\"\n                    overlay={\n                      <Tooltip id={`tooltip-${geo.rsmKey}`}>\n                        {countryName} - {postCount}{\" \"}\n                        {postCount < 2 ? \"post\" : \"posts\"}\n                      </Tooltip>\n                    }\n                  >\n                    {/* Render each country with different styles based on post count */}\n                    <Geography\n                      geography={geo}\n                      focusable={false}\n                      style={{\n                        default: {\n                          fill: postCount > 0 ? \"#00BAE2\" : \"#ECEFF1\",\n                          stroke: \"#607D8B\",\n                          strokeWidth: 0.5,\n                          outline: \"none\",\n                        },\n                        hover: {\n                          fill: \"#00BAE2\",\n                          stroke: \"#000\",\n                          strokeWidth: 1,\n                        },\n                        pressed: {\n                          stroke: \"#000\",\n                          strokeWidth: 0,\n                          outline: \"none\",\n                        },\n                      }}\n                    />\n                  </OverlayTrigger>\n                );\n              })\n            }\n          </Geographies>\n        </ZoomableGroup>\n      </ComposableMap>\n    </div>\n  );\n}\n","import React, { useRef, useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Image from \"react-bootstrap/Image\";\nimport Asset from \"../../components/Asset\";\nimport axios from \"axios\";\nimport Upload from \"../../assets/upload.png\";\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport { useHistory } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\nfunction PostCreateForm() {\n  // Redirect logged-out users to login\n  useRedirect(\"loggedOut\");\n  const [errors, setErrors] = useState({});\n\n  const [postData, setPostData] = useState({\n    title: \"\",\n    content: \"\",\n    image: \"\",\n    country: \"\",\n  });\n\n  const { title, content, image, country } = postData;\n  // Holds the list of countries for the dropdown\n  const [countries, setCountries] = useState([]);\n  const imageInput = useRef(null);\n  const history = useHistory();\n\n  useEffect(() => {\n    // Fetch list of countries for the country dropdown\n    const fetchCountries = async () => {\n      try {\n        const { data } = await axios.get(\"/countries/\");\n        setCountries(data);\n      } catch (error) {\n        // Silently ignore the error - keep comment to avoid parsing error \n      }\n    };\n\n    fetchCountries();\n  }, []);\n  // Update form field values and clear any related errors\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setPostData((prevData) => ({\n      ...prevData,\n      [name]: value,\n    }));\n\n    setErrors((prevErrors) => ({\n      ...prevErrors,\n      [name]: undefined,\n    }));\n  };  \n  // Update the image preview when a new image is selected\n  const handleChangeImage = (event) => {\n    if (event.target.files.length) {\n      URL.revokeObjectURL(image);\n      setPostData({\n        ...postData,\n        image: URL.createObjectURL(event.target.files[0]),\n      });\n    }\n  };\n  // Submit the form \n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"title\", title);\n    formData.append(\"content\", content);\n    if (imageInput.current.files[0]) {\n      formData.append(\"image\", imageInput.current.files[0]);\n    }\n    formData.append(\"country\", country);\n\n    try {\n      const { data } = await axiosReq.post(\"/posts/\", formData);\n      history.push(`/posts/${data.id}`);\n    } catch (err) {\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n  // Form fields for title, content, and country selection\n  const textFields = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label>Title</Form.Label>\n        <Form.Control\n          type=\"text\"\n          name=\"title\"\n          value={title}\n          onChange={handleChange}\n          aria-label=\"title\"\n        />\n      </Form.Group>\n      {errors?.title && <Alert variant=\"warning\">{errors.title[0]}</Alert>}\n\n      <Form.Group>\n        <Form.Label>Content</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          rows={6}\n          name=\"content\"\n          value={content}\n          onChange={handleChange}\n          aria-label=\"content\"\n        />\n      </Form.Group>\n      {errors?.content && <Alert variant=\"warning\">{errors.content[0]}</Alert>}\n\n      <Form.Group>\n        <Form.Label>Country</Form.Label>\n        <Form.Control\n          as=\"select\"\n          name=\"country\"\n          value={country}\n          onChange={handleChange}\n          required\n          aria-label=\"country\"\n        >\n          <option value=\"\">Select a country</option>\n          {countries.map((c) => (\n            <option key={c.code} value={c.code}>\n              {c.name}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      <Button\n        className={`${btnStyles.Button} ${btnStyles.Wide} mt-3`}\n        type=\"submit\"\n      >\n        Create\n      </Button>\n      <Button\n        className={`${btnStyles.Button} ${btnStyles.Wide} mt-3`}\n        onClick={() => history.goBack()}\n      >\n        Cancel\n      </Button>\n    </div>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\n          <Container\n            className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\n          >\n            <Form.Group className=\"text-center\">\n              {/* Display image preview if image is selected, otherwise show upload icon */}\n              {image ? (\n                <>\n                  <figure>\n                    <Image className={appStyles.Image} src={image} rounded />\n                  </figure>\n                  <div>\n                    <Form.Label\n                      className={`${btnStyles.Button} btn`}\n                      htmlFor=\"image-upload\"\n                    >\n                      Change the image\n                    </Form.Label>\n                  </div>\n                </>\n              ) : (\n                <Form.Label\n                  className=\"d-flex justify-content-center\"\n                  htmlFor=\"image-upload\"\n                >\n                  <Asset\n                    src={Upload}\n                    message=\"Click or tap to upload an image\"\n                  />\n                </Form.Label>\n              )}\n\n              <Form.File\n                id=\"image-upload\"\n                accept=\"image/*\"\n                onChange={handleChangeImage}\n                ref={imageInput}\n              />\n            </Form.Group>\n            {errors?.image && (\n              <Alert variant=\"warning\">{errors.image[0]}</Alert>\n            )}\n\n            <div className=\"d-md-none\">{textFields}</div>\n          </Container>\n        </Col>\n        <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\n          <Container className={appStyles.Content}>{textFields}</Container>\n        </Col>\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostCreateForm;\n","import React from \"react\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport styles from \"../styles/MoreDropdown.module.css\";\n\n// The forwardRef is important!!\n// Dropdown needs access to the DOM node in order to position the Menu\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\n  <i\n    className={`fas fa-ellipsis-v ${styles.Dot}`}\n    ref={ref}\n    onClick={(e) => {\n      e.preventDefault();\n      onClick(e);\n    }}\n  />\n));\n\n// Set the display name for the component due to eslint error\nThreeDots.displayName = \"ThreeDots\";\n\nexport const MoreDropdown = ({ handleEdit, handleDelete }) => {\n  return (\n    <Dropdown className=\"ml-auto\" drop=\"left\">\n      <Dropdown.Toggle as={ThreeDots} />\n\n      <Dropdown.Menu\n        className=\"text-center\"\n        popperConfig={{ strategy: \"fixed\" }}\n      >\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleEdit}\n          aria-label=\"edit\"\n        >\n          <i className={`fas fa-edit ${styles.Icon}`} />\n        </Dropdown.Item>\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleDelete}\n          aria-label=\"delete\"\n        >\n          <i className={`fas fa-trash-alt ${styles.Icon}`} />\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};\n","import React, { useState } from \"react\";\nimport styles from \"../../styles/Post.module.css\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { Card, Col, Modal, Button } from \"react-bootstrap\";\nimport Media from \"react-bootstrap/Media\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\nimport iconStyles from \"../../styles/MoreDropdown.module.css\";\nimport Avatar from \"../../components/Avatar\";\n\nconst Post = (props) => {\n  const {\n    id,\n    owner,\n    profile_id,\n    profile_image,\n    comments_count,\n    country_name,\n    title,\n    content,\n    image,\n    created_at,\n    postPage,\n  } = props;\n\n  const currentUser = useCurrentUser();\n  const is_owner = currentUser?.username === owner;\n  const history = useHistory();\n\n  // State to handle modal visibility\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n\n  const handleEdit = () => {\n    history.push(`/posts/${id}/edit`);\n  };\n\n  const handleDelete = async () => {\n    try {\n      await axiosRes.delete(`/posts/${id}/`);\n      history.goBack();\n    } catch (err) {\n     // Silently ignore the error - keep comment to avoid parsing error \n    }\n  };\n\n  // Show/Hide delete confirmation modal\n  const handleShowDeleteModal = () => setShowDeleteModal(true);\n\n  const handleCloseDeleteModal = () => setShowDeleteModal(false);\n\n  return (\n    <Col xs={10} sm={8} md={7} lg={8}>\n      <Card className={styles.Post}>\n        <Card.Body>\n          <Media className=\"align-items-center justify-content-between\">\n            <div className=\"d-flex align-items-center\">\n              {/* Show dropdown only if owner and on individual post page */}\n              {is_owner && postPage && (\n                <MoreDropdown\n                  handleEdit={handleEdit}\n                  handleDelete={handleShowDeleteModal}\n                />\n              )}\n              <span>\n                {created_at} - {country_name}\n              </span>\n            </div>\n            <Link to={`/profiles/${profile_id}`} className={styles.Profile}>\n              <Avatar src={profile_image} />\n              <span className={styles.User}>{owner}</span>\n            </Link>\n          </Media>\n        </Card.Body>\n        {/* Post Image with link to post detail */}\n        <Link to={`/posts/${id}/`}>\n          <Card.Img\n            src={image}\n            alt={title}\n            loading=\"lazy\"\n            className={styles.Image}\n          />\n        </Link>\n        {/* Post Title and Content */}\n        <Card.Body>\n          {title && <Card.Title className=\"text-center\">{title}</Card.Title>}\n          {content && (\n            <Card.Text>\n              <p className={styles.Content}>{content}</p>\n            </Card.Text>\n          )}\n          {/* Comments Icon and Count */}\n          <Link to={`/posts/${id}/`} aria-label=\"Comment this post\">\n            <i className={`far fa-comments ${iconStyles.Icon}`} />\n            <p className={styles.Hidden}>hidden text</p>\n          </Link>\n          {comments_count}\n        </Card.Body>\n      </Card>\n      {/* Delete Confirmation Modal */}\n      <Modal show={showDeleteModal} onHide={handleCloseDeleteModal}>\n        <Modal.Header closeButton>\n          <Modal.Title>Delete Post</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>Are you sure you want to delete this post?</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleCloseDeleteModal}>\n            Cancel\n          </Button>\n          <Button variant=\"danger\" onClick={handleDelete}>\n            Delete\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Col>\n  );\n};\n\nexport default Post;\n","import React, { useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\n\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\n\nfunction CommentEditForm(props) {\n  const { id, content, setShowEditForm, setComments } = props;\n\n  const [formContent, setFormContent] = useState(content);\n  // Handle changes in the textarea input\n  const handleChange = (event) => {\n    setFormContent(event.target.value);\n  };\n  // Handle form submission\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosRes.put(`/comments/${id}/`, {\n        content: formContent.trim(), // Trim the content before updating\n      });\n      // Update the comments state to reflect the updated comment\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: prevComments.results.map((comment) => {\n          return comment.id === id\n            ? {\n                ...comment,\n                content: formContent.trim(),\n                updated_at: \"now\",\n              }\n            : comment;\n        }),\n      }));\n      setShowEditForm(false);\n    } catch (err) {\n      // Silently ignore the error - keep comment to avoid parsing error\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group className=\"pr-1\">\n        <Form.Control\n          className={styles.Form}\n          as=\"textarea\"\n          value={formContent}\n          onChange={handleChange}\n          rows={2}\n        />\n      </Form.Group>\n      <div className=\"text-right\">\n        {/* Cancel button to close the edit form without saving */}\n        <button\n          className={styles.Button}\n          onClick={() => setShowEditForm(false)}\n          type=\"button\"\n        >\n          Cancel\n        </button>\n        {/* Save button to submit the edited content */}\n        <button\n          className={styles.Button}\n          disabled={!content.trim()}\n          type=\"submit\"\n        >\n          Save\n        </button>\n      </div>\n    </Form>\n  );\n}\n\nexport default CommentEditForm;\n","import React, { useState } from \"react\";\nimport { Media, Modal, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Avatar from \"../../components/Avatar\";\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\nimport styles from \"../../styles/Comment.module.css\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport CommentEditForm from \"./CommentEditForm\";\n\nconst Comment = (props) => {\n  const {\n    profile_id,\n    profile_image,\n    owner,\n    updated_at,\n    content,\n    id,\n    setPost,\n    setComments,\n  } = props;\n\n  const currentUser = useCurrentUser();\n  const is_owner = currentUser?.username === owner;\n  const [showEditForm, setShowEditForm] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  // Function to handle comment deletion\n  const handleDelete = async () => {\n    try {\n      await axiosRes.delete(`/comments/${id}/`);\n\n      if (setPost) {\n        setPost((prevPost) => ({\n          results:\n            prevPost?.results?.map((post) => ({\n              ...post,\n              comments_count: Math.max(0, post.comments_count - 1),\n            })) || [],\n        }));\n      }\n      // If comments data is being updated, remove the deleted comment from the list\n      if (setComments) {\n        setComments((prevComments) => ({\n          ...prevComments,\n          results:\n            prevComments?.results?.filter((comment) => comment.id !== id) || [],\n        }));\n      }\n\n      setShowDeleteModal(false); // Close the delete confirmation modal after successful deletion\n    } catch (err) {\n      setErrorMessage(\"Failed to delete comment. Please try again.\");\n    }\n  };\n\n  return (\n    <>\n      <hr />\n      <Media>\n        <Link to={`/profiles/${profile_id}`}>\n          <Avatar src={profile_image} />\n        </Link>\n        <Media.Body className=\"align-self-center ml-2\">\n          {/* Display owner name and comment update date */}\n          <span className={styles.Owner}>{owner}</span>\n          <span className={styles.Date}>{updated_at}</span>\n          {/* Show either the comment content or the edit form */}\n          {showEditForm ? (\n            <CommentEditForm\n              id={id}\n              profile_id={profile_id}\n              content={content}\n              profileImage={profile_image}\n              setComments={setComments}\n              setShowEditForm={setShowEditForm}\n            />\n          ) : (\n            <p>{content}</p>\n          )}\n        </Media.Body>\n        {/* Show MoreDropdown (edit/delete options) if the user is the owner of the comment */}\n        {is_owner && !showEditForm && (\n          <MoreDropdown\n            handleEdit={() => setShowEditForm(true)}\n            handleDelete={() => setShowDeleteModal(true)}\n          />\n        )}\n      </Media>\n      {/* Delete Confirmation Modal */}\n      <Modal show={showDeleteModal} onHide={() => setShowDeleteModal(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>Confirm Delete</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          Are you sure you want to delete this comment?\n          {/* Display error message if any */}\n          {errorMessage && <p className=\"text-danger mt-2\">{errorMessage}</p>}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setShowDeleteModal(false)}>\n            Cancel\n          </Button>\n          <Button variant=\"danger\" onClick={handleDelete}>\n            Delete\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default Comment;\n","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\n\nfunction CommentCreateForm(props) {\n  const { post, setPost, setComments } = props;\n  const [content, setContent] = useState(\"\");\n\n  // Handle the change in the textarea\n  const handleChange = (event) => {\n    setContent(event.target.value);\n  };\n\n  // Handle form submission\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const { data } = await axiosRes.post(\"/comments/\", {\n        content,\n        post,\n      });\n      // Update the comments state with the new comment\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: [data, ...prevComments.results], // Add the new comment at the beginning of the list\n      }));\n      // Update the post's comment count\n      setPost((prevPost) => ({\n        results: [\n          {\n            ...prevPost.results[0],\n            comments_count: prevPost.results[0].comments_count + 1, // Increment comment count\n          },\n        ],\n      }));\n      setContent(\"\");\n    } catch (err) {\n      // Silently ignore the error - keep comment to avoid parsing error\n    }\n  };\n\n  return (\n    <div className={styles.CommentFormContainer}>\n      <Form className=\"mt-2 w-50\" onSubmit={handleSubmit}>\n        <Form.Group>\n          <InputGroup>\n            {/* Text area for entering the comment */}\n            <Form.Control\n              className={styles.Form}\n              placeholder=\"My comment...\"\n              as=\"textarea\"\n              value={content}\n              onChange={handleChange}\n              rows={2}\n              aria-label=\"comment\"\n            />\n            {/* Submit button */}\n            <button\n              className={styles.Button}\n              disabled={!content.trim()}\n              type=\"submit\"\n              aria-label=\"Submit comment\"\n            >\n              <i className={`fa-solid fa-paper-plane ${styles.Icon}`}></i>\n              <span className={styles.Hidden}>Text</span>\n            </button>\n          </InputGroup>\n        </Form.Group>\n      </Form>\n    </div>\n  );\n}\n\nexport default CommentCreateForm;\n","import React, { useEffect, useState } from \"react\";\nimport { axiosReq } from \"../api/axiosDefaults\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Accordion, Card, Button } from \"react-bootstrap\";\nimport styles from \"../styles/PopularDestinations.module.css\";\nimport Loading from \"./Loading\";\n\n// Displays the top 6 countries based on the number of posts shared by users\nconst PopularDestinations = () => {\n  const [popularDestinations, setPopularDestinations] = useState([]);\n\n  useEffect(() => {\n    // Fetch post counts by country and sort them to get the most popular destinations\n    const fetchPostCounts = async () => {\n      try {\n        const { data } = await axiosReq.get(\"/posts/\");\n        const postCounts = data.country_post_counts || {};\n        // Convert the country-post mapping to an array and sort by post count\n        const sortedDestinations = Object.entries(postCounts)\n          .map(([country, count]) => ({ country, count }))\n          .sort((a, b) => b.count - a.count)\n          .slice(0, 6); // Get top 6 destinations\n\n        setPopularDestinations(sortedDestinations);\n      } catch (err) {\n        console.error(\"Error fetching post counts:\", err);\n      }\n    };\n\n    fetchPostCounts();\n  }, []);\n  // Show loading spinner while data is being fetched\n  if (!popularDestinations.length) {\n    return <Loading />;\n  }\n\n  return (\n    <div className={`container my-4 ${styles.Container}`}>\n      <h3 className={`text-center text-danger mb-4 ${styles.Header}`}>\n        Top Countries on WanderRoads\n      </h3>\n      <Accordion>\n        {popularDestinations.map((dest, index) => {\n          // Generates the accordion title based on rank\n          const title =\n            index === 0\n              ? \"Check the most popular\"\n              : index === 1\n              ? \"Check the second most popular\"\n              : index === 2\n              ? `Check the third most popular`\n              : `Check the ${index + 1}th most popular`;\n\n          return (\n            <Card key={index} className={styles.Card}>\n              <Card.Header className={styles.Accordion}>\n                <Accordion.Toggle\n                  as={Button}\n                  variant=\"link\"\n                  eventKey={String(index)}\n                  className={styles.Title}\n                >\n                  {title} country\n                </Accordion.Toggle>\n              </Card.Header>\n              <Accordion.Collapse eventKey={String(index)}>\n                <Card.Body className={styles.CardBody}>\n                  {dest.count} {dest.count > 1 ? \"posts\" : \"post\"} from{\" \"}\n                  {dest.country}\n                </Card.Body>\n              </Accordion.Collapse>\n            </Card>\n          );\n        })}\n      </Accordion>\n    </div>\n  );\n};\n\nexport default PopularDestinations;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { Col, Row, Container } from \"react-bootstrap\";\nimport appStyles from \"../../App.module.css\";\nimport styles from \"../../styles/PostPage.module.css\";\nimport Post from \"./Post\";\nimport Comment from \"../comments/Comment\";\nimport CommentCreateForm from \"../comments/CommentCreateForm\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Asset from \"../../components/Asset\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport PopularDestinations from \"../../components/PopularDestinations\";\n\nfunction PostPage() {\n  const { id } = useParams();\n  const [post, setPost] = useState({ results: [] });\n  const [comments, setComments] = useState({ results: [] });\n  const currentUser = useCurrentUser();\n  const profile_image = currentUser?.profile_image;\n\n  useEffect(() => {\n    const handleMount = async () => {\n      try {\n        const [{ data: post }, { data: comments }] = await Promise.all([\n          axiosReq.get(`/posts/${id}/`),\n          axiosReq.get(`/comments/?post=${id}`),\n        ]);\n        setPost({ results: [post] });\n        setComments(comments);\n      } catch (err) {\n        // Silently ignore the error - keep comment to avoid parsing error \n      }\n    };\n\n    handleMount();\n  }, [id]);\n  return (\n    <Row className={`h-100 ${styles.Row}`}>\n      {/* Left column: main post and comments */}\n      <Col className={`py-2 p-0 p-lg-2 ${styles.Post}`} lg={8}>\n        <Post {...post.results[0]} setPosts={setPost} postPage />\n        <Container className={appStyles.Content}>\n          {currentUser ? (\n            <CommentCreateForm\n              profile_id={currentUser.profile_id}\n              profileImage={profile_image}\n              post={id}\n              setPost={setPost}\n              setComments={setComments}\n            /> \n          ) : comments.results.length ? (\n            \"Comments\"\n          ) : null}\n          {/* If there are comments, render them with infinite scroll */}\n          {comments.results.length ? (\n            <InfiniteScroll\n              dataLength={comments.results.length}\n              loader={<Asset spinner />}\n              hasMore={!!comments.next}\n              next={() => fetchMoreData(comments, setComments)}\n            >\n              {comments.results.map((comment) => (\n                <Comment\n                  key={comment.id}\n                  {...comment}\n                  setPost={setPost}\n                  setComments={setComments}\n                />\n              ))}\n            </InfiniteScroll>\n          ) : currentUser ? (\n            <span className={styles.Comment}>\n              No comments yet, be the first to comment!\n            </span>\n          ) : (\n            <span className={styles.Comment}>No comments... yet</span>\n          )}\n        </Container>\n      </Col>\n       {/* Right column: popular destinations sidebar */}\n      <Col className={styles.Destination}>\n        <PopularDestinations />\n      </Col>\n    </Row>\n  );\n}\n\nexport default PostPage;\n","import React, { useEffect, useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport { Link } from \"react-router-dom\";\nimport Post from \"./Post\";\nimport navStyle from \"../../styles/NavBar.module.css\";\nimport styles from \"../../styles/PostsPage.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport { useLocation } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport Loading from \"../../components/Loading\";\n\nfunction PostsPage({ message, filter = \"\" }) {\n  const [posts, setPosts] = useState({ results: [] });\n  const [hasLoaded, setHasLoaded] = useState(false); // Tracks if posts are loaded\n  const { pathname } = useLocation();\n  const currentUser = useCurrentUser();\n  const [query, setQuery] = useState(\"\"); // Search input value\n  const [error, setError] = useState(null);\n  // Fetch posts on initial render and when filter/query/path/user changes\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const { data } = await axiosReq.get(`/posts/?${filter}search=${query}`);\n        setPosts(data);\n        setHasLoaded(true);\n      } catch (err) {\n        setError(\"Failed to load posts. Please try again.\");\n      }\n    };\n\n    setHasLoaded(false); // Reset loading state before fetch\n    // Debounce search: wait 1 second before fetching\n    const timer = setTimeout(() => {\n      fetchPosts();\n    }, 1000);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [filter, query, pathname, currentUser]);\n\n  return (\n    <Row className={`h-100 ${styles.Row}`}>\n      <div className={styles.CreatePost}>\n        <Col className=\"py-2 p-0 p-lg-2\" sm={6} md={6} lg={8}>\n          <span className={styles.ShareText}> Share your journey! </span>\n          <Link\n            className={navStyle.NavLink}\n            activeClassName={navStyle.Active}\n            to=\"/posts/create\"\n          >\n            <i\n              className={`fa-solid fa-plane-departure ${styles.ShareIcon}`}\n            ></i>\n            <p className={styles.Hidden}>hidden text</p>\n          </Link>\n        </Col>\n      </div>\n      {/* Main column with search bar and post list */}\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\n        <i className={`fas fa-search ${styles.SearchIcon}`}></i>\n        {/* Search bar form (live search) */}\n        <Form\n          className={styles.SearchBar}\n          onSubmit={(event) => event.preventDefault()}\n        >\n          <Form.Control\n            value={query}\n            onChange={(event) => setQuery(event.target.value)}\n            type=\"text\"\n            className=\"mr-sm-2\"\n            placeholder=\"Search posts\"\n            aria-label=\"search posts\"\n          />\n        </Form>\n        {/* Display any error message */}\n        {error && <p className={appStyles.Error}>{error}</p>}\n        {/* Once posts are loaded, show either list or empty message */}\n        {hasLoaded ? (\n          <>\n            {posts.results.length ? (\n              <InfiniteScroll\n                className={styles.Post}\n                dataLength={posts.results.length}\n                loader={<Loading />}\n                hasMore={!!posts.next}\n                next={() => fetchMoreData(posts, setPosts)}\n              >\n                {posts.results.map((post) => (\n                  <Post key={post.id} {...post} setPosts={setPosts} />\n                ))}\n              </InfiniteScroll>\n            ) : (\n              <Container className={appStyles.Content}>\n                <p>{message} </p>\n              </Container>\n            )}\n          </>\n        ) : (\n          <Container className={appStyles.Content}>\n            <Loading />\n          </Container>\n        )}\n      </Col>\n    </Row>\n  );\n}\n\nexport default PostsPage;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Image from \"react-bootstrap/Image\";\nimport axios from \"axios\";\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport { useHistory, useParams } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport Asset from \"../../components/Asset\";\n\nfunction PostEditForm() {\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [postData, setPostData] = useState({\n    title: \"\",\n    content: \"\",\n    image: \"\",\n    country: \"\",\n  });\n\n  const { title, content, image, country } = postData;\n  // Countries list for dropdown\n  const [countries, setCountries] = useState([]);\n  // Ref to access the file input directly\n  const imageInput = useRef(null);\n  const history = useHistory();\n  const { id } = useParams();\n\n  useEffect(() => {\n    const handleMount = async () => {\n      setLoading(true); // Start loading spinner\n      try {\n        const { data } = await axiosReq.get(`/posts/${id}/`);\n        // Only allow editing if the user is the owner\n        if (data.is_owner) {\n          setPostData({\n            title: data.title,\n            content: data.content,\n            image: data.image,\n            country: data.country,\n          });\n        } else {\n          history.push(\"/\");\n        }\n      } catch (err) {\n        // Silently ignore the error - keep comment to avoid parsing error\n      } finally {\n        setLoading(false); // Stop loading spinner\n      }\n    };\n\n    handleMount();\n  }, [history, id]);\n\n  // Handle text input changes\n  const handleChange = (event) => {\n    setPostData({\n      ...postData,\n      [event.target.name]: event.target.value,\n    });\n  };\n  // Handle image input changes\n  const handleChangeImage = (event) => {\n    if (event.target.files.length) {\n      // Revoke old image preview URL\n      URL.revokeObjectURL(image);\n      // Create new preview URL for the selected image\n      setPostData({\n        ...postData,\n        image: URL.createObjectURL(event.target.files[0]),\n      });\n    }\n  };\n\n  // Fetch list of countries for the dropdown\n  useEffect(() => {\n    const fetchCountries = async () => {\n      try {\n        const { data } = await axios.get(\"/countries/\");\n        setCountries(data);\n      } catch (error) {\n        // Silently ignore the error - keep comment to avoid parsing error\n      }\n    };\n\n    fetchCountries();\n  }, []);\n\n  // Handle form submission\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"title\", title);\n    formData.append(\"content\", content);\n    // Append new image file if it exists\n    if (imageInput?.current?.files[0]) {\n      formData.append(\"image\", imageInput.current.files[0]);\n    }\n\n    formData.append(\"country\", country);\n\n    try {\n      await axiosReq.put(`/posts/${id}/`, formData);\n      history.push(`/posts/${id}`);\n    } catch (err) {\n      // Silently ignore the error - keep comment to avoid parsing error\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  const textFields = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label>Title</Form.Label>\n        <Form.Control\n          type=\"text\"\n          name=\"title\"\n          value={title}\n          onChange={handleChange}\n          aria-label=\"title\"\n        />\n      </Form.Group>\n      {errors?.title?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n\n      <Form.Group>\n        <Form.Label>Content</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          rows={6}\n          name=\"content\"\n          value={content}\n          onChange={handleChange}\n          aria-label=\"content\"\n        />\n      </Form.Group>\n      {errors?.content?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n      {/* Country dropdown */}\n      <Form.Group>\n        <Form.Label>Country</Form.Label>\n        <Form.Control\n          as=\"select\"\n          name=\"country\"\n          value={country}\n          onChange={handleChange}\n          required\n          aria-label=\"country\"\n        >\n          <option value=\"\">Select a country</option>\n          {countries.map((c) => (\n            <option key={c.code} value={c.code}>\n              {c.name}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n\n      <Button className={btnStyles.Button} onClick={() => history.goBack()}>\n        Cancel\n      </Button>\n      <Button className={btnStyles.Button} type=\"submit\">\n        Save\n      </Button>\n    </div>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        {/* Image section */}\n        <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\n          <Container\n            className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\n          >\n            <Form.Group className=\"text-center\">\n              <figure>\n                {/* Show loading spinner or the image */}\n                {loading ? (\n                  <Asset spinner message=\"Loading image...\" />\n                ) : (\n                  <Image\n                    className={appStyles.Image}\n                    src={image}\n                    rounded\n                    alt=\"post image\"\n                    onLoad={() => setLoading(false)}\n                  />\n                )}\n              </figure>\n              {/* Image upload label */}\n              <div>\n                <Form.Label\n                  className={`${btnStyles.Button} btn`}\n                  htmlFor=\"image-upload\"\n                >\n                  Change the image\n                </Form.Label>\n              </div>\n              {/* Image upload input */}\n              <Form.File\n                id=\"image-upload\"\n                accept=\"image/*\"\n                onChange={handleChangeImage}\n                ref={imageInput}\n              />\n            </Form.Group>\n            {errors?.image?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n            {/* Show text fields below image on mobile */}\n            <div className=\"d-md-none\">{textFields}</div>\n          </Container>\n        </Col>\n        {/* Text fields on side for larger screens */}\n        <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\n          <Container className={appStyles.Content}>{textFields}</Container>\n        </Col>\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostEditForm;\n","import React, { useState, useRef } from \"react\";\nimport styles from \"../styles/ThemeSong.module.css\";\n\nexport default function ThemeSong(props) {\n  const [isMuted, setIsMuted] = useState(true);\n  const audioRef = useRef(null);\n  \n  // Toggle mute/unmute: if currently muted, play audio; otherwise, pause it\n  const toggleMute = () => {\n    if (audioRef.current) {\n      if (isMuted) {\n        audioRef.current.play();\n      } else {\n        audioRef.current.pause();\n      }\n      setIsMuted(!isMuted);\n    }\n  };\n\n  return (\n    <div className={styles.Container}>\n      <button onClick={toggleMute} className={styles.Button}>\n        <i\n          className={`fa-solid ${\n            isMuted ? \"fa-volume-xmark\" : \"fa-volume-high\"\n          }`}\n        ></i>\n        <p className={styles.Hidden}>hidden text</p>\n      </button>\n      <audio ref={audioRef} src={props.theme_song} />\n    </div>\n  );\n}\n","import React, { useEffect, useState, Suspense, lazy, useMemo } from \"react\";\nimport axios from \"axios\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { Container, Nav, Tab } from \"react-bootstrap\";\nimport styles from \"../../styles/Profile.module.css\";\nimport ThemeSong from \"../../components/ThemeSong\";\nimport Asset from \"../../components/Asset\";\nimport Image from \"react-bootstrap/Image\";\nimport Loading from \"../../components/Loading\";\nimport backgroundImageUrl from \"../../assets/recommendation-bg.webp\";\n\n// Lazy-loaded components\nconst TravelPreferences = lazy(() =>\n  import(\"../travel_preference/TravelPreferences\")\n);\nconst TravelRecommendation = lazy(() =>\n  import(\"../travel_recommendation/TravelRecommendation\")\n);\nconst UserPosts = lazy(() => import(\"../posts/UserPosts\"));\n\nconst Profile = () => {\n  const { id } = useParams();\n  const currentUser = useCurrentUser();\n  const [profile, setProfile] = useState(null);\n\n  useEffect(() => {\n    axios\n      .get(`/profiles/${id}`)\n      .then((response) => setProfile(response.data))\n      .catch(() => {/* // Silently ignore the error - keep comment to avoid parsing error  */} );\n  }, [id]);\n  // Check if the current user is the owner of this profile\n  const isOwner = useMemo(\n    () => currentUser?.username === profile?.owner, // Compare the current user's username with the profile owner\n    [currentUser, profile?.owner] // Recalculate whenever currentUser or profile changes\n  );\n  // Render the list of visited countries for the user, or display a message if none are added\n  const visitedCountriesList = useMemo(\n    () =>\n      profile?.visited_countries?.length ? (\n        <div>\n          <p>\n            <span className=\"fw-bold\">*</span> You&apos;re rocking the{\" \"}\n            {profile.experience} level! Just a few more trips and you&apos;ll\n            rank up!\n          </p>\n          <ul className=\"d-flex flex-wrap gap-2 list-unstyled\">\n            {profile.visited_countries.map((c, index) => (\n              <li\n                key={index}\n                className={`bg-light px-3 py-1 rounded ${styles.Countries}`}\n              >\n                {c}\n              </li>\n            ))}\n          </ul>\n        </div>\n      ) : (\n        <p>No countries added yet.</p>\n      ),\n    [profile?.visited_countries] // Change whenever the visited countries list changes\n  );\n  // If the profile data is not yet loaded, show a loading spinner\n  if (!profile) {\n    return <Asset spinner />;\n  }\n\n  return (\n    <Container className={styles.ProfileContainer}>\n      {/* Render the profile header section with the background image, profile picture, and theme song */}\n      <div\n        className={styles.HeroSection}\n        style={{ backgroundImage: `url(${backgroundImageUrl})` }}\n      >\n        <div className={styles.Overlay}></div>{\" \"}\n        {/* Overlay for the background image */}\n        <div className={styles.ProfileContent}>\n          {/* Profile image */}\n          <Image\n            src={profile.image}\n            alt={profile.owner}\n            className={styles.ProfileImage}\n            roundedCircle\n          />\n          <div className={styles.ProfileText}>\n            <h4>\n              {profile.experience} {profile.owner}\n            </h4>\n            <p className={styles.Status}>{profile.status || \"No status set\"}</p>\n            <ThemeSong\n              theme_song={profile.theme_song}\n              className={styles.ThemeSong}\n            />\n          </div>\n        </div>\n      </div>\n      {/* Tab container to display different sections like Posts, Visited Countries, Preferences, etc.\n      The active tab will determine which content is displayed below */}\n      <Tab.Container defaultActiveKey=\"posts\">\n        <Nav variant=\"tabs\" className={styles.ProfileNav}>\n          <Nav.Item>\n            <Nav.Link eventKey=\"posts\" className={styles.NavLink}>\n              Posts\n            </Nav.Link>\n          </Nav.Item>\n          {isOwner && (\n            <Nav.Item>\n              <Nav.Link eventKey=\"edit_profile\" className={styles.NavLink}>\n                Edit profile\n              </Nav.Link>\n            </Nav.Item>\n          )}\n          <Nav.Item>\n            <Nav.Link eventKey=\"visited_countries\" className={styles.NavLink}>\n              Visited countries\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link eventKey=\"preferences\" className={styles.NavLink}>\n              Travel Preferences\n            </Nav.Link>\n          </Nav.Item>\n          {isOwner && (\n            <Nav.Item>\n              <Nav.Link eventKey=\"recommendations\" className={styles.NavLink}>\n                Recommendations\n              </Nav.Link>\n            </Nav.Item>\n          )}\n        </Nav>\n\n        <Tab.Content className={styles.TabContent}>\n          <Suspense fallback={<Loading />}>\n            <Tab.Pane eventKey=\"posts\">\n              <UserPosts />\n            </Tab.Pane>\n            <Tab.Pane eventKey=\"preferences\">\n              <TravelPreferences profileOwner={profile?.owner} />\n            </Tab.Pane>\n            <Tab.Pane eventKey=\"visited_countries\">\n              {visitedCountriesList}\n            </Tab.Pane>\n            {/* Tabs visible only for the profile owner */}\n            {isOwner && (\n              <>\n                <Tab.Pane eventKey=\"recommendations\">\n                  <TravelRecommendation />\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"edit_profile\">\n                  <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                      <Link to={`/profiles/${profile.id}/change-image`}>\n                        <i className={`fa-solid fa-camera ${styles.EditIcon}`}>\n                          {\" \"}\n                          Change Image\n                        </i>\n                      </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <Link to={`/profiles/${profile.id}/edit/username`}>\n                        <i className={`far fa-id-card ${styles.EditIcon}`}>\n                          {\" \"}\n                          Change Username\n                        </i>\n                      </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <Link to={`/profiles/${profile.id}/edit/password`}>\n                        <i className={`fas fa-key ${styles.EditIcon}`}>\n                          {\" \"}\n                          Change Password\n                        </i>\n                      </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <Link to={`/profiles/${profile.id}/edit/status`}>\n                        <i className={`fas fa-comment ${styles.EditIcon}`}>\n                          {\" \"}\n                          Edit Status\n                        </i>\n                      </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <Link to={`/profiles/${profile.id}/edit/countries`}>\n                        <i className={`fas fa-globe ${styles.EditIcon}`}>\n                          {\" \"}\n                          Edit Visited Countries\n                        </i>\n                      </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <Link to={`/profiles/${profile.id}/edit/theme-song`}>\n                        <i className={`fas fa-music ${styles.EditIcon}`}>\n                          {\" \"}\n                          Change Theme Song\n                        </i>\n                      </Link>\n                    </li>\n                  </ul>\n                </Tab.Pane>\n              </>\n            )}\n          </Suspense>\n        </Tab.Content>\n      </Tab.Container>\n    </Container>\n  );\n};\n\nexport default Profile;\n","import React, { useEffect, useState } from \"react\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { Link } from \"react-router-dom\";\nimport { Row, Col, Card, Dropdown, Form } from \"react-bootstrap\";\nimport styles from \"../../styles/Profiles.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport searchStyles from \"../../styles/PostsPage.module.css\";\nimport Loading from \"../../components/Loading\";\n\nconst UserList = () => {\n  const [profiles, setProfiles] = useState([]);\n  const [sortBy, setSortBy] = useState(\"owner\"); // Default sorting by 'owner'\n  const [query, setQuery] = useState(\"\");\n\n  useEffect(() => {\n    const fetchProfiles = async () => {\n      try {\n        // Fetch profiles from the API, applying sorting and search filters\n        const { data } = await axiosReq.get(\n          `/profiles/?ordering=${sortBy}&search=${query}`\n        );\n        setProfiles(data.results);\n      } catch (err) {\n        // Silently ignore the error - keep comment to avoid parsing error\n      }\n    };\n    // Debounce the API call by 500ms to avoid excessive requests\n    const timer = setTimeout(() => {\n      fetchProfiles();\n    }, 500);\n\n    return () => clearTimeout(timer); // Cleanup on component unmount or when dependencies change\n  }, [sortBy, query]); // Effect runs when sortBy or query changes\n\n  return (\n    <div className={styles.Users}>\n      {/* Search Bar for searching users */}\n      <Col lg={4} md={6} sm={6} xs={6}>\n        <i className={`fas fa-search ${searchStyles.SearchIcon}`} />\n        <Form\n          className={searchStyles.SearchBar}\n          onSubmit={(event) => event.preventDefault()}\n        >\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Search users...\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            aria-label=\"serach users\"\n          />\n        </Form>\n      </Col>\n      {/* Dropdown menu to select sorting method */}\n      <Dropdown onSelect={(eventKey) => setSortBy(eventKey)}>\n        <Dropdown.Toggle id=\"dropdown-basic\" className={btnStyles.Button}>\n          Sort By: {sortBy === \"owner\" ? \"Username\" : \"Posts Count\"}\n        </Dropdown.Toggle>\n\n        <Dropdown.Menu>\n          <Dropdown.Item eventKey=\"owner\">Username</Dropdown.Item>\n          <Dropdown.Item eventKey=\"posts_count\">Posts Count</Dropdown.Item>\n        </Dropdown.Menu>\n      </Dropdown>\n      {/* Conditionally render profiles or loading spinner */}\n      {profiles.length === 0 ? (\n        <Loading />\n      ) : (\n        <Row className=\"g-4\">\n          {/* Loop through the profiles and display each one */}\n          {profiles.map((user) => (\n            <Col xs={6} sm={4} md={4} lg={3} key={user.id}>\n              <Card className={`h-100 ${styles.UserCard}`}>\n                <Link to={`/profiles/${user.id}`} className={styles.User}>\n                  {/* Profile image linking to user profile page */}\n                  <Card.Img\n                    variant=\"top\"\n                    src={user.image}\n                    alt={`${user.owner}'s profile picture`}\n                    loading=\"lazy\"\n                    className={styles.Image}\n                  />\n                </Link>\n                <Card.Body>\n                  {/* Display user details */}\n                  <Card.Title className=\"d-flex align-items-center gap-2\">\n                    <span className={styles.Owner}>{user.owner}</span>\n                  </Card.Title>\n                  <Card.Text>\n                    <p className={styles.Status}>{user.status}</p>\n                    <p>Visited countries: {user.visited_countries.length}</p>\n                    <p>Total posts: {user.posts_count}</p>\n                  </Card.Text>\n                </Card.Body>\n              </Card>\n            </Col>\n          ))}\n        </Row>\n      )}\n    </div>\n  );\n};\n\nexport default UserList;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport styles from \"../../styles/TravelPreferenceEditForm.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n\nexport default function TravelPreferenceEditForm() {\n  const [preferencesData, setPreferencesData] = useState({\n    preferred_continent: \"\",\n    climate: \"\",\n    activity: \"\",\n    budget: \"\",\n    travel_style: \"\",\n    duration: \"\",\n  });\n\n  const { id } = useParams();\n  const history = useHistory();\n\n  // Fetch existing travel preferences when the component mounts\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const { data } = await axiosReq.get(`/travel-preference/${id}/`);\n        setPreferencesData(data);\n      } catch {\n        history.push(\"/\");\n      }\n    };\n\n    fetchData();\n  }, [id, history]);\n\n  const handleChange = (event) => {\n    setPreferencesData({\n      ...preferencesData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  // Handles form submission, update travel preferences in the backend.\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosReq.put(`/travel-preference/${id}/`, preferencesData);\n      history.goBack();\n    } catch {\n      // Silently ignore the error or handle it silently\n    }\n  };\n\n  return (\n    <div className={styles.EditPrefContainer}>\n      <h2 className={styles.EditPrefHeading}>Edit Travel Preferences</h2>\n      <Form onSubmit={handleSubmit} className={styles.EditPrefForm}>\n        {/* Dropdown for selecting preferred continent */}\n        <Form.Group>\n          <Form.Label>Preferred Continent</Form.Label>\n          <Form.Control\n            as=\"select\"\n            name=\"preferred_continent\"\n            className=\"text-center\"\n            value={preferencesData.preferred_continent}\n            onChange={handleChange}\n          >\n            <option value=\"ANY\">Any Continent</option>\n            <option value=\"AF\">Africa</option>\n            <option value=\"NA\">North America</option>\n            <option value=\"SA\">South America</option>\n            <option value=\"AS\">Asia</option>\n            <option value=\"EU\">Europe</option>\n            <option value=\"OC\">Oceania</option>\n            <option value=\"AN\">Antarctica</option>\n          </Form.Control>\n        </Form.Group>\n        {/* Dropdown for selecting climate */}\n        <Form.Group>\n          <Form.Label>Climate</Form.Label>\n          <Form.Control\n            as=\"select\"\n            name=\"climate\"\n            className=\"text-center\"\n            value={preferencesData.climate}\n            onChange={handleChange}\n          >\n            <option value=\"ANY\">Any</option>\n            <option value=\"HOT\">Hot</option>\n            <option value=\"COLD\">Cold</option>\n            <option value=\"TROPICAL\">Tropical</option>\n            <option value=\"MILD\">Mild</option>\n          </Form.Control>\n        </Form.Group>\n        {/* Dropdown for selecting activity */}\n        <Form.Group>\n          <Form.Label>Activity</Form.Label>\n          <Form.Control\n            as=\"select\"\n            name=\"activity\"\n            className=\"text-center\"\n            value={preferencesData.activity}\n            onChange={handleChange}\n          >\n            <option value=\"ANY\">Any</option>\n            <option value=\"CULTURE\">Culture & History</option>\n            <option value=\"NATURE\">Nature & Wildlife</option>\n            <option value=\"BEACH\">Beaches & Islands</option>\n            <option value=\"ADVENTURE\">Adventure & Hiking</option>\n            <option value=\"CITY\">City & Nightlife</option>\n            <option value=\"FOOD\">Food & Culinary</option>\n          </Form.Control>\n        </Form.Group>\n        {/* Dropdown for selecting budget */}\n        <Form.Group>\n          <Form.Label>Budget</Form.Label>\n          <Form.Control\n            as=\"select\"\n            name=\"budget\"\n            className=\"text-center\"\n            value={preferencesData.budget}\n            onChange={handleChange}\n          >\n            <option value=\"ANY\">Any</option>\n            <option value=\"LOW\">Budget-Friendly</option>\n            <option value=\"MEDIUM\">Mid-Range</option>\n            <option value=\"HIGH\">Luxury</option>\n          </Form.Control>\n        </Form.Group>\n        {/* Dropdown for selecting travel style */}\n        <Form.Group>\n          <Form.Label>Travel Style</Form.Label>\n          <Form.Control\n            as=\"select\"\n            name=\"travel_style\"\n            className=\"text-center\"\n            value={preferencesData.travel_style}\n            onChange={handleChange}\n          >\n            <option value=\"ANY\">Any</option>\n            <option value=\"SOLO\">Solo Travel</option>\n            <option value=\"FAMILY\">Family</option>\n            <option value=\"BACKPACKING\">Backpacking</option>\n            <option value=\"LUXURY\">Luxury Travel</option>\n          </Form.Control>\n        </Form.Group>\n        {/* Dropdown for selecting duration */}\n        <Form.Group>\n          <Form.Label>Duration</Form.Label>\n          <Form.Control\n            as=\"select\"\n            name=\"duration\"\n            className=\"text-center\"\n            value={preferencesData.duration}\n            onChange={handleChange}\n          >\n            <option value=\"ANY\">Any</option>\n            <option value=\"WEEKEND\">Weekend</option>\n            <option value=\"ONE_WEEK\">1 Week</option>\n            <option value=\"TWO_WEEKS\">2 Weeks</option>\n            <option value=\"MONTH\">1 Month</option>\n          </Form.Control>\n        </Form.Group>\n\n        <Button\n          className={`${btnStyles.Button} ${btnStyles.Wide} mt-3 `}\n          onClick={() => history.goBack()}\n        >\n          Cancel\n        </Button>\n        <Button\n          className={`${btnStyles.Button} ${btnStyles.Wide} mt-3 `}\n          type=\"submit\"\n        >\n          Save\n        </Button>\n      </Form>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport axios from \"axios\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Card, Container, Row, Col, Button, Modal } from \"react-bootstrap\";\nimport styles from \"../../styles/Trip.module.css\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\nimport Asset from \"../../components/Asset\";\n\nexport default function Trip() {\n  const currentUser = useCurrentUser();\n  const [trip, setTrip] = useState(null);\n  const history = useHistory();\n  const [showModal, setShowModal] = useState(false);\n  const [tripToDelete, setTripToDelete] = useState(null);\n\n  useEffect(() => {\n    if (currentUser) {\n      axios\n        .get(\"/trip/\")\n        .then(async (response) => {\n          // Filter out expired trips\n          const validTrips = response.data.results.filter(\n            (t) => t.days_until_trip >= 0\n          );\n\n          // Sort trips by start_date\n          const sortedTrips = validTrips.sort(\n            (a, b) => new Date(a.start_date) - new Date(b.start_date)\n          );\n\n          setTrip({ ...response.data, results: sortedTrips });\n\n          // Automatically delete expired trips\n          const expiredTrips = response.data.results.filter(\n            (t) => t.days_until_trip < 0\n          );\n          for (let trip of expiredTrips) {\n            try {\n              await axiosRes.delete(`/trip/${trip.id}`);\n            } catch {\n              // Silently ignore the error - keep comment to avoid parsing error\n            }\n          }\n        })\n        .catch(() => {\n          // Silently ignore the error - keep comment to avoid parsing error\n        });\n    }\n  }, [currentUser]);\n\n  const handleEdit = (tripId) => {\n    history.push(`/trip/${tripId}/edit`);\n  };\n\n  // Show confirmation modal when delete is clicked\n  const confirmDelete = (tripId) => {\n    setTripToDelete(tripId);\n    setShowModal(true);\n  };\n\n  // Perform deletion if user confirms\n  const handleDelete = async () => {\n    if (!tripToDelete) return;\n\n    try {\n      await axiosRes.delete(`/trip/${tripToDelete}`);\n      setTrip((prevTrip) => ({\n        ...prevTrip,\n        results: prevTrip.results.filter((t) => t.id !== tripToDelete),\n      }));\n    } catch {\n      // Silently ignore the error or handle it silently\n    }\n\n    setShowModal(false);\n    setTripToDelete(null);\n  };\n\n  return (\n    <Container className=\"mt-4\">\n      <div className=\"d-flex justify-content-start mb-3\">\n        <Link to=\"/trip/create\">\n          <i className=\"fa-solid fa-plus\"> Add an upcoming trip</i>\n        </Link>\n      </div>\n\n      {trip && trip.results && trip.results.length > 0 ? (\n        <Row className=\"g-4\">\n          {trip.results.map((t) => (\n            <Col md={6} lg={4} key={t.id}>\n              <Card\n                className={`shadow-sm border-0 ${\n                  t.days_until_trip > 5 ? styles.Card : styles.Soon\n                }`}\n              >\n                <Card.Body>\n                  <Card.Title>\n                    <MoreDropdown\n                      handleEdit={() => handleEdit(t.id)}\n                      handleDelete={() => confirmDelete(t.id)}\n                    />{\" \"}\n                    {t.destination}\n                  </Card.Title>\n                  <Card.Subtitle className=\"mb-2\">\n                    <strong>Trip starts in {t.days_until_trip} days</strong>\n                  </Card.Subtitle>\n                  <Card.Text>\n                    <strong>Departure:</strong> {t.start_date} <br />\n                    <strong>Return:</strong> {t.end_date}\n                  </Card.Text>\n                  {t.notes && <Card.Text>{t.notes}</Card.Text>}\n                </Card.Body>\n              </Card>\n            </Col>\n          ))}\n        </Row>\n      ) : (\n        <Asset spinner message=\"Searching for trips...\" />\n      )}\n\n      <Modal show={showModal} onHide={() => setShowModal(false)} centered>\n        <Modal.Header closeButton>\n          <Modal.Title>Confirm Delete</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>Are you sure you want to delete this trip?</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setShowModal(false)}>\n            Cancel\n          </Button>\n          <Button variant=\"danger\" onClick={handleDelete}>\n            Delete\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Container>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport { useHistory, useParams } from \"react-router\";\nimport axios from \"axios\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport Button from \"react-bootstrap/Button\";\nimport { Row, Col, Alert } from \"react-bootstrap\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport styles from \"../../styles/AddTrip.module.css\";\n\nexport default function TripEditForm() {\n  const [errors, setErrors] = useState({});\n  const [countries, setCountries] = useState([]);\n  const [tripData, setTripData] = useState({\n    destination: \"\",\n    start_date: \"\",\n    end_date: \"\",\n    notes: \"\",\n  });\n\n  const { id } = useParams();\n  const history = useHistory();\n\n  // Fetch the list of available countries from the API when the component mounts.\n  useEffect(() => {\n    const fetchCountries = async () => {\n      try {\n        const { data } = await axios.get(\"/countries/\");\n        setCountries(data);\n      } catch {\n        // Silently ignore the error or handle it silently\n      }\n    };\n\n    fetchCountries();\n  }, []);\n\n  useEffect(() => {\n    if (!countries.length) return; // Ensure countries are loaded before fetching trip data\n\n    const fetchData = async () => {\n      try {\n        const { data } = await axiosReq.get(`/trip/${id}`);\n        // Find the corresponding country code for the destination\n        const matchingCountry = countries.find(\n          (c) => c.name === data.destination\n        );\n        const countryCode = matchingCountry ? matchingCountry.code : \"\";\n\n        setTripData({\n          destination: countryCode || \"\",\n          start_date: data.start_date,\n          end_date: data.end_date,\n          notes: data.notes || \"\",\n        });\n      } catch {\n        history.push(\"/\");\n      }\n    };\n\n    fetchData();\n  }, [id, history, countries]);\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setTripData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n\n    setErrors((prevErrors) => {\n      const newErrors = { ...prevErrors };\n\n      if (name === \"start_date\" || name === \"end_date\") {\n        const updatedStartDate =\n          name === \"start_date\"\n            ? new Date(value)\n            : new Date(tripData.start_date);\n        const updatedEndDate =\n          name === \"end_date\" ? new Date(value) : new Date(tripData.end_date);\n\n        // Ensure the end date is not before the start date.\n        if (\n          updatedStartDate &&\n          updatedEndDate &&\n          updatedEndDate < updatedStartDate\n        ) {\n          newErrors.end_date = \"End date cannot be earlier than start date.\";\n        } else {\n          delete newErrors.end_date;\n        }\n\n        // Ensure the start date is not after the end date.\n        if (\n          updatedStartDate &&\n          updatedEndDate &&\n          updatedStartDate > updatedEndDate\n        ) {\n          newErrors.start_date = \"Start date cannot be later than end date.\";\n        } else {\n          delete newErrors.start_date;\n        }\n      }\n\n      return newErrors;\n    });\n  };\n\n  // Handle form submission\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    // Prevent submission if end date is earlier than start date.\n    if (new Date(tripData.end_date) < new Date(tripData.start_date)) {\n      setErrors((prev) => ({\n        ...prev,\n        end_date: \"End date cannot be earlier than start date.\",\n      }));\n      return;\n    }\n\n    try {\n      await axiosReq.put(`/trip/${id}`, tripData);\n      history.goBack();\n    } catch (err) {\n      setErrors(err.response?.data || {});\n    }\n  };\n\n  return (\n    <div className={styles.Form}>\n      <Form onSubmit={handleSubmit} className=\"text-center\">\n        <Row className=\"mb-3\">\n          <Col xs={12} md={6}>\n            <Form.Group>\n              <Form.Label>Destination</Form.Label>\n              <Form.Control\n                as=\"select\"\n                name=\"destination\"\n                value={tripData.destination || \"\"}\n                onChange={handleChange}\n                required\n                className=\"text-center\"\n              >\n                <option value=\"\">Select a country</option>\n                {countries.map((c) => (\n                  <option key={c.code} value={c.code}>\n                    {c.name}\n                  </option>\n                ))}\n              </Form.Control>\n            </Form.Group>\n          </Col>\n\n          <Col xs={12} md={6}>\n            <Form.Group>\n              <Form.Label>Start Date</Form.Label>\n              <Form.Control\n                type=\"date\"\n                name=\"start_date\"\n                value={tripData.start_date || \"\"}\n                onChange={handleChange}\n                className=\"text-center\"\n                aria-label=\"start-date\"\n              />\n            </Form.Group>\n            {errors.start_date && (\n              <Alert variant=\"warning\">{errors.start_date}</Alert>\n            )}\n          </Col>\n\n          <Col xs={12} md={6}>\n            <Form.Group>\n              <Form.Label>End Date</Form.Label>\n              <Form.Control\n                type=\"date\"\n                name=\"end_date\"\n                value={tripData.end_date || \"\"}\n                onChange={handleChange}\n                className=\"text-center\"\n                aria-label=\"end-date\"\n              />\n            </Form.Group>\n            {errors.end_date && (\n              <Alert variant=\"warning\">{errors.end_date}</Alert>\n            )}\n          </Col>\n\n          <Col xs={12} md={6}>\n            <Form.Group>\n              <Form.Label>Notes</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"notes\"\n                value={tripData.notes}\n                onChange={handleChange}\n                className=\"text-center\"\n                aria-label=\"notes\"\n              />\n            </Form.Group>\n          </Col>\n        </Row>\n\n        <Row className=\"mb-3\">\n          <Col xs={12} className=\"d-flex justify-content-between\">\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Wide}`}\n              onClick={() => history.goBack()}\n            >\n              Cancel\n            </Button>\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Wide}`}\n              type=\"submit\"\n            >\n              Save\n            </Button>\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useHistory } from \"react-router-dom\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport { Form, Row, Col, Button, Alert } from \"react-bootstrap\";\nimport styles from \"../../styles/AddTrip.module.css\";\n\nexport default function AddTrip() {\n  const [errors, setErrors] = useState({});\n  const [tripData, setTripData] = useState({\n    destination: \"\",\n    start_date: \"\",\n    end_date: \"\",\n    notes: \"\",\n  });\n\n  const { destination, start_date, end_date, notes } = tripData;\n  // List of available countries fetched from the API.\n  const [countries, setCountries] = useState([]);\n  const history = useHistory();\n  \n  // Fetch the list of available countries from the API when the component mounts.\n  useEffect(() => {\n    const fetchCountries = async () => {\n      try {\n        const { data } = await axios.get(\"/countries/\");\n        setCountries(data);\n      } catch  {\n       // Silently ignore the error - keep comment to avoid parsing error \n      }\n    };\n\n    fetchCountries();\n  }, []);\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setTripData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n\n    setErrors((prevErrors) => {\n      const newErrors = { ...prevErrors };\n\n      if (name === \"start_date\" || name === \"end_date\") {\n        const updatedStartDate =\n          name === \"start_date\"\n            ? new Date(value)\n            : new Date(tripData.start_date);\n        const updatedEndDate =\n          name === \"end_date\" ? new Date(value) : new Date(tripData.end_date);\n        // Ensure the end date is not before the start date.\n        if (\n          updatedStartDate &&\n          updatedEndDate &&\n          updatedEndDate < updatedStartDate\n        ) {\n          newErrors.end_date = [\"End date cannot be earlier than start date.\"];\n        } else {\n          delete newErrors.end_date;\n        }\n      }\n\n      return newErrors;\n    });\n  };\n  \n  // Handle form submission\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"destination\", destination);\n    formData.append(\"start_date\", start_date);\n    formData.append(\"end_date\", end_date);\n    formData.append(\"notes\", notes);\n\n    try {\n      const { data } = await axiosReq.post(\"/trip/\", formData);\n      history.push(`/trip/${data.id}`);\n    } catch (err) {\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  return (\n    <div className={styles.Form}>\n      <Form onSubmit={handleSubmit}>\n        <Row className=\"mb-3\">\n          <Col xs={12} md={6} lg={6}>\n            <Form.Group controlId=\"destination\">\n              <Form.Label>Destination</Form.Label>\n              <Form.Control\n                as=\"select\"\n                name=\"destination\"\n                value={destination}\n                onChange={handleChange}\n                required\n              >\n                <option value=\"\">Select a country</option>\n                {countries.map((country) => (\n                  <option key={country.code} value={country.name}>\n                    {country.name}\n                  </option>\n                ))}\n              </Form.Control>\n            </Form.Group>\n          </Col>\n\n          <Col xs={12} md={6} lg={6}>\n            <Form.Group controlId=\"start_date\">\n              <Form.Label>Start Date</Form.Label>\n              <Form.Control\n                type=\"date\"\n                name=\"start_date\"\n                value={start_date}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors.start_date?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n          </Col>\n\n          <Col xs={12} md={6} lg={6}>\n            <Form.Group controlId=\"end_date\">\n              <Form.Label>End Date</Form.Label>\n              <Form.Control\n                type=\"date\"\n                name=\"end_date\"\n                value={end_date}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors.end_date?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n          </Col>\n\n          <Col xs={12} md={6} lg={6}>\n            <Form.Group controlId=\"notes\">\n              <Form.Label>Notes</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"notes\"\n                value={notes}\n                onChange={handleChange}\n              />\n            </Form.Group>\n          </Col>\n        </Row>\n\n        <Row className=\"mb-3\">\n          <Col\n            xs={12}\n            md={6}\n            lg={12}\n            className=\"d-flex justify-content-between\"\n          >\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Wide}`}\n              onClick={() => history.goBack()}\n            >\n              Cancel\n            </Button>\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Wide}`}\n              type=\"submit\"\n            >\n              Create\n            </Button>\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\n\nconst UsernameForm = () => {\n  const [username, setUsername] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n  const { id } = useParams();\n\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  useEffect(() => {\n    // Ensure that only the owner of the profile can access this form\n    if (currentUser?.profile_id?.toString() === id) {\n      setUsername(currentUser.username); // Pre-fill current username\n    } else {\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  // Handle form submission\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosRes.put(\"/dj-rest-auth/user/\", {\n        username,\n      });\n      setCurrentUser((prevUser) => ({\n        ...prevUser,\n        username,\n      }));\n      history.goBack();\n    } catch (err) {\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row>\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\n        <Container className={appStyles.Content}>\n          <Form onSubmit={handleSubmit} className=\"my-2\">\n            <Form.Group>\n              <Form.Label>Change username</Form.Label>\n              <Form.Control\n                placeholder=\"username\"\n                type=\"text\"\n                value={username}\n                onChange={(event) => setUsername(event.target.value)}\n                className=\"text-center\"\n                aria-label=\"username\"\n              />\n            </Form.Group>\n            {/* Display validation errors related to the username */}\n            {errors?.username?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Col className=\"py-2 mx-auto text-center\">\n              <Button\n                className={`${btnStyles.Button} ${btnStyles.Wide}`}\n                onClick={() => history.goBack()}\n              >\n                cancel\n              </Button>\n            </Col>\n            <Col className=\"py-2 mx-auto text-center\">\n              <Button\n                className={`${btnStyles.Button} ${btnStyles.Wide}`}\n                type=\"submit\"\n              >\n                save\n              </Button>\n            </Col>\n          </Form>\n        </Container>\n      </Col>\n    </Row>\n  );\n};\n\nexport default UsernameForm;\n","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\n\nconst UserPasswordForm = () => {\n  const history = useHistory();\n  const { id } = useParams();\n  const currentUser = useCurrentUser();\n\n  const [userData, setUserData] = useState({\n    new_password1: \"\",\n    new_password2: \"\",\n  });\n  const { new_password1, new_password2 } = userData;\n\n  const [errors, setErrors] = useState({});\n\n  // Handle form input changes\n  const handleChange = (event) => {\n    setUserData({\n      ...userData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  useEffect(() => {\n    // redirect user if they are not the owner of this profile\n    if (currentUser?.profile_id?.toString() !== id) {\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  // Handle form submission\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosRes.post(\"/dj-rest-auth/password/change/\", userData);\n      history.goBack();\n    } catch (err) {\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row>\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\n        <Container className={appStyles.Content}>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group>\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                placeholder=\"new password\"\n                type=\"password\"\n                value={new_password1}\n                onChange={handleChange}\n                name=\"new_password1\"\n                className=\"text-center\"\n                aria-label=\"new password\"\n              />\n            </Form.Group>\n            {/* Display validation errors for first password input */}\n            {errors?.new_password1?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Form.Group>\n              <Form.Label>New password</Form.Label>\n              <Form.Control\n                placeholder=\"confirm new password\"\n                type=\"password\"\n                value={new_password2}\n                onChange={handleChange}\n                name=\"new_password2\"\n                className=\"text-center\"\n                aria-label=\"confirm new password\"\n              />\n            </Form.Group>\n            {/* Display validation errors for second password input */}\n            {errors?.new_password2?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Col className=\"py-2 mx-auto text-center\">\n              <Button\n                className={`${btnStyles.Button} ${btnStyles.Wide}`}\n                onClick={() => history.goBack()}\n              >\n                cancel\n              </Button>\n            </Col>\n            <Col className=\"py-2 mx-auto text-center\">\n              <Button\n                type=\"submit\"\n                className={`${btnStyles.Button} ${btnStyles.Wide}`}\n              >\n                save\n              </Button>\n            </Col>\n          </Form>\n        </Container>\n      </Col>\n    </Row>\n  );\n};\n\nexport default UserPasswordForm;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport Image from \"react-bootstrap/Image\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useHistory, useParams } from \"react-router\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Asset from \"../../components/Asset\";\nimport appStyles from \"../../App.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n\nexport default function ProfileImageChangeForm() {\n  const [errors, setErrors] = useState({});\n  const [profile, setProfile] = useState({ image: \"\" });\n  const [loading, setLoading] = useState(true);\n\n  const history = useHistory();\n  const { id } = useParams();\n  const imageInput = useRef(null); // Reference to the file input for image upload\n\n  useEffect(() => {\n    const handleMount = async () => {\n      try {\n        const { data } = await axiosReq.get(`/profiles/${id}`);\n        if (data.is_owner) {\n          setProfile({ image: data.image }); // Set the profile image if the user is the owner\n        } else {\n          history.push(\"/\");\n        }\n      } catch (err) {\n       // Silently ignore the error - keep comment to avoid parsing error \n      } finally {\n        setLoading(false);\n      }\n    };\n\n    handleMount();\n  }, [history, id]);\n  // Handle the image change when a user selects a new file\n  const handleChangeImage = (event) => {\n    if (event.target.files.length) {\n      URL.revokeObjectURL(profile.image);\n      setProfile({\n        ...profile,\n        image: URL.createObjectURL(event.target.files[0]), // Update profile image with new selected image\n      });\n    }\n  };\n  // Handle form submission\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n    // Append the new image file if selected\n    if (imageInput?.current?.files[0]) {\n      formData.append(\"image\", imageInput.current.files[0]);\n    }\n\n    try {\n      setLoading(true); // Set loading state to true while submitting the form\n      await axiosReq.put(`/profiles/${id}`, formData);\n      history.push(`/profiles/${id}`);\n    } catch (err) {\n      setErrors(err.response?.data || {});\n    } finally {\n      setLoading(false); // Stop loading after the API call finishes\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      {loading ? (\n        <div className=\"text-center mt-5\">\n          {/* Show loading spinner while fetching data */}\n          <Asset spinner />\n        </div>\n      ) : (\n        <Row className=\"justify-content-center\">\n          <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\n            <Container\n              className={`${appStyles.Content} d-flex flex-column justify-content-center align-items-center`}\n            >\n              <Form.Group className=\"text-center\">\n                <figure>\n                  <Image\n                    className={appStyles.Image}\n                    src={profile.image}\n                    rounded\n                    alt=\"Profile\"\n                  />\n                </figure>\n                <div>\n                  {/* Button for changing the profile image */}\n                  <Form.Label\n                    className={`${btnStyles.Button} ${btnStyles.Wide} btn`}\n                    htmlFor=\"image-upload\"\n                  >\n                    Change the image\n                  </Form.Label>\n                </div>\n                {/* File input for selecting a new image */}\n                <Form.Control\n                  type=\"file\"\n                  id=\"image-upload\"\n                  accept=\"image/*\"\n                  onChange={handleChangeImage}\n                  ref={imageInput}\n                />\n                {/* Submit button for saving the new image */}\n                <Col className=\"py-2 mx-auto text-center\">\n                  <Button\n                    className={`${btnStyles.Button} ${btnStyles.Wide} btn`}\n                    type=\"submit\"\n                  >\n                    Save\n                  </Button>\n                </Col>\n                {/* Cancel button to go back to the previous page */}\n                <Col className=\"py-2 mx-auto text-center\">\n                  <Button\n                    className={`${btnStyles.Button} ${btnStyles.Wide} btn`}\n                    onClick={() => history.goBack()}\n                  >\n                    Cancel\n                  </Button>\n                </Col>\n              </Form.Group>\n              {/* Display errors if any occur during form submission */}\n              {errors.image?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                  {message}\n                </Alert>\n              ))}\n            </Container>\n          </Col>\n        </Row>\n      )}\n    </Form>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport styles from \"../../styles/EditStatus.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n\nexport default function EditStatus() {\n  const { id } = useParams();\n  const history = useHistory();\n  const [status, setStatus] = useState(\"\");\n\n  const handleSave = async () => {\n    try {\n      await axios.put(`/profiles/${id}`, { status });\n      history.goBack();\n    } catch (error) {\n     // Silently ignore the error - keep comment to avoid parsing error \n    }\n  };\n\n  return (\n    <Container className={styles.StatusContainer}>\n      <div className={styles.StatusCard}>\n        <h2 className={styles.StatusHeading}>Update Your Status</h2>\n\n        <Form.Group>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"What's on your mind?\"\n            value={status}\n            onChange={(e) => setStatus(e.target.value)}\n            className={styles.StatusInput}\n            aria-label=\"status\"\n          />\n        </Form.Group>\n\n        <Button\n          className={`mt-3 ${btnStyles.Button} ${styles.SaveButton}`}\n          onClick={handleSave}\n        >\n          Update Status\n        </Button>\n      </div>\n    </Container>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport styles from \"../../styles/AddCountry.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n\nexport default function AddCountry() {\n  const { id } = useParams();\n  const history = useHistory();\n  // State variable for storing the list of countries available for selection\n  const [countries, setCountries] = useState([]);\n  // State variable for storing the selected country from the dropdown\n  const [selectedCountry, setSelectedCountry] = useState(\"\");\n  // State variable for storing the list of visited countries\n  const [visitedCountries, setVisitedCountries] = useState([]);\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const { data } = await axios.get(`/profiles/${id}`);\n        setVisitedCountries(data.visited_countries || []);\n      } catch (error) {\n        // console.error(\"Error fetching profile:\", error);\n      }\n    };\n\n    fetchProfile();\n  }, [id]);\n\n  // Fetch the list of available countries for selection\n  useEffect(() => {\n    const fetchCountries = async () => {\n      try {\n        const { data } = await axios.get(\"/countries/\");\n        setCountries(data); // Store countries in state\n      } catch (error) {\n       // Silently ignore the error - keep comment to avoid parsing error \n      }\n    };\n\n    fetchCountries();\n  }, []);\n\n  // Add the selected country to the visited countries list, if it's not already in the list\n  const handleAddCountry = () => {\n    if (selectedCountry && !visitedCountries.includes(selectedCountry)) {\n      setVisitedCountries([...visitedCountries, selectedCountry]); // Update the visited countries list\n    }\n  };\n  // Remove a country from the visited countries list\n  const handleRemoveCountry = (countryToRemove) => {\n    setVisitedCountries(visitedCountries.filter((c) => c !== countryToRemove));\n  };\n  // Save the updated visited countries list to the user's profile\n  const handleSave = async () => {\n    try {\n      await axios.put(`/profiles/${id}`, {\n        visited_countries: visitedCountries,\n      });\n      history.goBack();\n    } catch (error) {\n      // console.error(\"Error updating visited countries:\", error);\n    }\n  };\n\n  return (\n    <Container\n      className={`d-flex flex-column justify-content-center ${styles.Container}`}\n    >\n      {/* Add a visited country */}\n      <Form.Group controlId=\"countrySelect\">\n        <Form.Label>Select a Country</Form.Label>\n        <Form.Control\n          as=\"select\"\n          value={selectedCountry}\n          onChange={(e) => setSelectedCountry(e.target.value)}\n        >\n          <option value=\"\">Choose a country</option>\n          {countries.map((c) => (\n            <option key={c.code} value={c.name}>\n              {c.name}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n\n      <Button\n        variant=\"primary\"\n        onClick={handleAddCountry}\n        className={`mt-2 ${btnStyles.Button}`}\n      >\n        Add Country\n      </Button>\n\n      {/* Visited countries with a remove button */}\n      <h4 className=\"mt-4\">Visited Countries:</h4>\n      <div className=\"row\">\n        {visitedCountries.map((country, index) => (\n          <div className=\"col-xs-12 col-sm-6 col-md-4 col-lg-3\" key={index}>\n            <div className={styles.Country}>\n              <Button\n                variant=\"danger\"\n                size=\"sm\"\n                onClick={() => handleRemoveCountry(country)}\n                className={styles.Delete}\n              >\n                Remove\n              </Button>\n              <span className={styles.Visited}> {country}</span>\n            </div>\n          </div>\n        ))}\n      </div>\n      {/* Save changes and go back to profile */}\n      <Button\n        variant=\"success\"\n        onClick={handleSave}\n        className={`mt-3 ${btnStyles.Button}`}\n      >\n        Save Changes\n      </Button>\n    </Container>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport styles from \"../../styles/ChangeThemeSong.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n\nexport default function ChangeThemeSong() {\n  const { id } = useParams();\n  const history = useHistory();\n  const [themeSong, setThemeSong] = useState(null);\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const { data } = await axios.get(`/profiles/${id}`);\n        setThemeSong(data.theme_song || null);\n      } catch (error) {\n        // console.error(\"Error fetching profile:\", error);\n      }\n    };\n\n    fetchProfile();\n  }, [id]);\n  // Handle file upload for the theme song (MP3 only)\n  const handleThemeSongUpload = (e) => {\n    if (e.target.files.length) {\n      const file = e.target.files[0];\n      // Check if the uploaded file is an MP3\n      if (file.type !== \"audio/mpeg\") {\n        alert(\"Please upload an MP3 file.\"); // If not an MP3, show alert and return\n        return;\n      }\n      setThemeSong(file);\n    }\n  };\n  // Handle saving the uploaded theme song\n  const handleSave = async () => {\n    const formData = new FormData();\n    // Append the theme song to the FormData object if it's a valid file\n    if (themeSong instanceof File) {\n      formData.append(\"theme_song\", themeSong);\n    }\n\n    try {\n      await axios.put(`/profiles/${id}`, formData);\n      history.goBack();\n    } catch (error) {\n      // Silently ignore the error - keep comment to avoid parsing error\n    }\n  };\n\n  return (\n    // Container for the theme song section, using custom styles for layout\n    <Container className={styles.ThemeSongContainer}>\n      <h2 className={styles.Heading}>🎶 Change Your Theme Song</h2>\n\n      <div className={styles.MoodDescription}>\n        <p>\n          Let others know your mood – add your favorite music theme song to your\n          profile!\n        </p>\n      </div>\n\n      <div>\n        <Form.Group controlId=\"themeSong\">\n          <Form.Label className={styles.UploadLabel}>\n            <i className=\"fa-solid fa-music\"></i> Upload a New Theme Song\n          </Form.Label>\n          <Form.File accept=\"audio/mpeg\" onChange={handleThemeSongUpload} />\n          {/* Display the currently selected theme song, if available */}\n          {themeSong && (\n            <div>\n              <p>\n                <i className=\"fas fa-headphones\"></i> Now Selected:{\" \"}\n                {themeSong instanceof File\n                  ? themeSong.name\n                  : themeSong.slice(themeSong.lastIndexOf(\"/\") + 1)}\n              </p>\n            </div>\n          )}\n        </Form.Group>\n      </div>\n\n      <Button\n        variant=\"success\"\n        onClick={handleSave}\n        className={`mt-3 ${btnStyles.Button}`}\n      >\n        <i className=\"fas fa-check\"></i> Save Changes\n      </Button>\n    </Container>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport styles from \"../../styles/Confirmation.module.css\";\n\nfunction Confirmation() {\n  const currentUser = useCurrentUser();\n  return (\n    <div className={`text-center ${styles.Container}`}>\n      <h2 className={styles.Header}>Preferences successfully created!</h2>\n      <p>Your travel preferences have been saved successfully.</p>\n      <Link\n        to={`/profiles/${currentUser.profile_id}`}\n        className={`btn ${btnStyles.Button}`}\n      >\n        Go back to your profile\n      </Link>\n    </div>\n  );\n}\n\nexport default Confirmation;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport buttonStyles from \"../styles/Button.module.css\";\nimport styles from \"../styles/NotFoundPage.module.css\";\n\nconst NotFoundPage = () => {\n  const history = useHistory();\n\n  const handleRedirect = () => {\n    history.push(\"/\");\n  };\n\n  return (\n    <div className={` text-center ${styles.Container}`}>\n      <div>\n        <h1 className={`${styles.NotFound}`}>404</h1>\n        <div className={`mb-3 ${styles.Text}`}>\n          <h2 className=\"display-4\">\n            Looks like you&apos;ve wandered off the beaten path!\n          </h2>\n          <p className={styles.SubText}>\n            Not all who wander are lost... but you are right now.\n          </p>\n        </div>\n        <button className={buttonStyles.Button} onClick={handleRedirect}>\n          Get back on track\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default NotFoundPage;\n","import React from \"react\";\nimport styles from \"./App.module.css\";\nimport Container from \"react-bootstrap/Container\";\nimport { Route, Switch, useLocation } from \"react-router-dom\";\nimport \"./api/axiosDefaults\";\nimport SignUpForm from \"./pages/auth/SignUpForm\";\nimport SignInForm from \"./pages/auth/SignInForm\";\nimport NavBar from \"./components/NavBar\";\nimport LandingPageText from \"./components/LandingPageText\";\nimport Map from \"./pages/map/Map\";\nimport PostCreateForm from \"./pages/posts/PostCreateForm\";\nimport PostPage from \"./pages/posts/PostPage\";\nimport PostsPage from \"./pages/posts/PostsPage\";\nimport { useCurrentUser } from \"./contexts/CurrentUserContext\";\nimport PostEditForm from \"./pages/posts/PostEditForm\";\nimport Profile from \"./pages/profile/Profile\";\nimport Profiles from \"./pages/profile/Profiles\";\nimport TravelPreferenceEditForm from \"./pages/travel_preference/TravelPreferenceEditForm\";\nimport AddTravelPreference from \"./pages/travel_preference/AddTravelPreferences\";\nimport TravelRecommendation from \"./pages/travel_recommendation/TravelRecommendation\";\nimport Trip from \"./pages/trip/Trip\";\nimport TripEditForm from \"./pages/trip/TripEditForm\";\nimport AddTrip from \"./pages/trip/AddTrip\";\nimport UsernameForm from \"./pages/profile/UsernameForm\";\nimport UserPasswordForm from \"./pages/profile/UserPasswordForm\";\nimport ProfileImageChangeForm from \"./pages/profile/ProfileImageChangeForm\";\nimport EditStatus from \"./pages/profile/EditStatus\";\nimport AddCountry from \"./pages/profile/AddCountry\";\nimport ChangeThemeSong from \"./pages/profile/ChangeThemeSong\";\nimport Confirmation from \"./pages/travel_preference/Confirmation\";\nimport NotFoundPage from \"./components/NotFoundPage\";\nimport landingPageImage from \"./assets/landing_page.webp\";\n\nfunction App() {\n  const currentUser = useCurrentUser();\n  const profile_id = currentUser?.profile_id || \"\";\n  const location = useLocation();\n  // Conditionally set background image on landing page\n  const isLandingPage = location.pathname === \"/\";\n\n  return (\n    <div\n      style={{\n        backgroundImage: isLandingPage ? `url(${landingPageImage})` : \"none\",\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundAttachment: \"fixed\",\n      }}\n      className={`${styles.App} ${styles.LandingBackground}`}\n    >\n      <NavBar />\n      {\n        <Container fluid className={styles.Main}>\n          <Switch>\n            {/* Route for Map page */}\n            <Route exact path=\"/map\" render={() => <Map />} />\n            {/* Landing page */}\n            <Route exact path=\"/\" render={() => <LandingPageText />} />\n            {/* Conditional rendering for authentication routes */}\n            {!currentUser && (\n              <>\n                {/* Routes for users not authenticated */}\n                <Route exact path=\"/signin\" render={() => <SignInForm />} />\n                <Route exact path=\"/signup\" render={() => <SignUpForm />} />\n              </>\n            )}\n            {/* Route for Confirmation page after travel preferences are set */}\n            <Route exact path=\"/confirmation\" render={() => <Confirmation />} />\n            {/* Routes related to user profile editing */}\n            <Route\n              path=\"/profiles/:id/edit/status\"\n              render={() => <EditStatus />}\n            />\n            <Route\n              path=\"/profiles/:id/edit/countries\"\n              render={() => <AddCountry />}\n            />\n            <Route\n              path=\"/profiles/:id/edit/theme-song\"\n              render={() => <ChangeThemeSong />}\n            />\n            <Route\n              path=\"/profiles/:id/change-image\"\n              render={() => <ProfileImageChangeForm />}\n            />\n            <Route\n              exact\n              path=\"/profiles/:id/edit/username\"\n              render={() => <UsernameForm />}\n            />\n            <Route\n              exact\n              path=\"/profiles/:id/edit/password\"\n              render={() => <UserPasswordForm />}\n            />\n            <Route path=\"/profiles/:id\" render={() => <Profile />} />\n            {/* Routes related to trip creation/editing */}\n            <Route path=\"/trip/:id/edit\" render={() => <TripEditForm />} />\n            <Route path=\"/trip/create\" render={() => <AddTrip />} />\n            <Route path=\"/trip/\" render={() => <Trip />} />\n            {/* Routes for travel preferences */}\n            <Route\n              path=\"/travel-preference/:id/edit\"\n              render={() => <TravelPreferenceEditForm />}\n            />\n            <Route\n              path=\"/travel-preference/\"\n              render={() => <AddTravelPreference />}\n            />\n            <Route\n              path=\"/travel-recommendation/\"\n              render={() => <TravelRecommendation />}\n            />\n            {/* Routes related to posts */}\n            <Route\n              exact\n              path=\"/posts/create\"\n              render={() => <PostCreateForm />}\n            />\n            <Route exact path=\"/posts/:id\" component={PostPage} />\n            <Route\n              exact\n              path=\"/posts/:id/edit\"\n              render={() => <PostEditForm />}\n            />\n            <Route\n              exact\n              path=\"/feed\"\n              render={() => (\n                <PostsPage\n                  message=\"No results found.\"\n                  filter={`owner__travel_buddies_initiated__owner__profile=${profile_id}&`}\n                />\n              )}\n            />\n            {/* Route for searching and viewing other users */}\n            <Route exact path=\"/travelers/\" render={() => <Profiles />} />\n            {/* Logout route */}\n            <Route exact path=\"/logout\" render={() => <h1>Logout</h1>} />\n            {/* 404 not found page */}\n            <Route render={() => <NotFoundPage />} />\n          </Switch>\n        </Container>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\n\nReactDOM.render(\n  <Router>\n    <CurrentUserProvider>\n      <App />\n    </CurrentUserProvider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}