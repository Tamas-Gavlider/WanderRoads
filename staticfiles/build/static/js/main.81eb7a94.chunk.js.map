{"version":3,"sources":["styles/Button.module.css","api/axiosDefaults.js","contexts/CurrentUserContext.js","App.module.css","styles/NavBar.module.css","styles/Profile.module.css","styles/SignInUpForm.module.css","utils/utils.js","styles/PostsPage.module.css","styles/CommentCreateEditForm.module.css","styles/EditProfile.module.css","components/Loading.js","styles/MoreDropdown.module.css","styles/Post.module.css","styles/PopularDestinations.module.css","styles/PostPage.module.css","styles/TravelRecommendation.module.css","styles/EditStatus.module.css","styles/LandingPageText.module.css","styles/Profiles.module.css","styles/AddCountry.module.css","styles/NotFoundPage.module.css","styles/PostCreateEditForm.module.css","styles/AddTrip.module.css","styles/ThemeSong.module.css","styles/TravelPreferenceEditForm.module.css","styles/Map.module.css","styles/Comment.module.css","styles/Trip.module.css","styles/Confirmation.module.css","pages/travel_preference/AddTravelPreferences.js","assets/reg_img.webp","assets/sign_in_img.webp","styles/Avatar.module.css","styles/Asset.module.css","assets/upload.png","styles/Loading.module.css","assets/recommendation-bg.webp","pages/travel_recommendation/TravelRecommendation.js","assets/landing_page.webp","hooks/useRedirect.js","pages/auth/SignUpForm.js","pages/auth/SignInForm.js","hooks/useClickOutsideToggle.js","components/Avatar.js","components/NavBar.js","components/LandingPageText.js","pages/map/Map.js","components/Asset.js","pages/posts/PostCreateForm.js","components/MoreDropdown.js","pages/posts/Post.js","pages/comments/CommentEditForm.js","pages/comments/Comment.js","pages/comments/CommentCreateForm.js","components/PopularDestinations.js","pages/posts/PostPage.js","pages/posts/PostsPage.js","pages/posts/PostEditForm.js","components/ThemeSong.js","pages/profile/Profile.js","pages/profile/Profiles.js","pages/travel_preference/TravelPreferenceEditForm.js","pages/trip/Trip.js","pages/trip/TripEditForm.js","pages/trip/AddTrip.js","pages/profile/UsernameForm.js","pages/profile/UserPasswordForm.js","pages/profile/ProfileImageChangeForm.js","pages/profile/EditStatus.js","pages/profile/AddCountry.js","pages/profile/ChangeThemeSong.js","pages/travel_preference/Confirmation.js","components/NotFoundPage.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosReq","create","axiosRes","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","_ref","children","currentUser","setCurrentUser","useState","history","useHistory","useEffect","async","data","get","err","console","log","handleMount","useMemo","interceptors","request","use","shouldRefreshToken","prevCurrentUser","push","removeTokenTimestamp","config","Promise","reject","response","_err$response","status","React","createElement","Provider","value","fetchMoreData","resource","setResource","next","prevResource","results","reduce","acc","cur","some","accResult","id","setTokenTimestamp","refreshTokenTimestamp","jwtDecode","access","exp","localStorage","setItem","getItem","removeItem","Loading","className","style","height","styles","airplane","AddTravelPreferences","isSubmitting","setIsSubmitting","preferenceExists","setPreferenceExists","formData","preferred_continent","climate","activity","budget","travel_style","duration","pk","then","catch","error","onSubmit","e","preventDefault","alert","type","disabled","BtnStyle","Button","TravelRecommendation","recommendation","setRecommendation","Container","Heading","length","ListGroup","horizontal","ListContainer","recommended_destination","map","destination","index","Item","key","ListItem","str","charAt","toUpperCase","slice","NoData","useRedirect","userAuthStatus","SignUpForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","signUpData","setSignUpData","username","password1","password2","errors","setErrors","handleChange","event","target","name","fluid","Row","Col","md","appStyles","Content","Header","Form","Group","controlId","as","Label","Control","Input","placeholder","onChange","aria-label","message","idx","Alert","variant","btnStyles","Wide","non_field_errors","Image","FillerImageRegister","src","reg_img","alt","Link","SignInLink","to","SignInForm","signInData","setSignInData","password","prev","validateField","prevErrors","newErrors","trim","user","Object","keys","SignInCol","FillerImage","image","useClickOutsideToggle","expanded","setExpanded","ref","useRef","handleClickOutside","current","contains","document","addEventListener","removeEventListener","Avatar","text","loading","setLoading","Spinner","animation","width","onLoad","handleImageLoad","visibility","NavBar","loggedInLinks","Fragment","NavLink","exact","activeClassName","Active","onClick","profile_id","profile_image","loggedOutLinks","Navbar","expand","fixed","Toggle","aria-controls","Collapse","Nav","LandingPageText","HeroRow","Subheading","Map","countryPosts","setCountryPosts","postCounts","country_post_counts","fetchPostCounts","ComposableMap","projectionConfig","center","scale","ZoomableGroup","minZoom","maxZoom","enablePan","Geographies","geography","geographies","geo","countryName","properties","postCount","OverlayTrigger","rsmKey","placement","overlay","Tooltip","Geography","default","fill","stroke","strokeWidth","outline","hover","pressed","Asset","spinner","PostCreateForm","_errors$title","_errors$content","_errors$image","postData","setPostData","title","content","country","countries","setCountries","imageInput","fetchCountries","textFields","rows","required","c","code","goBack","FormData","append","files","_err$response2","lg","rounded","htmlFor","Upload","File","accept","URL","revokeObjectURL","createObjectURL","ThreeDots","forwardRef","Dot","displayName","MoreDropdown","_ref2","handleEdit","handleDelete","Dropdown","drop","Menu","popperConfig","strategy","DropdownItem","Icon","Post","props","owner","comments_count","country_name","created_at","postPage","is_owner","showDeleteModal","setShowDeleteModal","handleCloseDeleteModal","xs","sm","Card","Body","Media","handleShowDeleteModal","Profile","User","Img","Title","Text","iconStyles","Hidden","Modal","show","onHide","closeButton","Footer","delete","CommentEditForm","setShowEditForm","setComments","formContent","setFormContent","put","prevComments","comment","updated_at","Comment","setPost","showEditForm","errorMessage","setErrorMessage","Owner","Date","profileImage","prevPost","_prevPost$results","Math","max","_prevComments$results","filter","CommentCreateForm","setContent","CommentFormContainer","InputGroup","PopularDestinations","popularDestinations","setPopularDestinations","sortedDestinations","entries","count","sort","a","b","Accordion","dest","eventKey","String","CardBody","PostPage","useParams","comments","all","assign","setPosts","InfiniteScroll","dataLength","loader","hasMore","Destination","PostsPage","posts","hasLoaded","setHasLoaded","pathname","useLocation","query","setQuery","setError","timer","setTimeout","fetchPosts","clearTimeout","CreatePost","ShareText","navStyle","ShareIcon","SearchIcon","SearchBar","Error","PostEditForm","_imageInput$current","ThemeSong","isMuted","setIsMuted","audioRef","toggleMute","play","pause","theme_song","TravelPreferences","lazy","UserPosts","profile","setProfile","isOwner","visitedCountriesList","_profile$visited_coun","visited_countries","experience","Countries","ProfileContainer","HeroSection","backgroundImage","backgroundImageUrl","Overlay","ProfileContent","ProfileImage","roundedCircle","ProfileText","Status","Tab","defaultActiveKey","ProfileNav","TabContent","Suspense","fallback","Pane","profileOwner","EditIcon","UserList","profiles","setProfiles","sortBy","setSortBy","fetchProfiles","Users","searchStyles","onSelect","UserCard","posts_count","TravelPreferenceEditForm","preferencesData","setPreferencesData","fetchData","EditPrefContainer","EditPrefHeading","EditPrefForm","Trip","trip","setTrip","showModal","setShowModal","tripToDelete","setTripToDelete","sortedTrips","t","days_until_trip","start_date","expiredTrips","Soon","tripId","confirmDelete","Subtitle","end_date","notes","centered","prevTrip","TripEditForm","tripData","setTripData","matchingCountry","find","countryCode","updatedStartDate","updatedEndDate","AddTrip","_errors$start_date","_errors$end_date","UsernameForm","setUsername","_currentUser$profile_","toString","prevUser","UserPasswordForm","_errors$new_password","_errors$new_password2","userData","setUserData","new_password1","new_password2","ProfileImageChangeForm","EditStatus","setStatus","StatusContainer","StatusCard","StatusHeading","StatusInput","SaveButton","AddCountry","selectedCountry","setSelectedCountry","visitedCountries","setVisitedCountries","fetchProfile","handleAddCountry","includes","Country","size","handleRemoveCountry","countryToRemove","Delete","Visited","ChangeThemeSong","themeSong","setThemeSong","ThemeSongContainer","MoodDescription","SongCard","UploadSection","UploadLabel","file","UploadButton","SongPreview","lastIndexOf","Confirmation","NotFoundPage","NotFound","SubText","buttonStyles","handleRedirect","App","isLandingPage","landingPageImage","backgroundSize","backgroundPosition","backgroundRepeat","backgroundAttachment","LandingBackground","Main","Switch","Route","path","render","AddTravelPreference","component","Profiles","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Router","getElementById"],"mappings":"oGACAA,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,uB,6BCDzD,gFAUAC,IAAMC,SAASC,QAAU,OACzBF,IAAMC,SAASE,QAAQC,KAAK,gBAAkB,sBAC9CJ,IAAMC,SAASI,iBAAkB,EAE1B,MAAMC,EAAWN,IAAMO,SACjBC,EAAWR,IAAMO,U,gCCf9B,0JAOO,MAAME,EAAqBC,0BACrBC,EAAwBD,0BAExBE,EAAiBA,IAAMC,qBAAWJ,GAClCK,EAAoBA,IAAMD,qBAAWF,GAErCI,EAAsBC,IAAmB,IAAlB,SAAEC,GAAUD,EAC9C,MAAOE,EAAaC,GAAkBC,mBAAS,MACzCC,EAAUC,uBA8DhB,OAnDAC,oBAAU,KATUC,WAClB,IACE,MAAM,KAAEC,SAAejB,IAASkB,IAAI,uBACpCP,EAAeM,GACf,MAAOE,GACPC,QAAQC,IAAIF,KAKdG,IACC,IAEHC,kBAAQ,KACNzB,IAAS0B,aAAaC,QAAQC,IAC5BV,UACE,GAAIW,cACJ,UACQnC,IAAMI,KAAK,gCACjB,MAAOuB,GAQP,OAPAR,EAAgBiB,IACVA,GACFf,EAAQgB,KAAK,WAER,OAETC,cACOC,EAGT,OAAOA,GAERZ,GACQa,QAAQC,OAAOd,IAI1BnB,IAASwB,aAAaU,SAASR,IAC5BQ,GAAaA,EACdlB,UAAgB,IAADmB,EACb,GAA6B,OAAb,QAAZA,EAAAhB,EAAIe,gBAAQ,IAAAC,OAAA,EAAZA,EAAcC,QAAgB,CAChC,UACQ5C,IAAMI,KAAK,gCACjB,MAAOuB,GACPR,EAAgBiB,IACVA,GACFf,EAAQgB,KAAK,WAER,OAETC,cAEF,OAAOtC,YAAM2B,EAAIY,QAEnB,OAAOC,QAAQC,OAAOd,MAGzB,CAACN,IAIFwB,IAAAC,cAACrC,EAAmBsC,SAAQ,CAACC,MAAO9B,GAClC2B,IAAAC,cAACnC,EAAsBoC,SAAQ,CAACC,MAAO7B,GACpCF,M,kBC/ETnB,EAAOC,QAAU,CAAC,IAAM,iBAAiB,KAAO,kBAAkB,QAAU,qBAAqB,YAAc,yBAAyB,oBAAsB,iCAAiC,MAAQ,mBAAmB,kBAAoB,iC,oBCA9OD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,wBAAwB,OAAS,yB,gBCA7FD,EAAOC,QAAU,CAAC,iBAAmB,kCAAkC,UAAY,2BAA2B,YAAc,6BAA6B,QAAU,yBAAyB,eAAiB,gCAAgC,aAAe,8BAA8B,YAAc,6BAA6B,OAAS,wBAAwB,UAAY,2BAA2B,WAAa,4BAA4B,WAAa,4BAA4B,QAAU,yBAAyB,SAAW,4B,oBCA7gBD,EAAOC,QAAU,CAAC,IAAM,0BAA0B,MAAQ,4BAA4B,OAAS,6BAA6B,KAAO,2BAA2B,UAAY,gCAAgC,UAAY,gCAAgC,WAAa,mC,oCCDnQ,6JAGO,MAAMkD,EAAgBzB,MAAO0B,EAAUC,KAC5C,IACE,MAAM,KAAE1B,SAAenB,IAASoB,IAAIwB,EAASE,MAC7CD,EAAaE,IAAY,IACpBA,EACHD,KAAM3B,EAAK2B,KACXE,QAAS7B,EAAK6B,QAAQC,OAAO,CAACC,EAAKC,IAC1BD,EAAIE,KAAMC,GAAcA,EAAUC,KAAOH,EAAIG,IAChDJ,EACA,IAAIA,EAAKC,GACZJ,EAAaC,YAElB,MAAO3B,GACPC,QAAQC,IAAIF,KAIHkC,EAAqBpC,IAChC,MAAMqC,EAAwBC,YAAc,OAAJtC,QAAI,IAAJA,OAAI,EAAJA,EAAMuC,QAAQC,IACtDC,aAAaC,QAAQ,wBAAyBL,IAGnC3B,EAAqBA,MACvB+B,aAAaE,QAAQ,yBAGnB9B,EAAuBA,KAClC4B,aAAaG,WAAW,2B,iBC7B1BvE,EAAOC,QAAU,CAAC,IAAM,uBAAuB,OAAS,0BAA0B,UAAY,6BAA6B,WAAa,8BAA8B,WAAa,8BAA8B,UAAY,6BAA6B,UAAY,6BAA6B,KAAO,0B,sBCA1SD,EAAOC,QAAU,CAAC,KAAO,oCAAoC,qBAAuB,oDAAoD,OAAS,sCAAsC,KAAO,oCAAoC,OAAS,wC,iBCA3OD,EAAOC,QAAU,CAAC,MAAQ,2BAA2B,OAAS,4BAA4B,OAAS,4BAA4B,mBAAqB,wCAAwC,gBAAkB,qCAAqC,QAAU,+B,8BCD7P,sCAWeuE,IARCA,IAEZzB,IAAAC,cAAA,OAAKyB,UAAU,0CAA0CC,MAAO,CAAEC,OAAQ,SACxE5B,IAAAC,cAAA,KAAGyB,UAAW,qBAAqBG,IAAOC,a,oBCLhD7E,EAAOC,QAAU,CAAC,aAAe,mCAAmC,KAAO,2BAA2B,IAAM,4B,qBCA5GD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,OAAS,qBAAqB,MAAQ,oBAAoB,QAAU,sBAAsB,KAAO,mBAAmB,QAAU,wB,gBCA1KD,EAAOC,QAAU,CAAC,UAAY,uCAAuC,KAAO,kCAAkC,MAAQ,mCAAmC,OAAS,oCAAoC,SAAW,wC,qBCAjND,EAAOC,QAAU,CAAC,IAAM,sBAAsB,YAAc,8BAA8B,KAAO,uBAAuB,QAAU,4B,gBCAlID,EAAOC,QAAU,CAAC,UAAY,wCAAwC,QAAU,sCAAsC,cAAgB,4CAA4C,SAAW,uCAAuC,OAAS,uC,gBCA7OD,EAAOC,QAAU,CAAC,gBAAkB,oCAAoC,WAAa,+BAA+B,OAAS,2BAA2B,cAAgB,kCAAkC,YAAc,gCAAgC,WAAa,iC,qBCArQD,EAAOC,QAAU,CAAC,UAAY,mCAAmC,QAAU,iCAAiC,QAAU,iCAAiC,WAAa,sC,iBCApKD,EAAOC,QAAU,CAAC,MAAQ,wBAAwB,SAAW,2BAA2B,OAAS,yBAAyB,YAAc,gC,gBCAxID,EAAOC,QAAU,CAAC,UAAY,8BAA8B,QAAU,4BAA4B,QAAU,8B,gBCA5GD,EAAOC,QAAU,CAAC,SAAW,+BAA+B,KAAO,2BAA2B,QAAU,gC,8BCAxGD,EAAOC,QAAU,CAAC,UAAY,wC,kBCA9BD,EAAOC,QAAU,CAAC,KAAO,wB,mBCAzBD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,OAAS,0BAA0B,OAAS,4B,gBCAvGD,EAAOC,QAAU,CAAC,kBAAoB,oDAAoD,cAAgB,gDAAgD,gBAAkB,kDAAkD,aAAe,iD,mBCA7OD,EAAOC,QAAU,CAAC,OAAS,oBAAoB,IAAM,mB,gBCArDD,EAAOC,QAAU,CAAC,MAAQ,uBAAuB,KAAO,wB,gBCAxDD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,KAAO,qB,gBCAnDD,EAAOC,QAAU,CAAC,UAAY,gCAAgC,OAAS,+B,iCCDvE,8FAMe,SAAS6E,IACtB,MAAM1D,EAAcN,cACdS,EAAUC,wBAETuD,EAAcC,GAAmB1D,oBAAS,IAC1C2D,EAAkBC,GAAuB5D,oBAAS,IAElD6D,GAAY7D,mBAAS,CAC1B8D,oBAAqB,MACrBC,QAAS,MACTC,SAAU,MACVC,OAAQ,MACRC,aAAc,MACdC,SAAU,QAGZhE,oBAAU,MACO,OAAXL,QAAW,IAAXA,OAAW,EAAXA,EAAasE,KACfxF,IACG0B,IAAI,uBACJ+D,KAAM/C,IACDA,EAASjB,MACXuD,GAAoB,KAGvBU,MAAOC,IACN/D,QAAQ+D,MAAM,qCAAsCA,MAGzD,CAACzE,IA6BJ,OACE2B,IAAAC,cAAA,OAAKyB,UAAU,eACb1B,IAAAC,cAAA,QAAM8C,SA7BWpE,UAGnB,GAFAqE,EAAEC,kBAEG5E,EAGH,OAFAU,QAAQ+D,MAAM,qDACdtE,EAAQgB,KAAK,WAIfyC,GAAgB,GAEhB,IACE,GAAIC,EAEF,YADAgB,MAAM,8CAKF/F,IAAMI,KAAK,sBAAuB6E,GACxC5D,EAAQgB,KAAK,iBACb,MAAOsD,GACP/D,QAAQ+D,MAAM,oCAAqCA,GACpD,QACCb,GAAgB,MAOdjC,IAAAC,cAAA,UAAQkD,KAAK,SAASC,SAAUpB,EAAcN,UAAW2B,IAASC,QAAQ,mC,gBCnElFrG,EAAOC,QAAU,IAA0B,sC,kBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCC3CD,EAAOC,QAAU,CAAC,OAAS,yB,iBCA3BD,EAAOC,QAAU,CAAC,MAAQ,uB,cCD1BD,EAAOC,QAAU,s4D,kBCCjBD,EAAOC,QAAU,CAAC,SAAW,0BAA0B,IAAM,qBAAqB,cAAgB,iC,gBCDlGD,EAAOC,QAAU,IAA0B,gD,6BCA3C,qHAMe,SAASqG,IACtB,MAAMlF,EAAcN,eACbyF,EAAgBC,GAAqBlF,qBAE5CG,oBAAU,KACJL,GACFlB,IACG0B,IAAI,2BACJ+D,KAAM/C,IACL4D,EAAkB5D,EAASjB,QAE5BiE,MAAOC,IACN/D,QAAQ+D,MAAM,qCAAsCA,MAGzD,CAACzE,IAIJ,OACE2B,IAAAC,cAACyD,IAAS,CAAChC,UAAWG,IAAO6B,WAC3B1D,IAAAC,cAAA,MAAIyB,UAAWG,IAAO8B,SAAS,wBAE9BH,GAAkBA,EAAe/C,QAAQmD,OAAS,EACjD5D,IAAAC,cAAC4D,IAAS,CAACC,WAAW,KAAKpC,UAAWG,IAAOkC,eAC1CP,EAAe/C,QAAQ,GAAGuD,wBAAwBC,IAAI,CAACC,EAAaC,KACnEnE,WAAAC,cAAC4D,IAAUO,KAAI,CAACC,IAAKF,EAAOzC,UAAWG,IAAOyC,WATpCC,EAUIL,GAVQM,OAAO,GAAGC,cAAgBF,EAAIG,MAAM,IAAhDH,SAedvE,IAAAC,cAAA,KAAGyB,UAAWG,IAAO8C,QAAQ,oC,gBCtCrC1H,EAAOC,QAAU,IAA0B,2C,sTCIpC,MAAM0H,EAAeC,IAC1B,MAAMrG,EAAUC,uBAEhBC,oBAAU,KACYC,WAClB,UACQxB,IAAMI,KAAK,gCAEM,aAAnBsH,GACFrG,EAAQgB,KAAK,KAEf,MAAOV,GAEgB,cAAnB+F,GACFrG,EAAQgB,KAAK,OAKnBP,IACC,CAACT,EAASqG,KCsHAC,MA3HIA,KAAO,IAADC,EAAAC,EAAAC,EAAAC,EACvBN,EAAY,YACZ,MAAOO,EAAYC,GAAiB7G,mBAAS,CAC3C8G,SAAU,GACVC,UAAW,GACXC,UAAW,MAEP,SAAEF,EAAQ,UAAEC,EAAS,UAAEC,GAAcJ,GAEpCK,EAAQC,GAAalH,mBAAS,IAE/BC,EAAUC,uBAEViH,EAAgBC,IACpBP,EAAc,IACTD,EACH,CAACQ,EAAMC,OAAOC,MAAOF,EAAMC,OAAOzF,SActC,OACEH,IAAAC,cAACyD,IAAS,CAAChC,UAAYG,IAAO6B,UAAWoC,OAAK,GAC9C9F,IAAAC,cAAC8F,IAAG,CAACrE,UAAWG,IAAOkE,KACrB/F,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,gDAAgDuE,GAAI,GACjEjG,IAAAC,cAACyD,IAAS,CAAChC,UAAcwE,IAAUC,QAAb,SACpBnG,IAAAC,cAAA,MAAIyB,UAAWG,IAAOuE,QAAQ,WAE9BpG,IAAAC,cAACoG,IAAI,CAACtD,SAjBOpE,UACnBgH,EAAM1C,iBACN,UACQ9F,IAAMI,KAAK,8BAA+B4H,GAChD3G,EAAQgB,KAAK,WACb,MAAOV,GAAM,IAADgB,EACZ2F,EAAsB,QAAb3F,EAAChB,EAAIe,gBAAQ,IAAAC,OAAA,EAAZA,EAAclB,SAYlBoB,IAAAC,cAACoG,IAAKC,MAAK,CAACC,UAAU,WAAWC,GAAIT,IAAKrE,UAAU,QAClD1B,IAAAC,cAACoG,IAAKI,MAAK,CAAC/E,UAAU,UAAS,YAC/B1B,IAAAC,cAACoG,IAAKK,QAAO,CACXhF,UAAWG,IAAO8E,MAClBxD,KAAK,OACLyD,YAAY,WACZf,KAAK,WACL1F,MAAOkF,EACPwB,SAAUnB,EACVoB,aAAW,cAGC,QADH/B,EACZS,EAAOH,gBAAQ,IAAAN,OAAA,EAAfA,EAAiBd,IAAI,CAAC8C,EAASC,IAC9BhH,IAAAC,cAACgH,IAAK,CAACC,QAAQ,UAAU7C,IAAK2C,GAC3BD,IAIL/G,IAAAC,cAACoG,IAAKC,MAAK,CAACC,UAAU,YAAYC,GAAIT,IAAKrE,UAAU,QACnD1B,IAAAC,cAACoG,IAAKI,MAAK,CAAC/E,UAAU,UAAS,YAC/B1B,IAAAC,cAACoG,IAAKK,QAAO,CACXhF,UAAWG,IAAO8E,MAClBxD,KAAK,WACLyD,YAAY,WACZf,KAAK,YACL1F,MAAOmF,EACPuB,SAAUnB,EACVoB,aAAW,eAGE,QADJ9B,EACZQ,EAAOF,iBAAS,IAAAN,OAAA,EAAhBA,EAAkBf,IAAI,CAAC8C,EAASC,IAC/BhH,IAAAC,cAACgH,IAAK,CAAC5C,IAAK2C,EAAKE,QAAQ,WACtBH,IAIL/G,IAAAC,cAACoG,IAAKC,MAAK,CAACC,UAAU,YAAYC,GAAIT,IAAKrE,UAAU,QACnD1B,IAAAC,cAACoG,IAAKI,MAAK,CAAC/E,UAAU,UAAS,oBAC/B1B,IAAAC,cAACoG,IAAKK,QAAO,CACXhF,UAAWG,IAAO8E,MAClBxD,KAAK,WACLyD,YAAY,mBACZf,KAAK,YACL1F,MAAOoF,EACPsB,SAAUnB,EACVoB,aAAW,eAGE,QADJ7B,EACZO,EAAOD,iBAAS,IAAAN,OAAA,EAAhBA,EAAkBhB,IAAI,CAAC8C,EAASC,IAC/BhH,IAAAC,cAACgH,IAAK,CAAC5C,IAAK2C,EAAKE,QAAQ,WACtBH,IAIL/G,IAAAC,cAACqD,IAAM,CACL5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,OAC5CjE,KAAK,UACN,WAGuB,QADf+B,EACRM,EAAO6B,wBAAgB,IAAAnC,OAAA,EAAvBA,EAAyBjB,IAAI,CAAC8C,EAASC,IACtChH,IAAAC,cAACgH,IAAK,CAAC5C,IAAK2C,EAAKE,QAAQ,UAAUxF,UAAU,QAC1CqF,OAMX/G,IAAAC,cAAC+F,IAAG,CACFC,GAAI,EACJvE,UAAU,8DAEV1B,IAAAC,cAACqH,IAAK,CAAC5F,UAAWwE,IAAUqB,oBAAqBC,IAAKC,IAAS3B,OAAK,EAAC4B,IAAI,YAE3E1H,IAAAC,cAACyD,IAAS,CAAChC,UAAU,QACnB1B,IAAAC,cAAC0H,IAAI,CAACjG,UAAW,GAAGG,IAAO8F,QAAQ9F,IAAO+F,aAAcC,GAAG,WAAU,wC,kCCe9DC,MAjIf,WAAuB,IAAD/C,EAAAC,EAAAE,EACpB,MAAM5G,EAAiBL,cACvB2G,EAAY,YAEZ,MAAOmD,EAAYC,GAAiBzJ,mBAAS,CAC3C8G,SAAU,GACV4C,SAAU,MAGN,SAAE5C,EAAQ,SAAE4C,GAAaF,GACxBvC,EAAQC,GAAalH,mBAAS,IAE/BC,EAAUC,uBAsBViH,EAAgBC,IACpB,MAAM,KAAEE,EAAI,MAAE1F,GAAUwF,EAAMC,OAE9BoC,EAAeE,IAAI,IACdA,EACH,CAACrC,GAAO1F,KAzBUgI,EAACtC,EAAM1F,KAC3BsF,EAAW2C,IACT,MAAMC,EAAY,IAAKD,GAcvB,MAZa,aAATvC,GAAwC,KAAjB1F,EAAMmI,OAC/BD,EAAUhD,SAAW,CAAC,oCAEfgD,EAAUhD,SAGN,aAATQ,GAAuB1F,EAAMyD,OAAS,EACxCyE,EAAUJ,SAAW,CAAC,uDAEfI,EAAUJ,SAGZI,KAYTF,CAActC,EAAM1F,IAgBtB,OACEH,IAAAC,cAACyD,IAAS,CAACoC,OAAK,GACd9F,IAAAC,cAAC8F,IAAG,CAACrE,UAAWG,IAAOkE,KACrB/F,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,qBAAqBuE,GAAI,GACtCjG,IAAAC,cAACyD,IAAS,CAAChC,UAAcwE,IAAUC,QAAb,QACpBnG,IAAAC,cAAA,MAAIyB,UAAWG,IAAOuE,QAAQ,WAC9BpG,IAAAC,cAACoG,IAAI,CAACtD,SAnBKpE,UACnBgH,EAAM1C,iBAEN,IACE,MAAM,KAAErE,SAAezB,IAAMI,KAAK,uBAAwBwK,GAC1DzJ,EAAeM,EAAK2J,MACpBvH,YAAkBpC,GAClBJ,EAAQgB,KAAK,QACb,MAAOV,GAAM,IAADgB,EACZ2F,GAAsB,QAAZ3F,EAAAhB,EAAIe,gBAAQ,IAAAC,OAAA,EAAZA,EAAclB,OAAQ,OAWxBoB,IAAAC,cAACoG,IAAKC,MAAK,CAACC,UAAU,WAAW7E,UAAU,QACzC1B,IAAAC,cAACoG,IAAKI,MAAK,CAAC/E,UAAU,UAAS,YAC/B1B,IAAAC,cAACoG,IAAKK,QAAO,CACXvD,KAAK,OACLyD,YAAY,WACZf,KAAK,WACLnE,UAAWG,IAAO8E,MAClBxG,MAAOkF,EACPwB,SAAUnB,EACVoB,aAAW,cAGC,QADH/B,EACZS,EAAOH,gBAAQ,IAAAN,OAAA,EAAfA,EAAiBd,IAAI,CAAC8C,EAASC,IAC9BhH,IAAAC,cAACgH,IAAK,CAAC5C,IAAK2C,EAAKE,QAAQ,WAAWH,IAGtC/G,IAAAC,cAACoG,IAAKC,MAAK,CAACC,UAAU,WAAW7E,UAAU,QACzC1B,IAAAC,cAACoG,IAAKI,MAAK,CAAC/E,UAAU,UAAS,YAC/B1B,IAAAC,cAACoG,IAAKK,QAAO,CACXvD,KAAK,WACLyD,YAAY,WACZf,KAAK,WACLnE,UAAWG,IAAO8E,MAClBxG,MAAO8H,EACPpB,SAAUnB,EACVoB,aAAW,cAGC,QADH9B,EACZQ,EAAOyC,gBAAQ,IAAAjD,OAAA,EAAfA,EAAiBf,IAAI,CAAC8C,EAASC,IAC9BhH,IAAAC,cAACgH,IAAK,CAAC5C,IAAK2C,EAAKE,QAAQ,WAAWH,IAGtC/G,IAAAC,cAACqD,IAAM,CACL5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,YAC5CjE,KAAK,SACLC,SAAUoF,OAAOC,KAAKjD,GAAQ5B,OAAS,GACxC,WAIuB,QAFfsB,EAERM,EAAO6B,wBAAgB,IAAAnC,OAAA,EAAvBA,EAAyBjB,IAAI,CAAC8C,EAASC,IACtChH,IAAAC,cAACgH,IAAK,CAAC5C,IAAK2C,EAAKE,QAAQ,UAAUxF,UAAU,QAC1CqF,MAKT/G,IAAAC,cAACyD,IAAS,CAAChC,UAAU,QACnB1B,IAAAC,cAAC0H,IAAI,CAACjG,UAAWG,IAAO8F,KAAME,GAAG,WAAU,yCAK/C7H,IAAAC,cAAC+F,IAAG,CACFC,GAAI,EACJvE,UAAW,iCAAiCG,IAAO6G,WAEnD1I,IAAAC,cAACqH,IAAK,CAAC5F,UAAW,GAAGwE,IAAUyC,YAAenB,IAAKoB,IAAOlB,IAAI,e,mCCvHzDmB,MAnBeA,KAC5B,MAAOC,EAAUC,GAAexK,oBAAS,GACnCyK,EAAMC,iBAAO,MAcnB,OAbAvK,oBAAU,KACR,MAAMwK,EAAsBvD,IACtBqD,EAAIG,UAAYH,EAAIG,QAAQC,SAASzD,EAAMC,SAC7CmD,GAAY,IAKhB,OADAM,SAASC,iBAAiB,UAAWJ,GAC9B,KACLG,SAASE,oBAAoB,UAAWL,KAEzC,CAACF,IAEG,CAAEF,WAAUC,cAAaC,Q,2BCUnBQ,MAxBArL,IAAiC,IAAhC,IAAEqJ,EAAG,OAAE5F,EAAS,GAAE,KAAE6H,GAAMtL,EACxC,MAAOuL,EAASC,GAAcpL,oBAAS,GAMvC,OACEyB,IAAAC,cAAA,YACGyJ,GAAW1J,IAAAC,cAAC2J,IAAO,CAACC,UAAU,SAAS3C,QAAQ,WAChDlH,IAAAC,cAAA,OACEyB,UAAWG,IAAO2H,OAClBhC,IAAKA,EACL5F,OAAQA,EACRkI,MAAOlI,EACP8F,IAAI,SACJqC,OAbkBC,KACtBL,GAAW,IAaPhI,MAAO+H,EAAU,CAAEO,WAAY,UAAa,KAE7CR,ICkHQS,MAzHAA,KACb,MAAM7L,EAAcN,cACdO,EAAiBL,cACjBO,EAAUC,wBAEV,SAAEqK,EAAQ,YAAEC,EAAW,IAAEC,GAAQH,IAajCsB,EACJnK,IAAAC,cAAAD,IAAAoK,SAAA,KACEpK,IAAAC,cAACoK,IAAO,CACRC,OAAK,EACHzC,GAAG,IACHnG,UAAWG,IAAOwI,QAClBE,gBAAiB1I,IAAO2I,QACzB,QAGDxK,IAAAC,cAACoK,IAAO,CACNxC,GAAG,OACHnG,UAAWG,IAAOwI,QAClBE,gBAAiB1I,IAAO2I,QACzB,OAGDxK,IAAAC,cAACoK,IAAO,CACNxC,GAAG,QACHnG,UAAWG,IAAOwI,QAClBE,gBAAiB1I,IAAO2I,QACzB,SAGDxK,IAAAC,cAACoK,IAAO,CACNxC,GAAG,aACHnG,UAAWG,IAAOwI,QAClBE,gBAAiB1I,IAAO2I,QACzB,aAGDxK,IAAAC,cAACoK,IAAO,CACNxC,GAAG,SACHnG,UAAWG,IAAOwI,QAClBE,gBAAiB1I,IAAO2I,QACzB,SAGDxK,IAAAC,cAACoK,IAAO,CAACxC,GAAG,IAAI4C,QAjDE9L,UACpB,UACQxB,IAAMI,KAAK,yBACjBe,EAAe,MACfmB,cACAjB,EAAQgB,KAAK,KACb,MAAOV,GACPC,QAAQC,IAAIF,KA0C4B4C,UAAWG,IAAOwI,SAAS,UAGnErK,IAAAC,cAACoK,IAAO,CACNxC,GAAI,cAAwB,OAAXxJ,QAAW,IAAXA,OAAW,EAAXA,EAAaqM,YAC9BhJ,UAAWG,IAAOwI,SAEN,OAAXhM,QAAW,IAAXA,OAAW,EAAXA,EAAagH,UAEhBrF,IAAAC,cAACuJ,EAAM,CACLhC,IAAgB,OAAXnJ,QAAW,IAAXA,OAAW,EAAXA,EAAasM,cAClB/I,OAAQ,MAIRgJ,EACJ5K,IAAAC,cAAAD,IAAAoK,SAAA,KACEpK,IAAAC,cAACoK,IAAO,CACNC,OAAK,EACLzC,GAAG,IACHnG,UAAWG,IAAOwI,QAClBE,gBAAiB1I,IAAO2I,QACzB,QAGDxK,IAAAC,cAACoK,IAAO,CACNxC,GAAG,UACHnG,UAAWG,IAAOwI,QAClBE,gBAAiB1I,IAAO2I,QACzB,SAGDxK,IAAAC,cAACoK,IAAO,CACNxC,GAAG,UACHnG,UAAWG,IAAOwI,QAClBE,gBAAiB1I,IAAO2I,QACzB,aAML,OACExK,IAAAC,cAAC4K,IAAM,CACL/B,SAAUA,EACVgC,OAAO,KACPpJ,UAAcG,IAAOqI,OAAV,UACXa,MAAM,OAEN/K,IAAAC,cAACyD,IAAS,CAACoC,OAAK,GACd9F,IAAAC,cAAC4K,IAAOG,OAAM,CACZhC,IAAKA,EACLyB,QAASA,IAAM1B,GAAaD,GAC5BmC,gBAAc,qBAEhBjL,IAAAC,cAAC4K,IAAOK,SAAQ,CAACnK,GAAG,oBAClBf,IAAAC,cAACkL,IAAG,CAACzJ,UAAU,WACZrD,EAAc8L,EAAgBS,O,0BCzG5BQ,MAjBf,WACE,MAAM/M,EAAcN,cACpB,OACEiC,IAAAC,cAACyD,IAAS,CAAChC,UAAWG,IAAO6B,WAC3B1D,IAAAC,cAAC8F,IAAG,CAACrE,UAAWG,IAAOwJ,SACrBrL,IAAAC,cAAC+F,IAAG,KACFhG,IAAAC,cAAA,MAAIyB,UAAWG,IAAO8B,SAAS,4CAC/B3D,IAAAC,cAAA,KAAGyB,UAAWG,IAAOyJ,YAAY,2FAC/BjN,GAAe2B,IAAAC,cAAC0H,OAAI,CAACE,GAAG,UAAUnG,UAAWyF,IAAU7D,QAAQ,0B,qDCD5D,SAASiI,IACtB,MAAOC,EAAcC,GAAmBlN,mBAAS,IAejD,OAbAG,oBAAU,KACgBC,WACtB,IACE,MAAM,KAAEC,SAAenB,IAASoB,IAAI,WAC9B6M,EAAa9M,EAAK+M,qBAAuB,GAC/CF,EAAgBC,GAChB,MAAO5M,GACPC,QAAQ+D,MAAM,8BAA+BhE,KAGjD8M,IACC,IAGD5L,IAAAC,cAAA,WACED,IAAAC,cAAA,MAAIyB,UAAWG,IAAOuE,QAAQ,oCAC9BpG,IAAAC,cAAC4L,gBAAa,CACZC,iBAAkB,CAChBC,OAAQ,CAAC,EAAG,GACZC,MAAO,KAETtK,UAAWG,IAAO0J,KAElBvL,IAAAC,cAACgM,gBAAa,CAACC,QAAS,GAAKC,QAAS,EAAGC,WAAW,GAClDpM,IAAAC,cAACoM,cAAW,CAACC,UA7BR,2DA8BFnO,IAAA,IAAC,YAAEoO,GAAapO,EAAA,OACfoO,EAAYtI,IAAKuI,IACf,MAAMC,EAAcD,EAAIE,WAAW7G,KAC7B8G,EAAYnB,EAAaiB,IAAgB,EAE/C,OACEzM,IAAAC,cAAC2M,IAAc,CACbvI,IAAKmI,EAAIK,OACTC,UAAU,MACVC,QACE/M,IAAAC,cAAC+M,IAAO,CAACjM,GAAI,WAAWyL,EAAIK,QACzBJ,EAAY,MAAIE,EAAU,IAAEA,EAAY,EAAI,OAAS,UAI1D3M,IAAAC,cAACgN,YAAS,CACRX,UAAWE,EACX7K,MAAO,CACLuL,QAAS,CACPC,KAAMR,EAAY,EAAI,UAAY,UAClCS,OAAQ,UACRC,YAAa,GACbC,QAAS,QAEXC,MAAO,CAAEJ,KAAM,UAAWC,OAAQ,OAAQC,YAAa,GACvDG,QAAS,CAAEJ,OAAQ,OAAQC,YAAa,c,uBCrDjDI,OAVDtP,IAAgC,IAA/B,QAAEuP,EAAO,IAAElG,EAAG,QAAET,GAAS5I,EACtC,OACE6B,IAAAC,cAAA,OAAKyB,UAAcG,KAAO4L,MAAV,QACbC,GAAW1N,IAAAC,cAAC2J,IAAO,CAACC,UAAU,WAC9BrC,GAAOxH,IAAAC,cAAA,OAAKuH,IAAKA,EAAKE,IAAKX,IAC3BA,GAAW/G,IAAAC,cAAA,KAAGyB,UAAU,QAAQqF,K,yCCsMxB4G,OA5Lf,WAA2B,IAADC,EAAAC,EAAAC,EACxBlJ,EAAY,aACZ,MAAOY,EAAQC,GAAalH,mBAAS,KAE9BwP,EAAUC,GAAezP,mBAAS,CACvC0P,MAAO,GACPC,QAAS,GACTtF,MAAO,GACPuF,QAAS,MAGL,MAAEF,EAAK,QAAEC,EAAO,MAAEtF,EAAK,QAAEuF,GAAYJ,GACpCK,EAAWC,GAAgB9P,mBAAS,IAErC+P,EAAarF,iBAAO,MACpBzK,EAAUC,uBAEhBC,oBAAU,KACeC,WACrB,IACE,MAAM,KAAEC,SAAezB,IAAM0B,IAAI,eACjCwP,EAAazP,GACb,MAAOkE,GACP/D,QAAQ+D,MAAM,4BAA6BA,KAI/CyL,IACC,IAEH,MAAM7I,EAAgBC,IACpBqI,EAAY,IACPD,EACH,CAACpI,EAAMC,OAAOC,MAAOF,EAAMC,OAAOzF,SAmChCqO,EACJxO,IAAAC,cAAA,OAAKyB,UAAU,eACb1B,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,SACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXvD,KAAK,OACL0C,KAAK,QACL1F,MAAO8N,EACPpH,SAAUnB,EACVoB,aAAW,WAGR,OAANtB,QAAM,IAANA,GAAa,QAAPoI,EAANpI,EAAQyI,aAAK,IAAAL,OAAP,EAANA,EAAe3J,IAAI,CAAC8C,EAASC,IAC5BhH,IAAAC,cAACgH,IAAK,CAACC,QAAQ,UAAU7C,IAAK2C,GAC3BD,IAIL/G,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,WACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXF,GAAG,WACHiI,KAAM,EACN5I,KAAK,UACL1F,MAAO+N,EACPrH,SAAUnB,EACVoB,aAAW,aAGR,OAANtB,QAAM,IAANA,GAAe,QAATqI,EAANrI,EAAQ0I,eAAO,IAAAL,OAAT,EAANA,EAAiB5J,IAAI,CAAC8C,EAASC,IAC9BhH,IAAAC,cAACgH,IAAK,CAACC,QAAQ,UAAU7C,IAAK2C,GAC3BD,IAIL/G,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,WACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXF,GAAG,SACHX,KAAK,UACL1F,MAAOgO,EACPtH,SAAUnB,EACVgJ,UAAQ,EACR5H,aAAW,WAEX9G,IAAAC,cAAA,UAAQE,MAAM,IAAG,oBAChBiO,EAAUnK,IAAK0K,GACd3O,IAAAC,cAAA,UAAQoE,IAAKsK,EAAEC,KAAMzO,MAAOwO,EAAEC,MAC3BD,EAAE9I,SAKX7F,IAAAC,cAACqD,IAAM,CAAC5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,YAAajE,KAAK,UAAS,UAG/EnD,IAAAC,cAACqD,IAAM,CAAC5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,YAAaqD,QAASA,IAAMjM,EAAQqQ,UAAU,WAMtG,OACE7O,IAAAC,cAACoG,IAAI,CAACtD,SApFapE,UACnBgH,EAAM1C,iBACN,MAAMb,EAAW,IAAI0M,SAErB1M,EAAS2M,OAAO,QAASd,GACzB7L,EAAS2M,OAAO,UAAWb,GAC3B9L,EAAS2M,OAAO,QAAST,EAAWnF,QAAQ6F,MAAM,IAClD5M,EAAS2M,OAAO,UAAWZ,GAE3B,IACE,MAAM,KAAEvP,SAAenB,IAASF,KAAK,UAAW6E,GAChDrD,QAAQC,IAAI,CAAEJ,SACdJ,EAAQgB,KAAK,UAAUZ,EAAKmC,IAC5B,MAAOjC,GAAM,IAADgB,EAEsBmP,EAAlC,GADAlQ,QAAQC,IAAIF,GACiB,OAAb,QAAZgB,EAAAhB,EAAIe,gBAAQ,IAAAC,OAAA,EAAZA,EAAcC,QAChB0F,EAAsB,QAAbwJ,EAACnQ,EAAIe,gBAAQ,IAAAoP,OAAA,EAAZA,EAAcrQ,SAqE1BoB,IAAAC,cAAC8F,IAAG,KACF/F,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,kBAAkBuE,GAAI,EAAGiJ,GAAI,GAC1ClP,IAAAC,cAACyD,IAAS,CACRhC,UAAW,GAAGwE,IAAUC,WAAWtE,KAAO6B,uDAE1C1D,IAAAC,cAACoG,IAAKC,MAAK,CAAC5E,UAAU,eACnBkH,EACC5I,IAAAC,cAAAD,IAAAoK,SAAA,KACEpK,IAAAC,cAAA,cACED,IAAAC,cAACqH,IAAK,CAAC5F,UAAWwE,IAAUoB,MAAOE,IAAKoB,EAAOuG,SAAO,KAExDnP,IAAAC,cAAA,WACED,IAAAC,cAACoG,IAAKI,MAAK,CACT/E,UAAcyF,IAAU7D,OAAb,OACX8L,QAAQ,gBACT,sBAMLpP,IAAAC,cAACoG,IAAKI,MAAK,CACT/E,UAAU,gCACV0N,QAAQ,gBAERpP,IAAAC,cAACwN,GAAK,CACJjG,IAAK6H,KACLtI,QAAQ,qCAKd/G,IAAAC,cAACoG,IAAKiJ,KAAI,CACRvO,GAAG,eACHwO,OAAO,UACP1I,SAlIalB,IACrBA,EAAMC,OAAOoJ,MAAMpL,SACrB4L,IAAIC,gBAAgB7G,GACpBoF,EAAY,IACPD,EACHnF,MAAO4G,IAAIE,gBAAgB/J,EAAMC,OAAOoJ,MAAM,QA8HtChG,IAAKsF,KAGF,OAAN9I,QAAM,IAANA,GAAa,QAAPsI,EAANtI,EAAQoD,aAAK,IAAAkF,OAAP,EAANA,EAAe7J,IAAI,CAAC8C,EAASC,IAC5BhH,IAAAC,cAACgH,IAAK,CAACC,QAAQ,UAAU7C,IAAK2C,GAC3BD,IAIL/G,IAAAC,cAAA,OAAKyB,UAAU,aAAa8M,KAGhCxO,IAAAC,cAAC+F,IAAG,CAACC,GAAI,EAAGiJ,GAAI,EAAGxN,UAAU,gCAC3B1B,IAAAC,cAACyD,IAAS,CAAChC,UAAWwE,IAAUC,SAAUqI,O,mGClMpD,MAAMmB,GAAY3P,IAAM4P,WAAW,CAAAzR,EAAc6K,KAAG,IAAhB,QAAEyB,GAAStM,EAAA,OAC7C6B,IAAAC,cAAA,KACEyB,UAAW,qBAAqBG,KAAOgO,IACvC7G,IAAKA,EACLyB,QAAUzH,IACRA,EAAEC,iBACFwH,EAAQzH,QAMd2M,GAAUG,YAAc,YAEjB,MAAMC,GAAeC,IAAmC,IAAlC,WAAEC,EAAU,aAAEC,GAAcF,EACvD,OACEhQ,IAAAC,cAACkQ,KAAQ,CAACzO,UAAU,UAAU0O,KAAK,QACjCpQ,IAAAC,cAACkQ,KAASnF,OAAM,CAACxE,GAAImJ,KAErB3P,IAAAC,cAACkQ,KAASE,KAAI,CACZ3O,UAAU,cACV4O,aAAc,CAAEC,SAAU,UAE1BvQ,IAAAC,cAACkQ,KAAS/L,KAAI,CACZ1C,UAAWG,KAAO2O,aAClB/F,QAASwF,EACTnJ,aAAW,QAEX9G,IAAAC,cAAA,KAAGyB,UAAW,eAAeG,KAAO4O,QAEtCzQ,IAAAC,cAACkQ,KAAS/L,KAAI,CACZ1C,UAAWG,KAAO2O,aAClB/F,QAASyF,EACTpJ,aAAW,UAEX9G,IAAAC,cAAA,KAAGyB,UAAW,oBAAoBG,KAAO4O,WCgEpCC,OA9FDC,IACZ,MAAM,GACJ5P,EAAE,MACF6P,EAAK,WACLlG,EAAU,cACVC,EAAa,eACbkG,EAAc,aACdC,EAAY,MACZ7C,EAAK,QACLC,EAAO,MACPtF,EAAK,WACLmI,EAAU,SACVC,GACEL,EAEEtS,EAAcN,cACdkT,GAAsB,OAAX5S,QAAW,IAAXA,OAAW,EAAXA,EAAagH,YAAauL,EACrCpS,EAAUC,wBAGTyS,EAAiBC,GAAsB5S,oBAAS,GAmBjD6S,EAAyBA,IAAMD,GAAmB,GAExD,OACEnR,IAAAC,cAAC+F,IAAG,CAACqL,GAAI,GAAIC,GAAI,EAAGrL,GAAI,EAAGiJ,GAAI,GAC7BlP,IAAAC,cAACsR,KAAI,CAAC7P,UAAWG,KAAO6O,MACtB1Q,IAAAC,cAACsR,KAAKC,KAAI,KACRxR,IAAAC,cAACwR,KAAK,CAAC/P,UAAU,8CACf1B,IAAAC,cAAA,OAAKyB,UAAU,6BACZuP,GAAYD,GACXhR,IAAAC,cAAC8P,GAAY,CACXE,WA3BGA,KACjBzR,EAAQgB,KAAK,UAAUuB,WA2BTmP,aAdcwB,IAAMP,GAAmB,KAiB3CnR,IAAAC,cAAA,YACG8Q,EAAW,MAAID,IAGpB9Q,IAAAC,cAAC0H,IAAI,CAACE,GAAI,aAAa6C,EAAchJ,UAAWG,KAAO8P,SACrD3R,IAAAC,cAACuJ,EAAM,CAAChC,IAAKmD,IACb3K,IAAAC,cAAA,QAAMyB,UAAWG,KAAO+P,MAAOhB,MAIrC5Q,IAAAC,cAAC0H,IAAI,CAACE,GAAI,UAAU9G,MAClBf,IAAAC,cAACsR,KAAKM,IAAG,CAACrK,IAAKoB,EAAOlB,IAAKuG,EAAOvE,QAAQ,OAAOhI,UAAWG,KAAOyF,SAErEtH,IAAAC,cAACsR,KAAKC,KAAI,KACPvD,GAASjO,IAAAC,cAACsR,KAAKO,MAAK,CAACpQ,UAAU,eAAeuM,GAC9CC,GAAWlO,IAAAC,cAACsR,KAAKQ,KAAI,KAAC/R,IAAAC,cAAA,KAAGyB,UAAWG,KAAOsE,SAAU+H,IACtDlO,IAAAC,cAAC0H,IAAI,CAACE,GAAI,UAAU9G,KAAO+F,aAAW,qBACpC9G,IAAAC,cAAA,KAAGyB,UAAW,mBAAmBsQ,KAAWvB,OAC5CzQ,IAAAC,cAAA,KAAGyB,UAAWG,KAAOoQ,QAAQ,gBAE9BpB,IAGL7Q,IAAAC,cAACiS,KAAK,CAACC,KAAMjB,EAAiBkB,OAAQhB,GACpCpR,IAAAC,cAACiS,KAAM9L,OAAM,CAACiM,aAAW,GACvBrS,IAAAC,cAACiS,KAAMJ,MAAK,KAAC,gBAEf9R,IAAAC,cAACiS,KAAMV,KAAI,KAAC,8CACZxR,IAAAC,cAACiS,KAAMI,OAAM,KACXtS,IAAAC,cAACqD,IAAM,CAAC4D,QAAQ,YAAYuD,QAAS2G,GAAwB,UAG7DpR,IAAAC,cAACqD,IAAM,CAAC4D,QAAQ,SAASuD,QA3DZ9L,UACnB,UACQhB,IAAS4U,OAAO,UAAUxR,MAChCvC,EAAQqQ,SACR,MAAO/P,GACPC,QAAQC,IAAIF,MAsDwC,c,yCCzB3C0T,OAhEf,SAAyB7B,GACvB,MAAM,GAAE5P,EAAE,QAAEmN,EAAO,gBAAEuE,EAAe,YAAEC,GAAgB/B,GAE/CgC,EAAaC,GAAkBrU,mBAAS2P,GA8B/C,OACElO,IAAAC,cAACoG,IAAI,CAACtD,SAzBapE,UACnBgH,EAAM1C,iBACN,UACQtF,IAASkV,IAAI,aAAa9R,KAAO,CACrCmN,QAASyE,EAAYrK,SAEvBoK,EAAaI,IAAY,IACpBA,EACHrS,QAASqS,EAAarS,QAAQwD,IAAK8O,GAC1BA,EAAQhS,KAAOA,EAClB,IACKgS,EACH7E,QAASyE,EAAYrK,OACrB0K,WAAY,OAEdD,MAGRN,GAAgB,GAChB,MAAO3T,GACPC,QAAQC,IAAIF,MAMZkB,IAAAC,cAACoG,IAAKC,MAAK,CAAC5E,UAAU,QACpB1B,IAAAC,cAACoG,IAAKK,QAAO,CACXhF,UAAWG,KAAOwE,KAClBG,GAAG,WACHrG,MAAOwS,EACP9L,SAnCclB,IACpBiN,EAAejN,EAAMC,OAAOzF,QAmCtBsO,KAAM,KAGVzO,IAAAC,cAAA,OAAKyB,UAAU,cACb1B,IAAAC,cAAA,UACEyB,UAAWG,KAAOyB,OAClBmH,QAASA,IAAMgI,GAAgB,GAC/BtP,KAAK,UACN,UAGDnD,IAAAC,cAAA,UACEyB,UAAWG,KAAOyB,OAClBF,UAAW8K,EAAQ5F,OACnBnF,KAAK,UACN,WC0CM8P,OA/FEtC,IACf,MAAM,WACJjG,EAAU,cACVC,EAAa,MACbiG,EAAK,WACLoC,EAAU,QACV9E,EAAO,GACPnN,EAAE,QACFmS,EAAO,YACPR,GACE/B,EAEEtS,EAAcN,cACdkT,GAAsB,OAAX5S,QAAW,IAAXA,OAAW,EAAXA,EAAagH,YAAauL,GACpCuC,EAAcV,GAAmBlU,oBAAS,IAC1C2S,EAAiBC,GAAsB5S,oBAAS,IAChD6U,EAAcC,GAAmB9U,mBAAS,IA4BjD,OACEyB,IAAAC,cAAAD,IAAAoK,SAAA,KACEpK,IAAAC,cAAA,WACAD,IAAAC,cAACwR,KAAK,KACJzR,IAAAC,cAAC0H,IAAI,CAACE,GAAI,aAAa6C,GACrB1K,IAAAC,cAACuJ,EAAM,CAAChC,IAAKmD,KAEf3K,IAAAC,cAACwR,KAAMD,KAAI,CAAC9P,UAAU,0BACpB1B,IAAAC,cAAA,QAAMyB,UAAWG,KAAOyR,OAAQ1C,GAChC5Q,IAAAC,cAAA,QAAMyB,UAAWG,KAAO0R,MAAOP,GAC9BG,EACCnT,IAAAC,cAACuS,GAAe,CACdzR,GAAIA,EACJ2J,WAAYA,EACZwD,QAASA,EACTsF,aAAc7I,EACd+H,YAAaA,EACbD,gBAAiBA,IAGnBzS,IAAAC,cAAA,SAAIiO,IAGP+C,IAAakC,GACZnT,IAAAC,cAAC8P,GAAY,CACXE,WAAYA,IAAMwC,GAAgB,GAClCvC,aAAcA,IAAMiB,GAAmB,MAI7CnR,IAAAC,cAACiS,KAAK,CAACC,KAAMjB,EAAiBkB,OAAQA,IAAMjB,GAAmB,IAC7DnR,IAAAC,cAACiS,KAAM9L,OAAM,CAACiM,aAAW,GACvBrS,IAAAC,cAACiS,KAAMJ,MAAK,KAAC,mBAEf9R,IAAAC,cAACiS,KAAMV,KAAI,KAAC,gDAET4B,GAAgBpT,IAAAC,cAAA,KAAGyB,UAAU,oBAAoB0R,IAEpDpT,IAAAC,cAACiS,KAAMI,OAAM,KACXtS,IAAAC,cAACqD,IAAM,CAAC4D,QAAQ,YAAYuD,QAASA,IAAM0G,GAAmB,IAAQ,UAGtEnR,IAAAC,cAACqD,IAAM,CAAC4D,QAAQ,SAASuD,QApEZ9L,UACnB,UACQhB,IAAS4U,OAAO,aAAaxR,MAE/BmS,GACFA,EAASO,IAAQ,IAAAC,EAAA,MAAM,CACrBjT,SAAiB,OAARgT,QAAQ,IAARA,GAAiB,QAATC,EAARD,EAAUhT,eAAO,IAAAiT,OAAT,EAARA,EAAmBzP,IAAK1G,IAAI,IAChCA,EACHsT,eAAgB8C,KAAKC,IAAI,EAAGrW,EAAKsT,eAAiB,QAC7C,MAIP6B,GACFA,EAAaI,IAAY,IAAAe,EAAA,MAAM,IAC1Bf,EACHrS,SAAqB,OAAZqS,QAAY,IAAZA,GAAqB,QAATe,EAAZf,EAAcrS,eAAO,IAAAoT,OAAT,EAAZA,EAAuBC,OAAQf,GAAYA,EAAQhS,KAAOA,KAAO,MAI9EoQ,GAAmB,GACnB,MAAOrS,GACPuU,EAAgB,kDA8CoC,c,UC3B3CU,OA/Df,SAA2BpD,GACzB,MAAM,KAAEpT,EAAI,QAAE2V,EAAO,YAAER,GAAgB/B,GAChCzC,EAAS8F,GAAczV,mBAAS,IA+BvC,OACEyB,IAAAC,cAAA,OAAKyB,UAAWG,KAAOoS,sBACrBjU,IAAAC,cAACoG,IAAI,CAAC3E,UAAU,YAAYqB,SA3BXpE,UACnBgH,EAAM1C,iBACN,IACE,MAAM,KAAErE,SAAejB,IAASJ,KAAK,aAAc,CACjD2Q,UACA3Q,SAEFmV,EAAaI,IAAY,IACpBA,EACHrS,QAAS,CAAC7B,KAASkU,EAAarS,YAElCyS,EAASO,IAAQ,CACfhT,QAAS,CACP,IACKgT,EAAShT,QAAQ,GACpBoQ,eAAgB4C,EAAShT,QAAQ,GAAGoQ,eAAiB,OAI3DmD,EAAW,IACX,MAAOlV,GACPC,QAAQC,IAAIF,MAOVkB,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACiU,KAAU,KACTlU,IAAAC,cAACoG,IAAKK,QAAO,CACXhF,UAAWG,KAAOwE,KAClBO,YAAY,gBACZJ,GAAG,WACHrG,MAAO+N,EACPrH,SAvCUlB,IACpBqO,EAAWrO,EAAMC,OAAOzF,QAuCdsO,KAAM,EACN3H,aAAW,YAEb9G,IAAAC,cAAA,UACEyB,UAAWG,KAAOyB,OAClBF,UAAW8K,EAAQ5F,OACnBnF,KAAK,SACL2D,aAAW,kBAEX9G,IAAAC,cAAA,KAAGyB,UAAW,2BAA2BG,KAAO4O,OAChDzQ,IAAAC,cAAA,QAAMyB,UAAWG,KAAOoQ,QAAQ,c,gDCI/BkC,OAzDaA,KAC1B,MAAOC,EAAqBC,GAA0B9V,mBAAS,IAsB/D,OApBAG,oBAAU,KACgBC,WACtB,IACE,MAAM,KAAEC,SAAenB,IAASoB,IAAI,WAC9B6M,EAAa9M,EAAK+M,qBAAuB,GAEzC2I,EAAqB9L,OAAO+L,QAAQ7I,GACvCzH,IAAI9F,IAAA,IAAEgQ,EAASqG,GAAMrW,EAAA,MAAM,CAAEgQ,UAASqG,WACtCC,KAAK,CAACC,EAAGC,IAAMA,EAAEH,MAAQE,EAAEF,OAC3B9P,MAAM,EAAG,GAEZ2P,EAAuBC,GACvB,MAAOxV,GACPC,QAAQ+D,MAAM,8BAA+BhE,KAIjD8M,IACC,IAEEwI,EAAoBxQ,OAKvB5D,IAAAC,cAAA,OAAKyB,UAAW,kBAAkBG,KAAO6B,WACvC1D,IAAAC,cAAA,MAAIyB,UAAW,gCAAgCG,KAAOuE,QAAU,gCAChEpG,IAAAC,cAAC2U,KAAS,KACPR,EAAoBnQ,IAAI,CAAC4Q,EAAM1Q,KAC9B,MAAM8J,EAAkB,IAAV9J,EAAc,yBACJ,IAAVA,EAAc,gCACJ,IAAVA,EAAc,+BACb,aAAaA,EAAQ,mBAEpC,OACEnE,IAAAC,cAACsR,KAAI,CAAClN,IAAKF,EAAOzC,UAAWG,KAAO0P,MAClCvR,IAAAC,cAACsR,KAAKnL,OAAM,CAAC1E,UAAWG,KAAO+S,WAC7B5U,IAAAC,cAAC2U,KAAU5J,OAAM,CAACxE,GAAIlD,IAAQ4D,QAAQ,OAAO4N,SAAUC,OAAO5Q,GAAQzC,UAAWG,KAAOiQ,OACrF7D,EAAM,aAGXjO,IAAAC,cAAC2U,KAAU1J,SAAQ,CAAC4J,SAAUC,OAAO5Q,IACnCnE,IAAAC,cAACsR,KAAKC,KAAI,CAAC9P,UAAWG,KAAOmT,UAC5BH,EAAKL,MAAM,IAAEK,EAAKL,MAAQ,EAAI,QAAU,OAAO,SAAOK,EAAK1G,eAtBjEnO,IAAAC,cAACwB,KAAO,OCyDJwT,OAzEf,WACE,MAAM,GAAElU,GAAOmU,uBACR3X,EAAM2V,GAAW3U,mBAAS,CAAEkC,QAAS,MACrC0U,EAAUzC,GAAenU,mBAAS,CAAEkC,QAAS,KAC9CpC,EAAcN,cACd4M,EAA2B,OAAXtM,QAAW,IAAXA,OAAW,EAAXA,EAAasM,cAsBnC,OApBAjM,oBAAU,KACRK,QAAQC,IAAI,0BAA0B+B,GAClBpC,WAClB,IACE,OAASC,KAAMrB,IAAUqB,KAAMuW,UAAoBxV,QAAQyV,IAAI,CAC7D3X,IAASoB,IAAI,UAAUkC,MACvBtD,IAASoB,IAAI,mBAAmBkC,KAElChC,QAAQC,IAAI,gBAAiBzB,GAC7B2V,EAAQ,CAAEzS,QAAS,CAAClD,KACpBmV,EAAYyC,GACZ,MAAOrW,GACPC,QAAQ+D,MAAM,uBAAwBhE,KAI1CG,IACC,CAAC8B,IAEJhC,QAAQC,IAAI,eAAgBzB,GAE1ByC,IAAAC,cAAC8F,IAAG,CAACrE,UAAW,SAASG,KAAOkE,KAC9B/F,IAAAC,cAAC+F,IAAG,CAACtE,UAAW,mBAAmBG,KAAO6O,KAAQxB,GAAI,GACpDlP,IAAAC,cAACyQ,GAAIlI,OAAA6M,OAAA,GAAK9X,EAAKkD,QAAQ,GAAE,CAAE6U,SAAUpC,EAASlC,UAAQ,KACtDhR,IAAAC,cAACyD,IAAS,CAAChC,UAAWwE,IAAUC,SAC7B9H,EACC2B,IAAAC,cAAC8T,GAAiB,CAChBrJ,WAAYrM,EAAYqM,WACxB8I,aAAc7I,EACdpN,KAAMwD,EACNmS,QAASA,EACTR,YAAaA,IAEbyC,EAAS1U,QAAQmD,OACnB,WACE,KACHuR,EAAS1U,QAAQmD,OAChB5D,IAAAC,cAACsV,KAAc,CACbC,WAAYL,EAAS1U,QAAQmD,OAC7B6R,OAAQzV,IAAAC,cAACwN,GAAK,CAACC,SAAO,IACtBgI,UAAWP,EAAS5U,KACpBA,KAAMA,IAAMH,YAAc+U,EAAUzC,IAEnCyC,EAAS1U,QAAQwD,IAAK8O,GACrB/S,IAAAC,cAACgT,GAAOzK,OAAA6M,OAAA,CACNhR,IAAK0O,EAAQhS,IACTgS,EAAO,CACXG,QAASA,EACTR,YAAaA,OAIjBrU,EACF2B,IAAAC,cAAA,QAAMyB,UAAWG,KAAOoR,SAAS,6CAEjCjT,IAAAC,cAAA,QAAMyB,UAAWG,KAAOoR,SAAS,wBAIvCjT,IAAAC,cAAC+F,IAAG,CAACtE,UAAWG,KAAO8T,aACrB3V,IAAAC,cAACkU,GAAmB,S,oBC4BbyB,OA7Ff,SAAkBzX,GAA4B,IAA3B,QAAE4I,EAAO,OAAE+M,EAAS,IAAI3V,EACzC,MAAO0X,EAAOP,GAAY/W,mBAAS,CAAEkC,QAAS,MACvCqV,EAAWC,GAAgBxX,oBAAS,IACrC,SAAEyX,GAAaC,wBACf5X,EAAcN,eACbmY,EAAOC,GAAY5X,mBAAS,KAC5BuE,EAAOsT,GAAY7X,mBAAS,MAwBnC,OAtBAG,oBAAU,KAYRqX,GAAa,GACb,MAAMM,EAAQC,WAAW,KAZN3X,WACjB,IACE,MAAM,KAAEC,SAAenB,IAASoB,IAAI,WAAWiV,WAAgBoC,KAC/DZ,EAAS1W,GACTmX,GAAa,GACb,MAAOjX,GACPC,QAAQC,IAAIF,GACZsX,EAAS,6CAMXG,IACC,KAEH,MAAO,KACLC,aAAaH,KAEd,CAACvC,EAAQoC,EAAOF,EAAU3X,IAG3B2B,IAAAC,cAAC8F,IAAG,CAACrE,UAAW,SAASG,KAAOkE,KAC9B/F,IAAAC,cAAA,OAAKyB,UAAWG,KAAO4U,YACrBzW,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,kBAAkB4P,GAAI,EAAGrL,GAAI,EAAGiJ,GAAI,GACjDlP,IAAAC,cAAA,QAAMyB,UAAWG,KAAO6U,WAAW,yBACnC1W,IAAAC,cAAC0H,IAAI,CACHjG,UAAWiV,IAAStM,QACpBE,gBAAiBoM,IAASnM,OAC1B3C,GAAG,iBAEH7H,IAAAC,cAAA,KACEyB,UAAW,+BAA+BG,KAAO+U,YAEnD5W,IAAAC,cAAA,KAAGyB,UAAWG,KAAOoQ,QAAQ,kBAInCjS,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,kBAAkBwN,GAAI,GACnClP,IAAAC,cAAA,KAAGyB,UAAW,iBAAiBG,KAAOgV,aACtC7W,IAAAC,cAACoG,IAAI,CACH3E,UAAWG,KAAOiV,UAClB/T,SAAW4C,GAAUA,EAAM1C,kBAE3BjD,IAAAC,cAACoG,IAAKK,QAAO,CACXvG,MAAO+V,EACPrP,SAAWlB,GAAUwQ,EAASxQ,EAAMC,OAAOzF,OAC3CgD,KAAK,OACLzB,UAAU,UACVkF,YAAY,eACZE,aAAW,kBAGdhE,GAAS9C,IAAAC,cAAA,KAAGyB,UAAWwE,IAAU6Q,OAAQjU,GACzCgT,EACC9V,IAAAC,cAAAD,IAAAoK,SAAA,KACGyL,EAAMpV,QAAQmD,OACb5D,IAAAC,cAACsV,KAAc,CACf7T,UAAWG,KAAO6O,KAClB8E,WAAYK,EAAMpV,QAAQmD,OAC1B6R,OAAQzV,IAAAC,cAACwB,KAAO,MAChBiU,UAAWG,EAAMtV,KACjBA,KAAMA,IAAMH,YAAcyV,EAAOP,IAEhCO,EAAMpV,QAAQwD,IAAK1G,GAClByC,IAAAC,cAACyQ,GAAIlI,OAAA6M,OAAA,CAAChR,IAAK9G,EAAKwD,IAAQxD,EAAI,CAAE+X,SAAUA,OAI1CtV,IAAAC,cAACyD,IAAS,CAAChC,UAAWwE,IAAUC,SAC9BnG,IAAAC,cAAA,SAAI8G,EAAQ,OAKlB/G,IAAAC,cAACyD,IAAS,CAAChC,UAAWwE,IAAUC,SAC9BnG,IAAAC,cAACwB,KAAO,UC0GLuV,OA/Lf,WAAyB,IAADpJ,EAAAC,EAAAC,EACtB,MAAOtI,EAAQC,GAAalH,mBAAS,KAE9BwP,EAAUC,GAAezP,mBAAS,CACvC0P,MAAO,GACPC,QAAS,GACTtF,MAAO,GACPuF,QAAS,MAEL,MAAEF,EAAK,QAAEC,EAAO,MAAEtF,EAAK,QAAEuF,GAAYJ,GAEpCK,EAAWC,GAAgB9P,mBAAS,IACrC+P,EAAarF,iBAAO,MACpBzK,EAAUC,wBACV,GAAEsC,GAAOmU,sBAEfxW,oBAAU,KACYC,WAClB,IACE,MAAM,KAAEC,SAAenB,IAASoB,IAAI,UAAUkC,OACxC,MAAEkN,EAAK,QAAEC,EAAO,MAAEtF,EAAK,QAAEuF,EAAO,SAAE8C,GAAarS,EAErDqS,EACIjD,EAAY,CAAEC,QAAOC,UAAStF,QAAOuF,YACrC3P,EAAQgB,KAAK,KACjB,MAAOV,GACPC,QAAQC,IAAIF,KAIhBG,IACC,CAACT,EAASuC,IAEb,MAAM2E,EAAgBC,IACpBqI,EAAY,IACPD,EACH,CAACpI,EAAMC,OAAOC,MAAOF,EAAMC,OAAOzF,SActCzB,oBAAU,KACeC,WACrB,IACE,MAAM,KAAEC,SAAezB,IAAM0B,IAAI,eACjCwP,EAAazP,GACb,MAAOkE,GACP/D,QAAQ+D,MAAM,4BAA6BA,KAI/CyL,IACC,IAEH,MAuBMC,EACJxO,IAAAC,cAAA,OAAKyB,UAAU,eACb1B,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,SACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXvD,KAAK,OACL0C,KAAK,QACL1F,MAAO8N,EACPpH,SAAUnB,EACVoB,aAAW,WAGR,OAANtB,QAAM,IAANA,GAAa,QAAPoI,EAANpI,EAAQyI,aAAK,IAAAL,OAAP,EAANA,EAAe3J,IAAI,CAAC8C,EAASC,IAC5BhH,IAAAC,cAACgH,IAAK,CAACC,QAAQ,UAAU7C,IAAK2C,GAC3BD,IAIL/G,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,WACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXF,GAAG,WACHiI,KAAM,EACN5I,KAAK,UACL1F,MAAO+N,EACPrH,SAAUnB,EACVoB,aAAW,aAGR,OAANtB,QAAM,IAANA,GAAe,QAATqI,EAANrI,EAAQ0I,eAAO,IAAAL,OAAT,EAANA,EAAiB5J,IAAI,CAAC8C,EAASC,IAC9BhH,IAAAC,cAACgH,IAAK,CAACC,QAAQ,UAAU7C,IAAK2C,GAC3BD,IAGL/G,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,WACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXF,GAAG,SACHX,KAAK,UACL1F,MAAOgO,EACPtH,SAAUnB,EACVgJ,UAAQ,EACR5H,aAAW,WAEX9G,IAAAC,cAAA,UAAQE,MAAM,IAAG,oBAChBiO,EAAUnK,IAAK0K,GACd3O,IAAAC,cAAA,UAAQoE,IAAKsK,EAAEC,KAAMzO,MAAOwO,EAAEC,MAC3BD,EAAE9I,SAKX7F,IAAAC,cAACqD,IAAM,CAAC5B,UAAWyF,IAAU7D,OAAQmH,QAASA,IAAMjM,EAAQqQ,UAAU,UAGtE7O,IAAAC,cAACqD,IAAM,CAAC5B,UAAWyF,IAAU7D,OAAQH,KAAK,UAAS,SAMvD,OACEnD,IAAAC,cAACoG,IAAI,CAACtD,SArFapE,UAAkB,IAADsY,EACpCtR,EAAM1C,iBACN,MAAMb,EAAW,IAAI0M,SAErB1M,EAAS2M,OAAO,QAASd,GACzB7L,EAAS2M,OAAO,UAAWb,IAEb,OAAVI,QAAU,IAAVA,GAAmB,QAAT2I,EAAV3I,EAAYnF,eAAO,IAAA8N,OAAT,EAAVA,EAAqBjI,MAAM,KAC7B5M,EAAS2M,OAAO,QAAST,EAAWnF,QAAQ6F,MAAM,IAEpD5M,EAAS2M,OAAO,UAAWZ,GAE3B,UACQ1Q,IAASoV,IAAI,UAAU9R,KAAOqB,GACpC5D,EAAQgB,KAAK,UAAUuB,GACvB,MAAOjC,GAAM,IAADgB,EAEsBmP,EAAlC,GADAlQ,QAAQC,IAAIF,GACiB,OAAb,QAAZgB,EAAAhB,EAAIe,gBAAQ,IAAAC,OAAA,EAAZA,EAAcC,QAChB0F,EAAsB,QAAbwJ,EAACnQ,EAAIe,gBAAQ,IAAAoP,OAAA,EAAZA,EAAcrQ,SAoE1BoB,IAAAC,cAAC8F,IAAG,KACF/F,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,kBAAkBuE,GAAI,EAAGiJ,GAAI,GAC1ClP,IAAAC,cAACyD,IAAS,CACRhC,UAAW,GAAGwE,IAAUC,WAAWtE,KAAO6B,uDAE1C1D,IAAAC,cAACoG,IAAKC,MAAK,CAAC5E,UAAU,eACpB1B,IAAAC,cAAA,cACED,IAAAC,cAACqH,IAAK,CAAC5F,UAAWwE,IAAUoB,MAAOE,IAAKoB,EAAOuG,SAAO,EAACzH,IAAI,gBAE7D1H,IAAAC,cAAA,WACED,IAAAC,cAACoG,IAAKI,MAAK,CACT/E,UAAcyF,IAAU7D,OAAb,OACX8L,QAAQ,gBACT,qBAKHpP,IAAAC,cAACoG,IAAKiJ,KAAI,CACRvO,GAAG,eACHwO,OAAO,UACP1I,SAlIalB,IACrBA,EAAMC,OAAOoJ,MAAMpL,SACrB4L,IAAIC,gBAAgB7G,GACpBoF,EAAY,IACPD,EACHnF,MAAO4G,IAAIE,gBAAgB/J,EAAMC,OAAOoJ,MAAM,QA8HtChG,IAAKsF,KAGF,OAAN9I,QAAM,IAANA,GAAa,QAAPsI,EAANtI,EAAQoD,aAAK,IAAAkF,OAAP,EAANA,EAAe7J,IAAI,CAAC8C,EAASC,IAC5BhH,IAAAC,cAACgH,IAAK,CAACC,QAAQ,UAAU7C,IAAK2C,GAC3BD,IAIL/G,IAAAC,cAAA,OAAKyB,UAAU,aAAa8M,KAGhCxO,IAAAC,cAAC+F,IAAG,CAACC,GAAI,EAAGiJ,GAAI,EAAGxN,UAAU,gCAC3B1B,IAAAC,cAACyD,IAAS,CAAChC,UAAWwE,IAAUC,SAAUqI,O,mDCtMrC,SAAS0I,GAAUvG,GAC9B,MAAOwG,EAASC,GAAc7Y,oBAAS,GACjC8Y,EAAWpO,iBAAO,MAaxB,OACIjJ,IAAAC,cAAA,OAAKyB,UAAWG,KAAO6B,WACnB1D,IAAAC,cAAA,UAAQwK,QAbG6M,KACXD,EAASlO,UACLgO,EACAE,EAASlO,QAAQoO,OAEjBF,EAASlO,QAAQqO,QAErBJ,GAAYD,KAMiBzV,UAAWG,KAAOyB,QAC3CtD,IAAAC,cAAA,KAAGyB,UAAW,aAAYyV,EAAU,kBAAoB,oBACxDnX,IAAAC,cAAA,KAAGyB,UAAWG,KAAOoQ,QAAQ,gBAEjCjS,IAAAC,cAAA,SAAO+I,IAAKqO,EAAU7P,IAAKmJ,EAAM8G,c,yBCX7C,MAAMC,GAAoBC,eAAK,IAC7B,+BAEIpU,GAAuBoU,eAAK,IAChC,0CAEIC,GAAYD,eAAK,IAAM,+BAmLdhG,OAjLCA,KACd,MAAM,GAAE5Q,GAAOmU,sBACT7W,EAAcN,eACb8Z,EAASC,GAAcvZ,mBAAS,MAEvCG,oBAAU,KACRvB,IACG0B,IAAI,aAAakC,GACjB6B,KAAM/C,GAAaiY,EAAWjY,EAASjB,OACvCiE,MAAOC,GAAU/D,QAAQ+D,MAAM,0BAA2BA,KAC5D,CAAC/B,IAEJ,MAAMgX,EAAU7Y,kBACd,KAAiB,OAAXb,QAAW,IAAXA,OAAW,EAAXA,EAAagH,aAAoB,OAAPwS,QAAO,IAAPA,OAAO,EAAPA,EAASjH,OACzC,CAACvS,EAAoB,OAAPwZ,QAAO,IAAPA,OAAO,EAAPA,EAASjH,QAGnBoH,EAAuB9Y,kBAC3B,SAAA+Y,EAAA,OACS,OAAPJ,QAAO,IAAPA,GAA0B,QAAnBI,EAAPJ,EAASK,yBAAiB,IAAAD,OAAnB,EAAPA,EAA4BrU,QAC1B5D,IAAAC,cAAA,WACED,IAAAC,cAAA,SACED,IAAAC,cAAA,QAAMyB,UAAU,WAAU,KAAQ,uBAA0BmW,EAAQM,WAAW,qDAEjFnY,IAAAC,cAAA,MAAIyB,UAAU,wCACXmW,EAAQK,kBAAkBjU,IAAI,CAAC0K,EAAGxK,IACjCnE,IAAAC,cAAA,MACEoE,IAAKF,EACLzC,UAAW,8BAA8BG,KAAOuW,WAE/CzJ,MAMT3O,IAAAC,cAAA,SAAG,4BAEP,CAAQ,OAAP4X,QAAO,IAAPA,OAAO,EAAPA,EAASK,oBAGZ,OAAKL,EAKH7X,IAAAC,cAACyD,IAAS,CAAChC,UAAWG,KAAOwW,kBAC3BrY,IAAAC,cAAA,OACEyB,UAAWG,KAAOyW,YAClB3W,MAAO,CAAE4W,gBAAiB,OAAOC,UAEjCxY,IAAAC,cAAA,OAAKyB,UAAWG,KAAO4W,UACvBzY,IAAAC,cAAA,OAAKyB,UAAWG,KAAO6W,gBACrB1Y,IAAAC,cAACqH,IAAK,CACJE,IAAKqQ,EAAQjP,MACblB,IAAKmQ,EAAQjH,MACblP,UAAWG,KAAO8W,aAClBC,eAAa,IAEf5Y,IAAAC,cAAA,OAAKyB,UAAWG,KAAOgX,aACrB7Y,IAAAC,cAAA,UACG4X,EAAQM,WAAW,IAAEN,EAAQjH,OAEhC5Q,IAAAC,cAAA,KAAGyB,UAAWG,KAAOiX,QAASjB,EAAQ9X,QAAU,iBAChDC,IAAAC,cAACiX,GAAS,CAACO,WAAYI,EAAQJ,WAAY/V,UAAWG,KAAOqV,eAKnElX,IAAAC,cAAC8Y,KAAIrV,UAAS,CAACsV,iBAAiB,SAC9BhZ,IAAAC,cAACkL,IAAG,CAACjE,QAAQ,OAAOxF,UAAWG,KAAOoX,YACpCjZ,IAAAC,cAACkL,IAAI/G,KAAI,KACPpE,IAAAC,cAACkL,IAAIxD,KAAI,CAACmN,SAAS,QAAQpT,UAAWG,KAAOwI,SAAS,UAIvD0N,GACC/X,IAAAC,cAACkL,IAAI/G,KAAI,KACPpE,IAAAC,cAACkL,IAAIxD,KAAI,CAACmN,SAAS,eAAepT,UAAWG,KAAOwI,SAAS,iBAKjErK,IAAAC,cAACkL,IAAI/G,KAAI,KACPpE,IAAAC,cAACkL,IAAIxD,KAAI,CAACmN,SAAS,oBAAoBpT,UAAWG,KAAOwI,SAAS,sBAIpErK,IAAAC,cAACkL,IAAI/G,KAAI,KACPpE,IAAAC,cAACkL,IAAIxD,KAAI,CAACmN,SAAS,cAAcpT,UAAWG,KAAOwI,SAAS,uBAI7D0N,GACC/X,IAAAC,cAACkL,IAAI/G,KAAI,KACPpE,IAAAC,cAACkL,IAAIxD,KAAI,CAACmN,SAAS,kBAAkBpT,UAAWG,KAAOwI,SAAS,qBAOtErK,IAAAC,cAAC8Y,KAAI5S,QAAO,CAACzE,UAAWG,KAAOqX,YAC7BlZ,IAAAC,cAACkZ,WAAQ,CAACC,SAAUpZ,IAAAC,cAACwB,KAAO,OAC1BzB,IAAAC,cAAC8Y,KAAIM,KAAI,CAACvE,SAAS,SACjB9U,IAAAC,cAAC2X,GAAS,OAEZ5X,IAAAC,cAAC8Y,KAAIM,KAAI,CAACvE,SAAS,eACjB9U,IAAAC,cAACyX,GAAiB,CAAC4B,aAAqB,OAAPzB,QAAO,IAAPA,OAAO,EAAPA,EAASjH,SAE5C5Q,IAAAC,cAAC8Y,KAAIM,KAAI,CAACvE,SAAS,qBAAqBkD,GACvCD,GACC/X,IAAAC,cAAAD,IAAAoK,SAAA,KACEpK,IAAAC,cAAC8Y,KAAIM,KAAI,CAACvE,SAAS,mBACjB9U,IAAAC,cAACsD,GAAoB,OAEvBvD,IAAAC,cAAC8Y,KAAIM,KAAI,CAACvE,SAAS,gBACjB9U,IAAAC,cAAA,MAAIyB,UAAU,cACZ1B,IAAAC,cAAA,MAAIyB,UAAU,mBACZ1B,IAAAC,cAAC0H,IAAI,CAACE,GAAI,aAAagQ,EAAQ9W,mBAC7Bf,IAAAC,cAAA,KAAGyB,UAAW,sBAAsBG,KAAO0X,UACxC,IAAI,kBAKXvZ,IAAAC,cAAA,MAAIyB,UAAU,mBACZ1B,IAAAC,cAAC0H,IAAI,CAACE,GAAI,aAAagQ,EAAQ9W,oBAC7Bf,IAAAC,cAAA,KAAGyB,UAAW,kBAAkBG,KAAO0X,UACpC,IAAI,qBAKXvZ,IAAAC,cAAA,MAAIyB,UAAU,mBACZ1B,IAAAC,cAAC0H,IAAI,CAACE,GAAI,aAAagQ,EAAQ9W,oBAC7Bf,IAAAC,cAAA,KAAGyB,UAAW,cAAcG,KAAO0X,UAChC,IAAI,qBAKXvZ,IAAAC,cAAA,MAAIyB,UAAU,mBACZ1B,IAAAC,cAAC0H,IAAI,CAACE,GAAI,aAAagQ,EAAQ9W,kBAC7Bf,IAAAC,cAAA,KAAGyB,UAAW,kBAAkBG,KAAO0X,UACpC,IAAI,iBAKXvZ,IAAAC,cAAA,MAAIyB,UAAU,mBACZ1B,IAAAC,cAAC0H,IAAI,CAACE,GAAI,aAAagQ,EAAQ9W,qBAC7Bf,IAAAC,cAAA,KAAGyB,UAAW,gBAAgBG,KAAO0X,UAClC,IAAI,4BAKXvZ,IAAAC,cAAA,MAAIyB,UAAU,mBACZ1B,IAAAC,cAAC0H,IAAI,CAACE,GAAI,aAAagQ,EAAQ9W,sBAC7Bf,IAAAC,cAAA,KAAGyB,UAAW,gBAAgBG,KAAO0X,UAClC,IAAI,8BAvHpBvZ,IAAAC,cAACwN,GAAK,O,oBC8BF+L,OApFEA,KACf,MAAOC,EAAUC,GAAenb,mBAAS,KAClCob,EAAQC,GAAarb,mBAAS,UAC9B2X,EAAOC,GAAY5X,mBAAS,IAoBnC,OAlBAG,oBAAU,KACR,MAUM2X,EAAQC,WAAW,KAVH3X,WACpB,IACE,MAAM,KAAEC,SAAenB,IAASoB,IAC9B,uBAAuB8a,YAAiBzD,KAE1CwD,EAAY9a,EAAK6B,SACjB,MAAO3B,GACPC,QAAQ+D,MAAM,2BAA4BhE,KAI5C+a,IACC,KAEH,MAAO,IAAMrD,aAAaH,IACzB,CAACsD,EAAQzD,IAGVlW,IAAAC,cAAA,OAAKyB,UAAWG,KAAOiY,OACrB9Z,IAAAC,cAAC+F,IAAG,CAACkJ,GAAI,EAAGjJ,GAAI,EAAGqL,GAAI,EAAGD,GAAI,GAC5BrR,IAAAC,cAAA,KAAGyB,UAAW,iBAAiBqY,KAAalD,aAC5C7W,IAAAC,cAACoG,IAAI,CACH3E,UAAWqY,KAAajD,UACxB/T,SAAW4C,GAAUA,EAAM1C,kBAE3BjD,IAAAC,cAACoG,IAAKK,QAAO,CACXvD,KAAK,OACLyD,YAAY,kBACZzG,MAAO+V,EACPrP,SAAW7D,GAAMmT,EAASnT,EAAE4C,OAAOzF,OACnC2G,aAAW,mBAIjB9G,IAAAC,cAACkQ,KAAQ,CAAC6J,SAAWlF,GAAa8E,EAAU9E,IAC1C9U,IAAAC,cAACkQ,KAASnF,OAAM,CAACjK,GAAG,iBAAiBW,UAAWyF,IAAU7D,QAAQ,YAC3C,UAAXqW,EAAqB,WAAa,eAG9C3Z,IAAAC,cAACkQ,KAASE,KAAI,KACZrQ,IAAAC,cAACkQ,KAAS/L,KAAI,CAAC0Q,SAAS,SAAQ,YAChC9U,IAAAC,cAACkQ,KAAS/L,KAAI,CAAC0Q,SAAS,eAAc,iBAGrB,IAApB2E,EAAS7V,OACR5D,IAAAC,cAACwB,KAAO,MAERzB,IAAAC,cAAC8F,IAAG,CAACrE,UAAU,OACZ+X,EAASxV,IAAKsE,GACbvI,IAAAC,cAAC+F,IAAG,CAACqL,GAAI,EAAGC,GAAI,EAAGrL,GAAI,EAAGiJ,GAAI,EAAG7K,IAAKkE,EAAKxH,IACzCf,IAAAC,cAACsR,KAAI,CAAC7P,UAAW,SAASG,KAAOoY,UACjCja,IAAAC,cAAC0H,IAAI,CAACE,GAAI,aAAaU,EAAKxH,GAAMW,UAAWG,KAAO+P,MAClD5R,IAAAC,cAACsR,KAAKM,IAAG,CACP3K,QAAQ,MACRM,IAAKe,EAAKK,MACVlB,IAAQa,EAAKqI,MAAR,qBACLlH,QAAQ,UAGV1J,IAAAC,cAACsR,KAAKC,KAAI,KACRxR,IAAAC,cAACsR,KAAKO,MAAK,CAACpQ,UAAU,mCAClB1B,IAAAC,cAAA,YAAOsI,EAAKqI,QAEhB5Q,IAAAC,cAACsR,KAAKQ,KAAI,KACR/R,IAAAC,cAAA,KAAGyB,UAAWG,KAAOiX,QAASvQ,EAAKxI,QACnCC,IAAAC,cAAA,SAAG,sBAAoBsI,EAAK2P,kBAAkBtU,QAC9C5D,IAAAC,cAAA,SAAG,gBAAcsI,EAAK2R,qB,qBCzE3B,SAASC,KACtB,MAAOC,EAAiBC,GAAsB9b,mBAAS,CACrD8D,oBAAqB,GACrBC,QAAS,GACTC,SAAU,GACVC,OAAQ,GACRC,aAAc,GACdC,SAAU,MAGN,GAAE3B,GAAOmU,sBACT1W,EAAUC,uBAEhBC,oBAAU,KACUC,WAChB,IACE,MAAM,KAAEC,SAAenB,IAASoB,IAAI,sBAAsBkC,MAC1DsZ,EAAmBzb,GACnB,MAAOE,GACPC,QAAQ+D,MAAM,qCAAsChE,GACpDN,EAAQgB,KAAK,OAIjB8a,IACC,CAACvZ,EAAIvC,IAER,MAAMkH,EAAgBC,IACpB0U,EAAmB,IACdD,EACH,CAACzU,EAAMC,OAAOC,MAAOF,EAAMC,OAAOzF,SActC,OACEH,IAAAC,cAAA,OAAKyB,UAAWG,KAAO0Y,mBACrBva,IAAAC,cAAA,MAAIyB,UAAWG,KAAO2Y,iBAAiB,2BACvCxa,IAAAC,cAACoG,IAAI,CAACtD,SAbWpE,UACnBgH,EAAM1C,iBACN,UACQxF,IAASoV,IAAI,sBAAsB9R,KAAOqZ,GAChD5b,EAAQqQ,SACR,MAAO/P,GACPC,QAAQ+D,MAAM,qCAAsChE,KAOtB4C,UAAWG,KAAO4Y,cAC9Cza,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,uBACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXF,GAAG,SACHX,KAAK,sBACLnE,UAAU,cACVvB,MAAOia,EAAgB/X,oBACvBwE,SAAUnB,GAEV1F,IAAAC,cAAA,UAAQE,MAAM,OAAM,iBACpBH,IAAAC,cAAA,UAAQE,MAAM,MAAK,UACnBH,IAAAC,cAAA,UAAQE,MAAM,MAAK,iBACnBH,IAAAC,cAAA,UAAQE,MAAM,MAAK,iBACnBH,IAAAC,cAAA,UAAQE,MAAM,MAAK,QACnBH,IAAAC,cAAA,UAAQE,MAAM,MAAK,UACnBH,IAAAC,cAAA,UAAQE,MAAM,MAAK,WACnBH,IAAAC,cAAA,UAAQE,MAAM,MAAK,gBAIvBH,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,WACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXF,GAAG,SACHX,KAAK,UACLnE,UAAU,cACVvB,MAAOia,EAAgB9X,QACvBuE,SAAUnB,GAEV1F,IAAAC,cAAA,UAAQE,MAAM,OAAM,OACpBH,IAAAC,cAAA,UAAQE,MAAM,OAAM,OACpBH,IAAAC,cAAA,UAAQE,MAAM,QAAO,QACrBH,IAAAC,cAAA,UAAQE,MAAM,YAAW,YACzBH,IAAAC,cAAA,UAAQE,MAAM,QAAO,UAIzBH,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,YACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXF,GAAG,SACHX,KAAK,WACLnE,UAAU,cACVvB,MAAOia,EAAgB7X,SACvBsE,SAAUnB,GAEV1F,IAAAC,cAAA,UAAQE,MAAM,OAAM,OACpBH,IAAAC,cAAA,UAAQE,MAAM,WAAU,qBACxBH,IAAAC,cAAA,UAAQE,MAAM,UAAS,qBACvBH,IAAAC,cAAA,UAAQE,MAAM,SAAQ,qBACtBH,IAAAC,cAAA,UAAQE,MAAM,aAAY,sBAC1BH,IAAAC,cAAA,UAAQE,MAAM,QAAO,oBACrBH,IAAAC,cAAA,UAAQE,MAAM,QAAO,qBAIzBH,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,UACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXF,GAAG,SACHX,KAAK,SACLnE,UAAU,cACVvB,MAAOia,EAAgB5X,OACvBqE,SAAUnB,GAEV1F,IAAAC,cAAA,UAAQE,MAAM,OAAM,OACpBH,IAAAC,cAAA,UAAQE,MAAM,OAAM,mBACpBH,IAAAC,cAAA,UAAQE,MAAM,UAAS,aACvBH,IAAAC,cAAA,UAAQE,MAAM,QAAO,YAIzBH,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,gBACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXF,GAAG,SACHX,KAAK,eACLnE,UAAU,cACVvB,MAAOia,EAAgB3X,aACvBoE,SAAUnB,GAEV1F,IAAAC,cAAA,UAAQE,MAAM,OAAM,OACpBH,IAAAC,cAAA,UAAQE,MAAM,QAAO,eACrBH,IAAAC,cAAA,UAAQE,MAAM,UAAS,UACvBH,IAAAC,cAAA,UAAQE,MAAM,eAAc,eAC5BH,IAAAC,cAAA,UAAQE,MAAM,UAAS,mBAI3BH,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,YACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXF,GAAG,SACHX,KAAK,WACLnE,UAAU,cACVvB,MAAOia,EAAgB1X,SACvBmE,SAAUnB,GAEV1F,IAAAC,cAAA,UAAQE,MAAM,OAAM,OACpBH,IAAAC,cAAA,UAAQE,MAAM,WAAU,WACxBH,IAAAC,cAAA,UAAQE,MAAM,YAAW,UACzBH,IAAAC,cAAA,UAAQE,MAAM,aAAY,WAC1BH,IAAAC,cAAA,UAAQE,MAAM,SAAQ,aAI1BH,IAAAC,cAACqD,IAAM,CACL5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,aAC5CqD,QAASA,IAAMjM,EAAQqQ,UACxB,UAGD7O,IAAAC,cAACqD,IAAM,CACL5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,aAC5CjE,KAAK,UACN,U,6CCjKM,SAASuX,KACtB,MAAMrc,EAAcN,eACb4c,EAAMC,GAAWrc,mBAAS,MAC3BC,EAAUC,wBACToc,EAAWC,GAAgBvc,oBAAS,IACpCwc,EAAcC,GAAmBzc,mBAAS,MAEjDG,oBAAU,KACJL,GACFlB,IACG0B,IAAI,UACJ+D,KAAKjE,UACJI,QAAQC,IAAI,SAAUa,EAASjB,MAG/B,MAGMqc,EAHapb,EAASjB,KAAK6B,QAAQqT,OAAQoH,GAAMA,EAAEC,iBAAmB,GAG7C1G,KAAK,CAACC,EAAGC,IAAM,IAAIpB,KAAKmB,EAAE0G,YAAc,IAAI7H,KAAKoB,EAAEyG,aAElFR,EAAQ,IAAK/a,EAASjB,KAAM6B,QAASwa,IAGrC,MAAMI,EAAexb,EAASjB,KAAK6B,QAAQqT,OAAQoH,GAAMA,EAAEC,gBAAkB,GAC7E,IAAK,IAAIR,KAAQU,EACf,UACQ1d,IAAS4U,OAAO,SAASoI,EAAK5Z,IACpChC,QAAQC,IAAI,yBAAyB2b,EAAKzW,aAC1C,MAAOpF,GACPC,QAAQ+D,MAAM,+BAA+B6X,EAAK5Z,MAAOjC,MAI9D+D,MAAOC,IACN/D,QAAQ+D,MAAM,wBAAyBA,MAG5C,CAACzE,IA8BJ,OACE2B,IAAAC,cAACyD,IAAS,CAAChC,UAAU,QACnB1B,IAAAC,cAAA,OAAKyB,UAAU,qCACb1B,IAAAC,cAAC0H,IAAI,CAACE,GAAG,gBACP7H,IAAAC,cAAA,KAAGyB,UAAU,oBAAmB,2BAInCiZ,GAAQA,EAAKla,SAAWka,EAAKla,QAAQmD,OAAS,EAC7C5D,IAAAC,cAAC8F,IAAG,CAACrE,UAAU,OACZiZ,EAAKla,QAAQwD,IAAKiX,GACjBlb,IAAAC,cAAC+F,IAAG,CAACC,GAAI,EAAGiJ,GAAI,EAAG7K,IAAK6W,EAAEna,IACxBf,IAAAC,cAACsR,KAAI,CACH7P,UAAW,uBACTwZ,EAAEC,gBAAkB,EAAItZ,KAAO0P,KAAO1P,KAAOyZ,OAG/Ctb,IAAAC,cAACsR,KAAKC,KAAI,KACRxR,IAAAC,cAACsR,KAAKO,MAAK,KACT9R,IAAAC,cAAC8P,GAAY,CACXE,WAAYA,KAAMA,OAhDlBsL,EAgD6BL,EAAEna,QA/CjDvC,EAAQgB,KAAK,SAAS+b,UADJA,OAiDArL,aAAcA,KAAMsL,OA5CjBD,EA4C+BL,EAAEna,GA3CtDia,EAAgBO,QAChBT,GAAa,GAFQS,SA6CF,IACFL,EAAEhX,aAELlE,IAAAC,cAACsR,KAAKkK,SAAQ,CAAC/Z,UAAU,QACvB1B,IAAAC,cAAA,cAAQ,kBAAgBib,EAAEC,gBAAgB,UAE5Cnb,IAAAC,cAACsR,KAAKQ,KAAI,KACR/R,IAAAC,cAAA,cAAQ,cAAmB,IAAEib,EAAEE,WAAW,IAACpb,IAAAC,cAAA,WAC3CD,IAAAC,cAAA,cAAQ,WAAgB,IAAEib,EAAEQ,UAE7BR,EAAES,OAAS3b,IAAAC,cAACsR,KAAKQ,KAAI,KAAEmJ,EAAES,YAOpC3b,IAAAC,cAACwN,GAAK,CAACC,SAAO,IAGhB1N,IAAAC,cAACiS,KAAK,CAACC,KAAM0I,EAAWzI,OAAQA,IAAM0I,GAAa,GAAQc,UAAQ,GACjE5b,IAAAC,cAACiS,KAAM9L,OAAM,CAACiM,aAAW,GACvBrS,IAAAC,cAACiS,KAAMJ,MAAK,KAAC,mBAEf9R,IAAAC,cAACiS,KAAMV,KAAI,KAAC,8CACZxR,IAAAC,cAACiS,KAAMI,OAAM,KACXtS,IAAAC,cAACqD,IAAM,CAAC4D,QAAQ,YAAYuD,QAASA,IAAMqQ,GAAa,IAAQ,UAGhE9a,IAAAC,cAACqD,IAAM,CAAC4D,QAAQ,SAASuD,QApEZ9L,UACnB,GAAKoc,EAAL,CAEA,UACQpd,IAAS4U,OAAO,SAASwI,GAC/BH,EAASiB,IAAQ,IACZA,EACHpb,QAASob,EAASpb,QAAQqT,OAAQoH,GAAMA,EAAEna,KAAOga,MAEnD,MAAOjc,GACPC,QAAQ+D,MAAM,uBAAwBhE,GAGxCgc,GAAa,GACbE,EAAgB,SAsDsC,a,wBCtH3C,SAASc,KACtB,MAAOtW,EAAQC,GAAalH,mBAAS,KAC9B6P,EAAWC,GAAgB9P,mBAAS,KACpCwd,EAAUC,GAAezd,mBAAS,CACvC2F,YAAa,GACbkX,WAAY,GACZM,SAAU,GACVC,MAAO,MAGH,GAAE5a,GAAOmU,sBACT1W,EAAUC,uBAEhBC,oBAAU,KACeC,WACrB,IACE,MAAM,KAAEC,SAAezB,IAAM0B,IAAI,eACjCwP,EAAazP,GACb,MAAOkE,GACP/D,QAAQ+D,MAAM,4BAA6BA,KAI/CyL,IACC,IAEH7P,oBAAU,KACR,IAAK0P,EAAUxK,OAAQ,OAELjF,WAChB,IACE,MAAM,KAAEC,SAAenB,IAASoB,IAAI,SAASkC,GAC7ChC,QAAQC,IAAI,qBAAsBJ,GAElC,MAAMqd,EAAkB7N,EAAU8N,KAAMvN,GAAMA,EAAE9I,OAASjH,EAAKsF,aACxDiY,EAAcF,EAAkBA,EAAgBrN,KAAO,GAE7DoN,EAAY,CACV9X,YAAaiY,GAAe,GAC5Bf,WAAYxc,EAAKwc,WACjBM,SAAU9c,EAAK8c,SACfC,MAAO/c,EAAK+c,OAAS,KAEvB,MAAO7c,GACPC,QAAQ+D,MAAM,+BAAgChE,GAC9CN,EAAQgB,KAAK,OAIjB8a,IACC,CAACvZ,EAAIvC,EAAS4P,IAEjB,MAAM1I,EAAgBC,IACpB,MAAM,KAAEE,EAAI,MAAE1F,GAAUwF,EAAMC,OAE9BoW,EAAa9T,IAAI,IACZA,EACH,CAACrC,GAAO1F,KAGVsF,EAAW2C,IACT,MAAMC,EAAY,IAAKD,GAEvB,GAAa,eAATvC,GAAkC,aAATA,EAAqB,CAChD,MAAMuW,EAA4B,eAATvW,EAAwB,IAAI0N,KAAKpT,GAAS,IAAIoT,KAAKwI,EAASX,YAC/EiB,EAA0B,aAATxW,EAAsB,IAAI0N,KAAKpT,GAAS,IAAIoT,KAAKwI,EAASL,UAE7EU,GAAoBC,GAAkBA,EAAiBD,EACzD/T,EAAUqT,SAAW,qDAEdrT,EAAUqT,SAGfU,GAAoBC,GAAkBD,EAAmBC,EAC3DhU,EAAU+S,WAAa,mDAEhB/S,EAAU+S,WAIrB,OAAO/S,KAqBX,OACErI,IAAAC,cAAA,OAAKyB,UAAWG,KAAOwE,MACrBrG,IAAAC,cAACoG,IAAI,CAACtD,SAnBWpE,UAGnB,GAFAgH,EAAM1C,iBAEF,IAAIsQ,KAAKwI,EAASL,UAAY,IAAInI,KAAKwI,EAASX,YAClD3V,EAAWyC,IAAI,IAAWA,EAAMwT,SAAU,sDAI5C,UACQje,IAASoV,IAAI,SAAS9R,EAAMgb,GAClCvd,EAAQqQ,SACR,MAAO/P,GAAM,IAADgB,EACZf,QAAQ+D,MAAMhE,GACd2G,GAAsB,QAAZ3F,EAAAhB,EAAIe,gBAAQ,IAAAC,OAAA,EAAZA,EAAclB,OAAQ,MAMF8C,UAAU,eACtC1B,IAAAC,cAAC8F,IAAG,CAACrE,UAAU,QACb1B,IAAAC,cAAC+F,IAAG,CAACqL,GAAI,GAAIpL,GAAI,GACfjG,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,eACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXF,GAAG,SACHX,KAAK,cACL1F,MAAO4b,EAAS7X,aAAe,GAC/B2C,SAAUnB,EACVgJ,UAAQ,EACRhN,UAAU,eAEV1B,IAAAC,cAAA,UAAQE,MAAM,IAAG,oBAChBiO,EAAUnK,IAAK0K,GACd3O,IAAAC,cAAA,UAAQoE,IAAKsK,EAAEC,KAAMzO,MAAOwO,EAAEC,MAC3BD,EAAE9I,UAOb7F,IAAAC,cAAC+F,IAAG,CAACqL,GAAI,GAAIpL,GAAI,GACfjG,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,cACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXvD,KAAK,OACL0C,KAAK,aACL1F,MAAO4b,EAASX,YAAc,GAC9BvU,SAAUnB,EACVhE,UAAU,cACVoF,aAAW,gBAGdtB,EAAO4V,YACNpb,IAAAC,cAACgH,IAAK,CAACC,QAAQ,WAAW1B,EAAO4V,aAIrCpb,IAAAC,cAAC+F,IAAG,CAACqL,GAAI,GAAIpL,GAAI,GACfjG,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,YACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXvD,KAAK,OACL0C,KAAK,WACL1F,MAAO4b,EAASL,UAAY,GAC5B7U,SAAUnB,EACVhE,UAAU,cACVoF,aAAW,cAGdtB,EAAOkW,UACN1b,IAAAC,cAACgH,IAAK,CAACC,QAAQ,WAAW1B,EAAOkW,WAIrC1b,IAAAC,cAAC+F,IAAG,CAACqL,GAAI,GAAIpL,GAAI,GACfjG,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,SACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXvD,KAAK,OACL0C,KAAK,QACL1F,MAAO4b,EAASJ,MAChB9U,SAAUnB,EACVhE,UAAU,cACVoF,aAAW,aAMnB9G,IAAAC,cAAC8F,IAAG,CAACrE,UAAU,QACb1B,IAAAC,cAAC+F,IAAG,CAACqL,GAAI,GAAI3P,UAAU,kCACrB1B,IAAAC,cAACqD,IAAM,CAAC5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,OAAQqD,QAASA,IAAMjM,EAAQqQ,UAAU,UAG7F7O,IAAAC,cAACqD,IAAM,CAAC5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,OAAQjE,KAAK,UAAS,YCtLvE,SAASmZ,KAAW,IAADC,EAAAC,EAChC,MAAOhX,EAAQC,GAAalH,mBAAS,KAC9Bwd,EAAUC,GAAezd,mBAAS,CACvC2F,YAAa,GACbkX,WAAY,GACZM,SAAU,GACVC,MAAO,MAGH,YAAEzX,EAAW,WAAEkX,EAAU,SAAEM,EAAQ,MAAEC,GAAUI,GAC9C3N,EAAWC,GAAgB9P,mBAAS,IACrCC,EAAUC,uBAEhBC,oBAAU,KACeC,WACrB,IACE,MAAM,KAAEC,SAAezB,IAAM0B,IAAI,eACjCwP,EAAazP,GACb,MAAOkE,GACP/D,QAAQ+D,MAAM,4BAA6BA,KAI/CyL,IACC,IAEH,MAAM7I,EAAgBC,IACpB,MAAM,KAAEE,EAAI,MAAE1F,GAAUwF,EAAMC,OAE9BoW,EAAa9T,IAAI,IACZA,EACH,CAACrC,GAAO1F,KAGVsF,EAAW2C,IACT,MAAMC,EAAY,IAAKD,GAEvB,GAAa,eAATvC,GAAkC,aAATA,EAAqB,CAChD,MAAMuW,EAA4B,eAATvW,EAAwB,IAAI0N,KAAKpT,GAAS,IAAIoT,KAAKwI,EAASX,YAC/EiB,EAA0B,aAATxW,EAAsB,IAAI0N,KAAKpT,GAAS,IAAIoT,KAAKwI,EAASL,UAE7EU,GAAoBC,GAAkBA,EAAiBD,EACzD/T,EAAUqT,SAAW,CAAC,sDAEfrT,EAAUqT,SAIrB,OAAOrT,KAwBX,OACErI,IAAAC,cAAA,OAAKyB,UAAWG,KAAOwE,MACrBrG,IAAAC,cAACoG,IAAI,CAACtD,SAtBWpE,UACnBgH,EAAM1C,iBACN,MAAMb,EAAW,IAAI0M,SAErB1M,EAAS2M,OAAO,cAAe7K,GAC/B9B,EAAS2M,OAAO,aAAcqM,GAC9BhZ,EAAS2M,OAAO,WAAY2M,GAC5BtZ,EAAS2M,OAAO,QAAS4M,GAEzB,IACE,MAAM,KAAE/c,SAAenB,IAASF,KAAK,SAAU6E,GAC/CrD,QAAQC,IAAI,CAAEJ,SACdJ,EAAQgB,KAAK,SAASZ,EAAKmC,IAC3B,MAAOjC,GAAM,IAADgB,EACsBmP,EAAlC,GAA6B,OAAb,QAAZnP,EAAAhB,EAAIe,gBAAQ,IAAAC,OAAA,EAAZA,EAAcC,QAChB0F,EAAsB,QAAbwJ,EAACnQ,EAAIe,gBAAQ,IAAAoP,OAAA,EAAZA,EAAcrQ,SAQxBoB,IAAAC,cAAC8F,IAAG,CAACrE,UAAU,QACb1B,IAAAC,cAAC+F,IAAG,CAACqL,GAAI,GAAIpL,GAAI,EAAGiJ,GAAI,GACtBlP,IAAAC,cAACoG,IAAKC,MAAK,CAACC,UAAU,eACpBvG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,eACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXF,GAAG,SACHX,KAAK,cACL1F,MAAO+D,EACP2C,SAAUnB,EACVgJ,UAAQ,GAER1O,IAAAC,cAAA,UAAQE,MAAM,IAAG,oBAChBiO,EAAUnK,IAAKkK,GACdnO,IAAAC,cAAA,UAAQoE,IAAK8J,EAAQS,KAAMzO,MAAOgO,EAAQtI,MACvCsI,EAAQtI,UAOnB7F,IAAAC,cAAC+F,IAAG,CAACqL,GAAI,GAAIpL,GAAI,EAAGiJ,GAAI,GACtBlP,IAAAC,cAACoG,IAAKC,MAAK,CAACC,UAAU,cACpBvG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,cACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXvD,KAAK,OACL0C,KAAK,aACL1F,MAAOib,EACPvU,SAAUnB,KAGI,QADL6W,EACZ/W,EAAO4V,kBAAU,IAAAmB,OAAA,EAAjBA,EAAmBtY,IAAI,CAAC8C,EAASC,IAC9BhH,IAAAC,cAACgH,IAAK,CAAC5C,IAAK2C,EAAKE,QAAQ,WACtBH,KAKT/G,IAAAC,cAAC+F,IAAG,CAACqL,GAAI,GAAIpL,GAAI,EAAGiJ,GAAI,GACtBlP,IAAAC,cAACoG,IAAKC,MAAK,CAACC,UAAU,YACpBvG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,YACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXvD,KAAK,OACL0C,KAAK,WACL1F,MAAOub,EACP7U,SAAUnB,KAGG,QADJ8W,EACXhX,EAAOkW,gBAAQ,IAAAc,OAAA,EAAfA,EAAiBvY,IAAI,CAAC8C,EAASC,IACjBhH,IAAAC,cAACgH,IAAK,CAAC5C,IAAK2C,EAAKE,QAAQ,WACtBH,KAKrB/G,IAAAC,cAAC+F,IAAG,CAACqL,GAAI,GAAIpL,GAAI,EAAGiJ,GAAI,GACtBlP,IAAAC,cAACoG,IAAKC,MAAK,CAACC,UAAU,SACpBvG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,SACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXvD,KAAK,OACL0C,KAAK,QACL1F,MAAOwb,EACP9U,SAAUnB,OAMlB1F,IAAAC,cAAC8F,IAAG,CAACrE,UAAU,QACb1B,IAAAC,cAAC+F,IAAG,CAACqL,GAAI,GAAIpL,GAAI,EAAGiJ,GAAI,GAAIxN,UAAU,kCACpC1B,IAAAC,cAACqD,IAAM,CACL5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,OAC5CqD,QAASA,IAAMjM,EAAQqQ,UACxB,UAGD7O,IAAAC,cAACqD,IAAM,CAAC5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,OAAQjE,KAAK,UAAS,cC7DvEsZ,OA/EMA,KAAO,IAAD1X,EACzB,MAAOM,EAAUqX,GAAene,mBAAS,KAClCiH,EAAQC,GAAalH,mBAAS,IAE/BC,EAAUC,wBACV,GAAEsC,GAAOmU,sBAET7W,EAAcN,cACdO,EAAiBL,cAEvBS,oBAAU,KAAO,IAADie,GACC,OAAXte,QAAW,IAAXA,GAAuB,QAAZse,EAAXte,EAAaqM,kBAAU,IAAAiS,OAAZ,EAAXA,EAAyBC,cAAe7b,EAC1C2b,EAAYre,EAAYgH,UAExB7G,EAAQgB,KAAK,MAEd,CAACnB,EAAaG,EAASuC,IAmB1B,OACEf,IAAAC,cAAC8F,IAAG,KACF/F,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,2BAA2BuE,GAAI,GAC5CjG,IAAAC,cAACyD,IAAS,CAAChC,UAAWwE,IAAUC,SAC9BnG,IAAAC,cAACoG,IAAI,CAACtD,SArBOpE,UACnBgH,EAAM1C,iBACN,UACQtF,IAASkV,IAAI,sBAAuB,CACxCxN,aAEF/G,EAAgBue,IAAQ,IACnBA,EACHxX,cAEF7G,EAAQqQ,SACR,MAAO/P,GAAM,IAADgB,EACZf,QAAQC,IAAIF,GACZ2G,EAAsB,QAAb3F,EAAChB,EAAIe,gBAAQ,IAAAC,OAAA,EAAZA,EAAclB,QAQU8C,UAAU,QACtC1B,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,mBACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXE,YAAY,WACZzD,KAAK,OACLhD,MAAOkF,EACPwB,SAAWlB,GAAU+W,EAAY/W,EAAMC,OAAOzF,OAC9CuB,UAAU,cACVoF,aAAW,cAGR,OAANtB,QAAM,IAANA,GAAgB,QAAVT,EAANS,EAAQH,gBAAQ,IAAAN,OAAV,EAANA,EAAkBd,IAAI,CAAC8C,EAASC,IAC/BhH,IAAAC,cAACgH,IAAK,CAAC5C,IAAK2C,EAAKE,QAAQ,WACtBH,IAGL/G,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,4BACf1B,IAAAC,cAACqD,IAAM,CACL5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,OAC5CqD,QAASA,IAAMjM,EAAQqQ,UACxB,WAID7O,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,4BACf1B,IAAAC,cAACqD,IAAM,CACL5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,OAC5CjE,KAAK,UACN,cC6BE2Z,OApGUA,KAAO,IAADC,EAAAC,EAC7B,MAAMxe,EAAUC,wBACV,GAAEsC,GAAOmU,sBACT7W,EAAcN,eAEbkf,EAAUC,GAAe3e,mBAAS,CACvC4e,cAAe,GACfC,cAAe,MAEX,cAAED,EAAa,cAAEC,GAAkBH,GAElCzX,EAAQC,GAAalH,mBAAS,IAE/BmH,EAAgBC,IACpBuX,EAAY,IACPD,EACH,CAACtX,EAAMC,OAAOC,MAAOF,EAAMC,OAAOzF,SAItCzB,oBAAU,KAAO,IAADie,GACC,OAAXte,QAAW,IAAXA,GAAuB,QAAZse,EAAXte,EAAaqM,kBAAU,IAAAiS,OAAZ,EAAXA,EAAyBC,cAAe7b,GAE1CvC,EAAQgB,KAAK,MAEd,CAACnB,EAAaG,EAASuC,IAa1B,OACEf,IAAAC,cAAC8F,IAAG,KACF/F,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,2BAA2BuE,GAAI,GAC5CjG,IAAAC,cAACyD,IAAS,CAAChC,UAAWwE,IAAUC,SAC9BnG,IAAAC,cAACoG,IAAI,CAACtD,SAfOpE,UACnBgH,EAAM1C,iBACN,UACQtF,IAASJ,KAAK,iCAAkC0f,GACtDze,EAAQqQ,SACR,MAAO/P,GAAM,IAADgB,EACZf,QAAQC,IAAIF,GACZ2G,EAAsB,QAAb3F,EAAChB,EAAIe,gBAAQ,IAAAC,OAAA,EAAZA,EAAclB,SASlBoB,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,YACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXE,YAAY,eACZzD,KAAK,WACLhD,MAAOgd,EACPtW,SAAUnB,EACVG,KAAK,gBACLnE,UAAU,cACVoF,aAAW,kBAGR,OAANtB,QAAM,IAANA,GAAqB,QAAfuX,EAANvX,EAAQ2X,qBAAa,IAAAJ,OAAf,EAANA,EAAuB9Y,IAAI,CAAC8C,EAASC,IACpChH,IAAAC,cAACgH,IAAK,CAAC5C,IAAK2C,EAAKE,QAAQ,WACtBH,IAGL/G,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,gBACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXE,YAAY,uBACZzD,KAAK,WACLhD,MAAOid,EACPvW,SAAUnB,EACVG,KAAK,gBACLnE,UAAU,cACVoF,aAAW,0BAGR,OAANtB,QAAM,IAANA,GAAqB,QAAfwX,EAANxX,EAAQ4X,qBAAa,IAAAJ,OAAf,EAANA,EAAuB/Y,IAAI,CAAC8C,EAASC,IACpChH,IAAAC,cAACgH,IAAK,CAAC5C,IAAK2C,EAAKE,QAAQ,WACtBH,IAGL/G,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,4BACf1B,IAAAC,cAACqD,IAAM,CACL5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,OAC5CqD,QAASA,IAAMjM,EAAQqQ,UACxB,WAID7O,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,4BACf1B,IAAAC,cAACqD,IAAM,CACLH,KAAK,SACLzB,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,QAC7C,cC3FE,SAASiW,KAA0B,IAADvP,EAC/C,MAAOtI,EAAQC,GAAalH,mBAAS,KAC9BsZ,EAASC,GAAcvZ,mBAAS,CAAEqK,MAAO,MACzCc,EAASC,GAAcpL,oBAAS,GAEjCC,EAAUC,wBACV,GAAEsC,GAAOmU,sBACT5G,EAAarF,iBAAO,MAE1BvK,oBAAU,KACYC,WAClB,IACE,MAAM,KAAEC,SAAenB,IAASoB,IAAI,aAAakC,GAC7CnC,EAAKqS,SACP6G,EAAW,CAAElP,MAAOhK,EAAKgK,QAEzBpK,EAAQgB,KAAK,KAEf,MAAOV,GACPC,QAAQC,IAAIF,GACb,QACC6K,GAAW,KAIf1K,IACC,CAACT,EAASuC,IAgCb,OACEf,IAAAC,cAACoG,IAAI,CAACtD,SArBapE,UAAkB,IAADsY,EACpCtR,EAAM1C,iBACN,MAAMb,EAAW,IAAI0M,UAEP,OAAVR,QAAU,IAAVA,GAAmB,QAAT2I,EAAV3I,EAAYnF,eAAO,IAAA8N,OAAT,EAAVA,EAAqBjI,MAAM,KAC7B5M,EAAS2M,OAAO,QAAST,EAAWnF,QAAQ6F,MAAM,IAGpD,IACErF,GAAW,SACLlM,IAASoV,IAAI,aAAa9R,EAAMqB,GACtC5D,EAAQgB,KAAK,aAAauB,GAC1B,MAAOjC,GAAM,IAADgB,EACZf,QAAQC,IAAIF,GACZ2G,GAAsB,QAAZ3F,EAAAhB,EAAIe,gBAAQ,IAAAC,OAAA,EAAZA,EAAclB,OAAQ,IACjC,QACC+K,GAAW,MAMVD,EACC1J,IAAAC,cAAA,OAAKyB,UAAU,oBACb1B,IAAAC,cAACwN,GAAK,CAACC,SAAO,KAGhB1N,IAAAC,cAAC8F,IAAG,CAACrE,UAAU,0BACb1B,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,kBAAkBuE,GAAI,EAAGiJ,GAAI,GAC1ClP,IAAAC,cAACyD,IAAS,CACRhC,UAAcwE,IAAUC,QAAb,iEAEXnG,IAAAC,cAACoG,IAAKC,MAAK,CAAC5E,UAAU,eACpB1B,IAAAC,cAAA,cACED,IAAAC,cAACqH,IAAK,CAAC5F,UAAWwE,IAAUoB,MAAOE,IAAKqQ,EAAQjP,MAAOuG,SAAO,EAACzH,IAAI,aAErE1H,IAAAC,cAAA,WACED,IAAAC,cAACoG,IAAKI,MAAK,CAAC/E,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,WAAYgI,QAAQ,gBAAe,qBAK7FpP,IAAAC,cAACoG,IAAKK,QAAO,CACXvD,KAAK,OACLpC,GAAG,eACHwO,OAAO,UACP1I,SAxDWlB,IACrBA,EAAMC,OAAOoJ,MAAMpL,SACrB4L,IAAIC,gBAAgBoI,EAAQjP,OAC5BkP,EAAW,IACND,EACHjP,MAAO4G,IAAIE,gBAAgB/J,EAAMC,OAAOoJ,MAAM,QAoDpChG,IAAKsF,IAGPtO,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,4BACb1B,IAAAC,cAACqD,IAAM,CAAC5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,WAAYjE,KAAK,UAAS,SAIhFnD,IAAAC,cAAC+F,IAAG,CAACtE,UAAU,4BACb1B,IAAAC,cAACqD,IAAM,CAAC5B,UAAW,GAAGyF,IAAU7D,UAAU6D,IAAUC,WAAYqD,QAASA,IAAMjM,EAAQqQ,UAAU,YAMxF,QAFAf,EAEZtI,EAAOoD,aAAK,IAAAkF,OAAA,EAAZA,EAAc7J,IAAI,CAAC8C,EAASC,IAC3BhH,IAAAC,cAACgH,IAAK,CAACC,QAAQ,UAAU7C,IAAK2C,GAC3BD,Q,wBC3GJ,SAASuW,KACtB,MAAM,GAAEvc,GAAOmU,sBACT1W,EAAUC,wBACTsB,EAAQwd,GAAahf,mBAAS,IAWrC,OACEyB,IAAAC,cAACyD,IAAS,CAAChC,UAAWG,KAAO2b,iBAC3Bxd,IAAAC,cAAA,OAAKyB,UAAWG,KAAO4b,YACrBzd,IAAAC,cAAA,MAAIyB,UAAWG,KAAO6b,eAAe,sBAErC1d,IAAAC,cAACoG,IAAKC,MAAK,KACTtG,IAAAC,cAACoG,IAAKK,QAAO,CACXvD,KAAK,OACLyD,YAAY,uBACZzG,MAAOJ,EACP8G,SAAW7D,GAAMua,EAAUva,EAAE4C,OAAOzF,OACpCuB,UAAWG,KAAO8b,YAClB7W,aAAW,YAIf9G,IAAAC,cAACqD,IAAM,CACL5B,UAAW,QAAQyF,IAAU7D,UAAUzB,KAAO+b,aAC9CnT,QA3BW9L,UACjB,UACQxB,IAAM0V,IAAI,aAAa9R,EAAM,CAAEhB,WACrCvB,EAAQqQ,SACR,MAAO/L,GACP/D,QAAQ+D,MAAM,yBAA0BA,MAuBrC,mB,wBCjCM,SAAS+a,KACtB,MAAM,GAAE9c,GAAOmU,sBACT1W,EAAUC,wBACT2P,EAAWC,GAAgB9P,mBAAS,KACpCuf,EAAiBC,GAAsBxf,mBAAS,KAChDyf,EAAkBC,GAAuB1f,mBAAS,IAEzDG,oBAAU,KACaC,WACnB,IACE,MAAM,KAAEC,SAAezB,IAAM0B,IAAI,aAAakC,GAC9Ckd,EAAoBrf,EAAKsZ,mBAAqB,IAC9C,MAAOpV,GACP/D,QAAQ+D,MAAM,0BAA2BA,KAI7Cob,IACC,CAACnd,IAGJrC,oBAAU,KACeC,WACrB,IACE,MAAM,KAAEC,SAAezB,IAAM0B,IAAI,eACjCwP,EAAazP,GACb,MAAOkE,GACP/D,QAAQ+D,MAAM,4BAA6BA,KAI/CyL,IACC,IAuBH,OACEvO,IAAAC,cAACyD,IAAS,CAAChC,UAAW,6CAA6CG,KAAO6B,WACxE1D,IAAAC,cAACoG,IAAKC,MAAK,CAACC,UAAU,iBACpBvG,IAAAC,cAACoG,IAAKI,MAAK,KAAC,oBACZzG,IAAAC,cAACoG,IAAKK,QAAO,CACXF,GAAG,SACHrG,MAAO2d,EACPjX,SAAW7D,GAAM+a,EAAmB/a,EAAE4C,OAAOzF,QAE7CH,IAAAC,cAAA,UAAQE,MAAM,IAAG,oBAChBiO,EAAUnK,IAAK0K,GACd3O,IAAAC,cAAA,UAAQoE,IAAKsK,EAAEC,KAAMzO,MAAOwO,EAAE9I,MAC3B8I,EAAE9I,SAMX7F,IAAAC,cAACqD,IAAM,CACL4D,QAAQ,UACRuD,QAzCmB0T,KACnBL,IAAoBE,EAAiBI,SAASN,IAChDG,EAAoB,IAAID,EAAkBF,KAwCxCpc,UAAW,QAAQyF,IAAU7D,QAC9B,eAIDtD,IAAAC,cAAA,MAAIyB,UAAU,QAAO,sBACrB1B,IAAAC,cAAA,OAAKyB,UAAU,OACZsc,EAAiB/Z,IAAI,CAACkK,EAAShK,IAC9BnE,IAAAC,cAAA,OAAKyB,UAAU,uCAAuC2C,IAAKF,GACzDnE,IAAAC,cAAA,OAAKyB,UAAWG,KAAOwc,SACrBre,IAAAC,cAACqD,IAAM,CACL4D,QAAQ,SACRoX,KAAK,KACL7T,QAASA,KAAM8T,OAjDAC,EAiDoBrQ,OAhD/C8P,EAAoBD,EAAiBlK,OAAQnF,GAAMA,IAAM6P,IAD9BA,OAkDf9c,UAAWG,KAAO4c,QACnB,UAGDze,IAAAC,cAAA,QAAMyB,UAAWG,KAAO6c,SAAS,IAAEvQ,OAM3CnO,IAAAC,cAACqD,IAAM,CACL4D,QAAQ,UACRuD,QA1Da9L,UACjB,UACQxB,IAAM0V,IAAI,aAAa9R,EAAM,CACjCmX,kBAAmB8F,IAErBxf,EAAQqQ,SACR,MAAO/L,GACP/D,QAAQ+D,MAAM,oCAAqCA,KAoDjDpB,UAAW,QAAQyF,IAAU7D,QAC9B,iB,wBCxGQ,SAASqb,KACtB,MAAM,GAAE5d,GAAOmU,sBACT1W,EAAUC,wBACTmgB,EAAWC,GAAgBtgB,mBAAS,MAE3CG,oBAAU,KACaC,WACnB,IACE,MAAM,KAAEC,SAAezB,IAAM0B,IAAI,aAAakC,GAC9C8d,EAAajgB,EAAK6Y,YAAc,MAChC,MAAO3U,GACP/D,QAAQ+D,MAAM,0BAA2BA,KAI7Cob,IACC,CAACnd,IA2BJ,OACEf,IAAAC,cAACyD,IAAS,CAAChC,UAAWG,KAAOid,oBAC3B9e,IAAAC,cAAA,MAAIyB,UAAWG,KAAO8B,SAAS,uCAE/B3D,IAAAC,cAAA,OAAKyB,UAAWG,KAAOkd,iBACrB/e,IAAAC,cAAA,SAAG,yFAGLD,IAAAC,cAAA,OAAKyB,UAAWG,KAAOmd,UACrBhf,IAAAC,cAACoG,IAAKC,MAAK,CAACC,UAAU,YAAY7E,UAAWG,KAAOod,eAClDjf,IAAAC,cAACoG,IAAKI,MAAK,CAAC/E,UAAWG,KAAOqd,aAC5Blf,IAAAC,cAAA,KAAGyB,UAAU,sBAAwB,4BAEvC1B,IAAAC,cAACoG,IAAKiJ,KAAI,CAACC,OAAO,aAAa1I,SAtCR7D,IAC7B,GAAIA,EAAE4C,OAAOoJ,MAAMpL,OAAQ,CACzB,MAAMub,EAAOnc,EAAE4C,OAAOoJ,MAAM,GAC5B,GAAkB,eAAdmQ,EAAKhc,KAEP,YADAD,MAAM,8BAGR2b,EAAaM,KA+BuDzd,UAAWG,KAAOud,eAEjFR,GACC5e,IAAAC,cAAA,OAAKyB,UAAWG,KAAOwd,aACrBrf,IAAAC,cAAA,SACED,IAAAC,cAAA,KAAGyB,UAAU,sBAAwB,iBAAe,IACnDkd,aAAqBtP,KAClBsP,EAAU/Y,KACV+Y,EAAUla,MAAMka,EAAUU,YAAY,KAAO,OAO3Dtf,IAAAC,cAACqD,IAAM,CACL4D,QAAQ,UACRuD,QA5Ca9L,UACjB,MAAMyD,EAAW,IAAI0M,SACjB8P,aAAqBtP,MACvBlN,EAAS2M,OAAO,aAAc6P,GAGhC,UACQzhB,IAAM0V,IAAI,aAAa9R,EAAMqB,GACnC5D,EAAQqQ,SACR,MAAO/L,GACP/D,QAAQ+D,MAAM,6BAA8BA,KAmC1CpB,UAAW,QAAQyF,IAAU7D,UAAUzB,KAAO+b,cAE9C5d,IAAAC,cAAA,KAAGyB,UAAU,iBAAmB,kB,yBClEzB6d,OAbf,WACE,MAAMlhB,EAAcN,cACpB,OACEiC,IAAAC,cAAA,OAAKyB,UAAW,eAAeG,KAAO6B,WACpC1D,IAAAC,cAAA,MAAIyB,UAAWG,KAAOuE,QAAQ,qCAC9BpG,IAAAC,cAAA,SAAG,yDACHD,IAAAC,cAAC0H,IAAI,CAACE,GAAI,aAAaxJ,EAAYqM,WAAchJ,UAAW,OAAOyF,IAAU7D,QAAU,6B,oBCgB9Ekc,OAvBMA,KACnB,MAAMhhB,EAAUC,uBAMhB,OACEuB,IAAAC,cAAA,OAAKyB,UAAW,gBAAgBG,KAAO6B,WACrC1D,IAAAC,cAAA,WACED,IAAAC,cAAA,MAAIyB,UAAW,GAAGG,KAAO4d,UAAY,OACrCzf,IAAAC,cAAA,OAAKyB,UAAW,QAAQG,KAAOkQ,MAC7B/R,IAAAC,cAAA,MAAIyB,UAAU,aAAY,mDAC1B1B,IAAAC,cAAA,KAAGyB,UAAWG,KAAO6d,SAAS,0DAEhC1f,IAAAC,cAAA,UAAQyB,UAAWie,IAAarc,OAAQmH,QAZvBmV,KACrBphB,EAAQgB,KAAK,OAWwD,wB,qBC2E1DqgB,OA7Df,WAEE,MAAMxhB,EAAcN,cACd2M,GAAwB,OAAXrM,QAAW,IAAXA,OAAW,EAAXA,EAAaqM,aAAc,GAExCoV,EAAsC,MAD3B7J,wBACcD,SAE/B,OACEhW,IAAAC,cAAA,OACA0B,MAAO,CACL4W,gBAAiBuH,EAAgB,OAAOC,QAAsB,OAC9DC,eAAgB,QAChBC,mBAAoB,SACpBC,iBAAkB,YAClBC,qBAAsB,SAExBze,UAAW,GAAGG,IAAOge,OAAOhe,IAAOue,qBAEjCpgB,IAAAC,cAAEiK,EAAM,MAEPlK,IAAAC,cAACyD,IAAS,CAACoC,OAAK,EAACpE,UAAWG,IAAOwe,MACpCrgB,IAAAC,cAACqgB,SAAM,KACPtgB,IAAAC,cAACsgB,QAAK,CAACjW,OAAK,EAACkW,KAAK,OAAOC,OAAQA,IAAKzgB,IAAAC,cAACsL,EAAG,QAC1CvL,IAAAC,cAACsgB,QAAK,CAACjW,OAAK,EAACkW,KAAK,IAAIC,OAAQA,IAAKzgB,IAAAC,cAACmL,EAAe,SACjD/M,GACA2B,IAAAC,cAAAD,IAAAoK,SAAA,KACEpK,IAAAC,cAACsgB,QAAK,CAACjW,OAAK,EAACkW,KAAK,UAAUC,OAAQA,IAAMzgB,IAAAC,cAAC6H,EAAU,QACrD9H,IAAAC,cAACsgB,QAAK,CAACjW,OAAK,EAACkW,KAAK,UAAUC,OAAQA,IAAMzgB,IAAAC,cAAC6E,EAAU,SAGzD9E,IAAAC,cAACsgB,QAAK,CAACjW,OAAK,EAACkW,KAAK,gBAAgBC,OAAQA,IAAMzgB,IAAAC,cAAEsf,GAAY,QAC9Dvf,IAAAC,cAACsgB,QAAK,CAACC,KAAK,4BAA4BC,OAASA,IAAKzgB,IAAAC,cAACqd,GAAU,QACjEtd,IAAAC,cAACsgB,QAAK,CAACC,KAAK,+BAA+BC,OAAQA,IAAMzgB,IAAAC,cAAC4d,GAAU,QACpE7d,IAAAC,cAACsgB,QAAK,CAACC,KAAK,gCAAgCC,OAAQA,IAAMzgB,IAAAC,cAAC0e,GAAe,QAC1E3e,IAAAC,cAACsgB,QAAK,CAACC,KAAK,6BAA6BC,OAASA,IAAMzgB,IAAAC,cAACod,GAAsB,QAC/Erd,IAAAC,cAACsgB,QAAK,CAACjW,OAAK,EAACkW,KAAK,8BAA8BC,OAAQA,IAAKzgB,IAAAC,cAACwc,GAAY,QAC1Ezc,IAAAC,cAACsgB,QAAK,CAACjW,OAAK,EAACkW,KAAK,8BAA8BC,OAAQA,IAAMzgB,IAAAC,cAAC6c,GAAgB,QAC/E9c,IAAAC,cAACsgB,QAAK,CAACC,KAAK,gBAAgBC,OAASA,IAAKzgB,IAAAC,cAAC0R,GAAO,QAClD3R,IAAAC,cAACsgB,QAAK,CAACC,KAAK,iBAAiBC,OAAQA,IAAMzgB,IAAAC,cAAC6b,GAAY,QACxD9b,IAAAC,cAACsgB,QAAK,CAACC,KAAK,eAAeC,OAAQA,IAAMzgB,IAAAC,cAACqc,GAAO,QACjDtc,IAAAC,cAACsgB,QAAK,CAACC,KAAK,SAASC,OAASA,IAAMzgB,IAAAC,cAACya,GAAI,QACzC1a,IAAAC,cAACsgB,QAAK,CAACC,KAAK,8BAA8BC,OAASA,IAAKzgB,IAAAC,cAACka,GAAwB,QACjFna,IAAAC,cAACsgB,QAAK,CAACC,KAAK,sBAAsBC,OAASA,IAAKzgB,IAAAC,cAACygB,KAAmB,QACpE1gB,IAAAC,cAACsgB,QAAK,CAACC,KAAK,0BAA0BC,OAASA,IAAKzgB,IAAAC,cAACsD,WAAoB,QACzEvD,IAAAC,cAACsgB,QAAK,CAACjW,OAAK,EAACkW,KAAK,gBAAgBC,OAAQA,IAAKzgB,IAAAC,cAAC0N,GAAc,QAC9D3N,IAAAC,cAACsgB,QAAK,CAACjW,OAAK,EAACkW,KAAK,aAAaG,UAAW1L,KAC1CjV,IAAAC,cAACsgB,QAAK,CAACjW,OAAK,EAACkW,KAAK,kBAAkBC,OAAQA,IAAMzgB,IAAAC,cAAC+W,GAAY,QAC/DhX,IAAAC,cAACsgB,QAAK,CAACjW,OAAK,EAACkW,KAAK,QAAQC,OAAQA,IAAKzgB,IAAAC,cAAC2V,GAAS,CACjD7O,QAAQ,oBACR+M,OAAQ,mDAAmDpJ,SAE3D1K,IAAAC,cAACsgB,QAAK,CAACjW,OAAK,EAACkW,KAAK,cAAcC,OAAQA,IAAKzgB,IAAAC,cAAC2gB,GAAQ,QACtD5gB,IAAAC,cAACsgB,QAAK,CAACjW,OAAK,EAACkW,KAAK,UAAUC,OAAQA,IAAKzgB,IAAAC,cAAA,UAAI,YAC7CD,IAAAC,cAACsgB,QAAK,CAACE,OAAQA,IAAMzgB,IAAAC,cAAEuf,GAAY,YC3E1BqB,OAZSC,IAClBA,GAAeA,aAAuBC,UACxC,8BAAqBne,KAAKzE,IAAkD,IAAjD,OAAE6iB,EAAM,OAAEC,EAAM,OAAEC,EAAM,OAAEC,EAAM,QAAEC,GAASjjB,EACpE6iB,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,MCCdO,IAASZ,OACLzgB,IAAAC,cAACqhB,IAAM,KACLthB,IAAAC,cAAC/B,IAAmB,KAClB8B,IAAAC,cAAC4f,GAAG,QAGVxW,SAASkY,eAAe,SAM1BV,O","file":"static/js/main.81eb7a94.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__27i9m\",\"Wide\":\"Button_Wide__2ScDr\"};","// IMPORTANT!!\n // Because this React app is running in the same workspace as the API,\n\n // there is no need to set a separate baseURL until you reach deployment.\n\n // Setting a baseURL before you reach deployment will cause errors\n\n\nimport axios from \"axios\";\n\naxios.defaults.baseURL = \"/api\"\naxios.defaults.headers.post[\"Content-Type\"] = \"multipart/form-data\"\naxios.defaults.withCredentials = true\n\nexport const axiosReq = axios.create()\nexport const axiosRes = axios.create()\n\n","import React from 'react'\nimport { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport axios from \"axios\";\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\nimport { useHistory } from \"react-router\";\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\n\nexport const CurrentUserContext = createContext();\nexport const SetCurrentUserContext = createContext();\n\nexport const useCurrentUser = () => useContext(CurrentUserContext);\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\n\nexport const CurrentUserProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const history = useHistory();\n\n  const handleMount = async () => {\n    try {\n      const { data } = await axiosRes.get(\"/dj-rest-auth/user/\");\n      setCurrentUser(data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    handleMount();\n  }, []);\n\n  useMemo(() => {\n    axiosReq.interceptors.request.use(\n      async (config) => {\n        if (shouldRefreshToken()) {\n        try {\n          await axios.post(\"/dj-rest-auth/token/refresh/\");\n        } catch (err) {\n          setCurrentUser((prevCurrentUser) => {\n            if (prevCurrentUser) {\n              history.push(\"/signin\");\n            }\n            return null;\n          });\n          removeTokenTimestamp();\n          return config;\n        }\n      }\n        return config;\n      },\n      (err) => {\n        return Promise.reject(err);\n      }\n    );\n\n    axiosRes.interceptors.response.use(\n      (response) => response,\n      async (err) => {\n        if (err.response?.status === 401) {\n          try {\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\n          } catch (err) {\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push(\"/signin\");\n              }\n              return null;\n            });\n            removeTokenTimestamp();\n          }\n          return axios(err.config);\n        }\n        return Promise.reject(err);\n      }\n    );\n  }, [history]);\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\n        {children}\n      </SetCurrentUserContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"Main\":\"App_Main__HQkvd\",\"Content\":\"App_Content__ZaMNr\",\"FillerImage\":\"App_FillerImage__2ob-g\",\"FillerImageRegister\":\"App_FillerImageRegister__OPjeC\",\"Image\":\"App_Image__3UPXw\",\"LandingBackground\":\"App_LandingBackground__1CuGK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__1amC6\",\"NavLink\":\"NavBar_NavLink__34ons\",\"Active\":\"NavBar_Active__3PBZb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileContainer\":\"Profile_ProfileContainer__1MhJH\",\"Countries\":\"Profile_Countries__D1H0B\",\"HeroSection\":\"Profile_HeroSection__e8eHN\",\"Overlay\":\"Profile_Overlay__1kE6W\",\"ProfileContent\":\"Profile_ProfileContent__kZMSg\",\"ProfileImage\":\"Profile_ProfileImage__33oYu\",\"ProfileText\":\"Profile_ProfileText__6-7ag\",\"Status\":\"Profile_Status__1YOjR\",\"ThemeSong\":\"Profile_ThemeSong__sjjXi\",\"ProfileNav\":\"Profile_ProfileNav__2k-vW\",\"TabContent\":\"Profile_TabContent__hmQaL\",\"NavLink\":\"Profile_NavLink__1WVM7\",\"EditIcon\":\"Profile_EditIcon__2FH5p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"SignInUpForm_Row__3PbVy\",\"Input\":\"SignInUpForm_Input__3xaLZ\",\"Header\":\"SignInUpForm_Header__3joQJ\",\"Link\":\"SignInUpForm_Link__1BeMm\",\"SignInCol\":\"SignInUpForm_SignInCol__3ImPK\",\"SignUpCol\":\"SignInUpForm_SignUpCol__28o4y\",\"SignInLink\":\"SignInUpForm_SignInLink__IbeFE\"};","import jwtDecode from \"jwt-decode\";\nimport { axiosReq } from \"../api/axiosDefaults\";\n\nexport const fetchMoreData = async (resource, setResource) => {\n  try {\n    const { data } = await axiosReq.get(resource.next);\n    setResource((prevResource) => ({\n      ...prevResource,\n      next: data.next,\n      results: data.results.reduce((acc, cur) => {\n        return acc.some((accResult) => accResult.id === cur.id)\n          ? acc\n          : [...acc, cur];\n      }, prevResource.results),\n    }));\n  } catch (err) {\n    console.log(err)\n  }\n};\n\nexport const setTokenTimestamp = (data) => {\n  const refreshTokenTimestamp = jwtDecode(data?.access).exp;\n  localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\n};\n\nexport const shouldRefreshToken = () => {\n  return !!localStorage.getItem(\"refreshTokenTimestamp\");\n};\n\nexport const removeTokenTimestamp = () => {\n  localStorage.removeItem(\"refreshTokenTimestamp\");\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"PostsPage_Row__1H1cO\",\"Hidden\":\"PostsPage_Hidden__2iLRB\",\"SearchBar\":\"PostsPage_SearchBar__1T8bC\",\"SearchIcon\":\"PostsPage_SearchIcon__12ojn\",\"CreatePost\":\"PostsPage_CreatePost__1_udf\",\"ShareIcon\":\"PostsPage_ShareIcon__11kLI\",\"ShareText\":\"PostsPage_ShareText__mI0lq\",\"Post\":\"PostsPage_Post__3wlLC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"CommentCreateEditForm_Form__1Qeyz\",\"CommentFormContainer\":\"CommentCreateEditForm_CommentFormContainer__30UTv\",\"Button\":\"CommentCreateEditForm_Button__sGFSX\",\"Icon\":\"CommentCreateEditForm_Icon__1OeiU\",\"Hidden\":\"CommentCreateEditForm_Hidden__1JSZ7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Audio\":\"EditProfile_Audio__3oPW9\",\"Delete\":\"EditProfile_Delete__BgeKK\",\"Status\":\"EditProfile_Status__2uyUE\",\"ThemeSongContainer\":\"EditProfile_ThemeSongContainer__1SJha\",\"MoodDescription\":\"EditProfile_MoodDescription__3y0Ah\",\"Heading\":\"EditProfile_Heading__1gG79\"};","import React from \"react\";\nimport styles from \"../styles/Loading.module.css\";\n\nconst Loading = () => {\n  return (\n    <div className=\"position-relative w-100 overflow-hidden\" style={{ height: \"80px\" }}>\n      <i className={`fa-solid fa-plane ${styles.airplane}`}></i>\n    </div>\n  );\n};\n\nexport default Loading;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownItem\":\"MoreDropdown_DropdownItem__2E4UM\",\"Icon\":\"MoreDropdown_Icon__Z1Xje\",\"Dot\":\"MoreDropdown_Dot__3pQ2-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__3UScv\",\"Hidden\":\"Post_Hidden__16oP8\",\"Image\":\"Post_Image__2hiYK\",\"Profile\":\"Post_Profile__3lW0v\",\"User\":\"Post_User__1OzFF\",\"Content\":\"Post_Content__2sDLu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PopularDestinations_Container__35dtu\",\"Card\":\"PopularDestinations_Card__uvJoB\",\"Title\":\"PopularDestinations_Title__2tPrG\",\"Header\":\"PopularDestinations_Header__WsxXi\",\"CardBody\":\"PopularDestinations_CardBody__2l1lB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"PostPage_Row__zSGG9\",\"Destination\":\"PostPage_Destination__1lyRI\",\"Post\":\"PostPage_Post__i_JL6\",\"Comment\":\"PostPage_Comment__3Fwpi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"TravelRecommendation_Container__1bc-H\",\"Heading\":\"TravelRecommendation_Heading__nrQdA\",\"ListContainer\":\"TravelRecommendation_ListContainer__uzRV_\",\"ListItem\":\"TravelRecommendation_ListItem__2FqGO\",\"NoData\":\"TravelRecommendation_NoData__1SC1A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"StatusContainer\":\"EditStatus_StatusContainer__22Nya\",\"StatusCard\":\"EditStatus_StatusCard__38wb1\",\"fadeIn\":\"EditStatus_fadeIn__3Z2xh\",\"StatusHeading\":\"EditStatus_StatusHeading__1v7Xb\",\"StatusInput\":\"EditStatus_StatusInput__mo-27\",\"SaveButton\":\"EditStatus_SaveButton__2-di3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"LandingPageText_Container__1TxA2\",\"HeroRow\":\"LandingPageText_HeroRow__5iTIJ\",\"Heading\":\"LandingPageText_Heading__1DhND\",\"Subheading\":\"LandingPageText_Subheading__cJ8dS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Users\":\"Profiles_Users__3dtPI\",\"UserCard\":\"Profiles_UserCard__3GbVk\",\"Status\":\"Profiles_Status__3hErT\",\"SearchField\":\"Profiles_SearchField__1tLvW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"AddCountry_Container__3K-Wm\",\"Country\":\"AddCountry_Country__3a6IC\",\"Visited\":\"AddCountry_Visited__1_i9u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NotFound\":\"NotFoundPage_NotFound__3VSom\",\"Text\":\"NotFoundPage_Text__fHzhN\",\"SubText\":\"NotFoundPage_SubText__1sor2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PostCreateEditForm_Container__2WHuV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"AddTrip_Form__2VDqC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"ThemeSong_Container__2TGo7\",\"Hidden\":\"ThemeSong_Hidden__1r6Qo\",\"Button\":\"ThemeSong_Button__1m89-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"EditPrefContainer\":\"TravelPreferenceEditForm_EditPrefContainer__IFr_a\",\"EditPrefError\":\"TravelPreferenceEditForm_EditPrefError__1M7sH\",\"EditPrefHeading\":\"TravelPreferenceEditForm_EditPrefHeading__3Sp05\",\"EditPrefForm\":\"TravelPreferenceEditForm_EditPrefForm__3wlBG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Map_Header__1YJVC\",\"Map\":\"Map_Map__qDOKf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Owner\":\"Comment_Owner__3sgYe\",\"Date\":\"Comment_Date__10qt0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card\":\"Trip_Card__13kqS\",\"Soon\":\"Trip_Soon__22bdt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Confirmation_Container__2-DX3\",\"Header\":\"Confirmation_Header__3YwN3\"};","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { useHistory } from \"react-router-dom\";\nimport BtnStyle from '../../styles/Button.module.css';\n\nexport default function AddTravelPreferences() {\n  const currentUser = useCurrentUser();\n  const history = useHistory();\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [preferenceExists, setPreferenceExists] = useState(false);\n\n  const [formData] = useState({\n    preferred_continent: \"ANY\",\n    climate: \"ANY\",\n    activity: \"ANY\",\n    budget: \"ANY\",\n    travel_style: \"ANY\",\n    duration: \"ANY\",\n  });\n\n  useEffect(() => {\n    if (currentUser?.pk) {\n      axios\n        .get(`/travel-preference/`)\n        .then((response) => {\n          if (response.data) {\n            setPreferenceExists(true);\n          }\n        })\n        .catch((error) => {\n          console.error(\"Error checking travel preferences:\", error);\n        });\n    }\n  }, [currentUser]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!currentUser) {\n      console.error(\"No current user found. Redirecting to login.\");\n      history.push(\"/signin\");\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      if (preferenceExists) {\n        alert(\"You already have travel preferences.\");\n        return;\n      }\n\n      // Post the default \"ANY\" preferences for the user\n      await axios.post(`/travel-preference/`, formData);\n      history.push(\"/confirmation\");\n    } catch (error) {\n      console.error(\"Error creating travel preference:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"text-center\">\n      <form onSubmit={handleSubmit}>\n        <button type=\"submit\" disabled={isSubmitting} className={BtnStyle.Button}>\n          Add your Travel Preferences\n        </button>\n      </form>\n    </div>\n  );\n}\n","module.exports = __webpack_public_path__ + \"static/media/reg_img.d8104fd7.webp\";","module.exports = __webpack_public_path__ + \"static/media/sign_in_img.711b2d28.webp\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__196lW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__1dBcX\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUmSURBVHgB7Z1NbxtFGMf/M7Nre3HitElRoLIlDiBFFbdIVKVCKh+AU8sXqNo7Uk+cEOJKvwEfAAV6KhfEASREoyJya0tQg1TJbqUc6qS1E6/3bZixcbp2nZdN7J3d5vlJq/V6d63o+e28O34YToiUkn0KiA3Ant8Ed1oQXQs85GC+AC+z/j5+j+1CIIP4JYTxYy94dVzyEXplBFYEubuIoAqEv6qNMSZxAhgSogNeU3/PuScoRg4KWQ1matjwQw+BY6FbrcL7gbEwye1HFnBBysLMU8yGAQog9mXHgndWYne1xjpHuf5QART441FU1de2i+1HHzLvoOsOFLD8l5zDObwF4ti0XbT/WWKt/c6PFaDr+YtPMU9P/WTY6cBbX0ITYxpsPu4GCv5kKavOytI65sede03A5XVJ9f0U0BLefywro+8PCdANrlvCDIipMGejfOGBHHq4hwSc+RdnQEyVSGA2frwn4FJdOmoEe7oHVSmgq6J4KdgTEDLqbqZFvBT0BHwupaCGNz10KVB9/d4QoCeg0aDgp021gZLe9wR0AhRBpMpiuf/Q9wSwQM3pEaniN/sPPcdXknMbFohUsXWPU7UDfPkz6nqa4opayOLPF0iAKTYasHnFIQGmWFTLtjzgyZcliclQKqgqyKHpB2O4ApyLXeoBmUJN/zAOwhheW5UAEMZQ7S/n7mn/Xo9BSh0qAcYhAYYhAYbhNo0DjKFjTyXAMCTAMCTAMCTAMCTAMLkVEESo+R7u6y3kqCKn5FKADr4M8CMkanqLXNzJq4TcCRgK/oAcS8iVgJHg12On6nmVkBsBo8HnFq4Ozqk11WvIqYRcCBgXfCHQGJy3iqjnVULmBRwW/AF5lZB5AdLHjcOCP+A1CV3cQsbJ/IK8sLASRqiopaPbBwV/gJYQdHEtAm5YEVaQcdjyE/kucorfxTO9t4s4j5xCUxGGIQGGIQGGIQGGIQGGIQGGyZSArZs/3dcbpsS0P/84ZGogJkNZS3hLPcnFx/j8qZPrr6arAdhF5BxqAwxDAgxDAgyTSQHt359VcErIlABmi3t6H9x5eBMTxFdCt7/4pbc2IAV7iAyRqV6QeG/udvC4+XH00r3VvH53Kosp/J25b5EhMlUCKl9eXrVqlevMmvxTymx+z/pg/urZbz75GRki1wsybwLUCzIMCTAMCTAMCTAMCTAM9wMkyvhATA4deyoBhiEBhiEBhuFC4kRpmIjjExQRcNtBBMIYXGxTCTAJ985TN9QUTll1Q63nVAJM0dHjgM4slQBTOD4i3vSpETbFC1X988VNBCCMoDOy8rW7VAWZ4jctAF+ziCbk0qdlw9epDXtTEfY8uiBSZdZVAvD/XNDmDjwQqbJZ6Me8n0XpOyoBadNY7QvYyx3w0d9yIXQonVUadAS6j2qsqV/vTUe3Q7RApMJL5WDwek+ATr0tOtQWTBvd42zE8s0PLchQKZg+gYvt+PGQAF0KLB87IKZCp42WjnH8vbEJfKhBnjzxhjfO2DXhP7/HFrUHk6MX/Cq2xp07MIXVlQdypjUznAGaSEapjPYfb7N929ZDc4jp7M9WCWfoZ+6ToZ96vEB7tM4f5chJ3Kp16dTUGoIXUurbgzhq4Ackz6K3IkX1EgqLnmqkS9Bzeqc6FW6kv1qyC0/P7TSqcPUMZ5L7T57GUEq2vAZLJwXtOBALHMxpQRQKr6osd6T64t1s/oe+Dmb8mEeQhQhRW+8DRKUKoo0Qka1WEfVC1tqyuj5hwEf5D7ZH39OOpDxXAAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"airplane\":\"Loading_airplane__1Sr97\",\"fly\":\"Loading_fly__IQo-v\",\"fadeInAndMove\":\"Loading_fadeInAndMove__1HNLV\"};","module.exports = __webpack_public_path__ + \"static/media/recommendation-bg.8d2508f4.webp\";","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { ListGroup, Container } from \"react-bootstrap\";\nimport styles from \"../../styles/TravelRecommendation.module.css\";\n\nexport default function TravelRecommendation() {\n  const currentUser = useCurrentUser();\n  const [recommendation, setRecommendation] = useState();\n\n  useEffect(() => {\n    if (currentUser) {\n      axios\n        .get(\"/travel-recommendation/\")\n        .then((response) => {\n          setRecommendation(response.data);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching travel preferences:\", error);\n        });\n    }\n  }, [currentUser]);\n\n  const capitalize = (str) => str.charAt(0).toUpperCase() + str.slice(1);\n\n  return (\n    <Container className={styles.Container}>\n      <h4 className={styles.Heading}>Places You May Enjoy</h4>\n\n      {recommendation && recommendation.results.length > 0 ? (\n        <ListGroup horizontal=\"md\" className={styles.ListContainer}>\n          {recommendation.results[0].recommended_destination.map((destination, index) => (\n            <ListGroup.Item key={index} className={styles.ListItem}>\n              {capitalize(destination)}\n            </ListGroup.Item>\n          ))}\n        </ListGroup>\n      ) : (\n        <p className={styles.NoData}>No recommendations available.</p>\n      )}\n    </Container>\n  );\n}\n","module.exports = __webpack_public_path__ + \"static/media/landing_page.c8f39d64.webp\";","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\n\nexport const useRedirect = (userAuthStatus) => {\n  const history = useHistory();\n\n  useEffect(() => {\n    const handleMount = async () => {\n      try {\n        await axios.post(\"/dj-rest-auth/token/refresh/\");\n        // if user is logged in, the code below will run\n        if (userAuthStatus === \"loggedIn\") {\n          history.push(\"/\");\n        }\n      } catch (err) {\n        // if user is not logged in, the code below will run\n        if (userAuthStatus === \"loggedOut\") {\n          history.push(\"/\");\n        }\n      }\n    };\n\n    handleMount();\n  }, [history, userAuthStatus]);\n};","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport styles from \"../../styles/SignInUpForm.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport reg_img from \"../../assets/reg_img.webp\";\nimport {\n  Form,\n  Button,\n  Col,\n  Image,\n  Row,\n  Container,\n  Alert,\n} from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n\nconst SignUpForm = () => {\n  useRedirect(\"loggedIn\");\n  const [signUpData, setSignUpData] = useState({\n    username: \"\",\n    password1: \"\",\n    password2: \"\",\n  });\n  const { username, password1, password2 } = signUpData;\n\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n\n  const handleChange = (event) => {\n    setSignUpData({\n      ...signUpData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axios.post(\"/dj-rest-auth/registration/\", signUpData);\n      history.push(\"/signin\");\n    } catch (err) {\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Container className= {styles.Container} fluid>\n    <Row className={styles.Row}>\n      <Col className=\"my-auto py-2 p-md-2 d-flex align-items-center\" md={6}>\n        <Container className={`${appStyles.Content} p-4 `}>\n          <h1 className={styles.Header}>sign up</h1>\n\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\" as={Row} className=\"mb-3\">\n              <Form.Label className=\"d-none\">username</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                value={username}\n                onChange={handleChange}\n                aria-label=\"Username\"\n              />\n            </Form.Group>\n            {errors.username?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n\n            <Form.Group controlId=\"password1\" as={Row} className=\"mb-3\">\n              <Form.Label className=\"d-none\">Password</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password1\"\n                value={password1}\n                onChange={handleChange}\n                aria-label=\"password1\"\n              />\n            </Form.Group>\n            {errors.password1?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n\n            <Form.Group controlId=\"password2\" as={Row} className=\"mb-3\">\n              <Form.Label className=\"d-none\">Confirm password</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"password\"\n                placeholder=\"Confirm password\"\n                name=\"password2\"\n                value={password2}\n                onChange={handleChange}\n                aria-label=\"password2\"\n              />\n            </Form.Group>\n            {errors.password2?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Wide}`}\n              type=\"submit\"\n            >\n              Sign up\n            </Button>\n            {errors.non_field_errors?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\" className=\"mt-3\">\n                {message}\n              </Alert>\n            ))}\n          </Form>\n        </Container>\n      </Col>\n      <Col\n        md={6}\n        className=\"d-none d-md-flex align-items-center justify-content-center\"\n      >\n        <Image className={appStyles.FillerImageRegister} src={reg_img} fluid alt=\"signup\" />\n      </Col>\n      <Container className='mt-3'>\n        <Link className={`${styles.Link} ${styles.SignInLink}`} to=\"/signin\">\n          Already have an account?\n          Sign in\n        </Link>\n      </Container>\n    </Row>\n    </Container>\n  );\n};\n\nexport default SignUpForm;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Form from \"react-bootstrap/Form\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\nimport Container from \"react-bootstrap/Container\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport styles from \"../../styles/SignInUpForm.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport image from \"../../assets/sign_in_img.webp\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\nimport { setTokenTimestamp } from \"../../utils/utils\";\n\nfunction SignInForm() {\n  const setCurrentUser = useSetCurrentUser();\n  useRedirect(\"loggedIn\");\n\n  const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  const { username, password } = signInData;\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n\n  const validateField = (name, value) => {\n    setErrors((prevErrors) => {\n      const newErrors = { ...prevErrors };\n\n      if (name === \"username\" && value.trim() === \"\") {\n        newErrors.username = [\"Username cannot be empty.\"];\n      } else {\n        delete newErrors.username;\n      }\n\n      if (name === \"password\" && value.length < 6) {\n        newErrors.password = [\"Password must be at least 6 characters long.\"];\n      } else {\n        delete newErrors.password;\n      }\n\n      return newErrors;\n    });\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setSignInData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n\n    validateField(name, value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await axios.post(\"/dj-rest-auth/login/\", signInData);\n      setCurrentUser(data.user);\n      setTokenTimestamp(data);\n      history.push(\"/map\");\n    } catch (err) {\n      setErrors(err.response?.data || {});\n    }\n  };\n\n  return (\n    <Container fluid>\n      <Row className={styles.Row}>\n        <Col className=\"my-auto p-0 p-md-2\" md={6}>\n          <Container className={`${appStyles.Content} p-4`}>\n            <h1 className={styles.Header}>Sign In</h1>\n            <Form onSubmit={handleSubmit}>\n              <Form.Group controlId=\"username\" className=\"mt-3\">\n                <Form.Label className=\"d-none\">Username</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Username\"\n                  name=\"username\"\n                  className={styles.Input}\n                  value={username}\n                  onChange={handleChange}\n                  aria-label=\"Username\"\n                />\n              </Form.Group>\n              {errors.username?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\">{message}</Alert>\n              ))}\n\n              <Form.Group controlId=\"password\" className=\"mt-3\">\n                <Form.Label className=\"d-none\">Password</Form.Label>\n                <Form.Control\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  name=\"password\"\n                  className={styles.Input}\n                  value={password}\n                  onChange={handleChange}\n                  aria-label=\"Password\"\n                />\n              </Form.Group>\n              {errors.password?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\">{message}</Alert>\n              ))}\n\n              <Button\n                className={`${btnStyles.Button} ${btnStyles.Wide} mt-3`}\n                type=\"submit\"\n                disabled={Object.keys(errors).length > 0}\n              >\n                Sign in\n              </Button>\n\n              {errors.non_field_errors?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\" className=\"mt-3\">\n                  {message}\n                </Alert>\n              ))}\n            </Form>\n          </Container>\n          <Container className=\"mt-3\">\n            <Link className={styles.Link} to=\"/signup\">\n              Don&apos;t have an account? Sign up now!\n            </Link>\n          </Container>\n        </Col>\n        <Col\n          md={6}\n          className={`my-auto d-none d-md-block p-2 ${styles.SignInCol}`}\n        >\n          <Image className={`${appStyles.FillerImage}`} src={image} alt=\"signin\" />\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default SignInForm;\n","import { useEffect, useRef, useState } from \"react\";\n\nconst useClickOutsideToggle = () => {\n  const [expanded, setExpanded] = useState(false);\n  const ref = useRef(null);\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (ref.current && !ref.current.contains(event.target)) {\n        setExpanded(false);\n      }\n    };\n\n    document.addEventListener(\"mouseup\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mouseup\", handleClickOutside);\n    };\n  }, [ref]);\n\n  return { expanded, setExpanded, ref };\n};\n\nexport default useClickOutsideToggle;","import React, { useState } from \"react\";\nimport styles from \"../styles/Avatar.module.css\";\nimport { Spinner } from \"react-bootstrap\"; // Import the Spinner component\n\nconst Avatar = ({ src, height = 45, text }) => {\n  const [loading, setLoading] = useState(true); // State to manage loading status\n\n  const handleImageLoad = () => {\n    setLoading(false); // Set loading to false once the image is loaded\n  };\n\n  return (\n    <span>\n      {loading && <Spinner animation=\"border\" variant=\"danger\" />} \n      <img\n        className={styles.Avatar}\n        src={src}\n        height={height}\n        width={height}\n        alt=\"avatar\"\n        onLoad={handleImageLoad}\n        style={loading ? { visibility: \"hidden\" } : {}}\n      />\n      {text}\n    </span>\n  );\n};\n\nexport default Avatar;\n","import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport styles from \"../styles/NavBar.module.css\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../contexts/CurrentUserContext\";\nimport axios from \"axios\";\nimport useClickOutsideToggle from \"../hooks/useClickOutsideToggle\";\nimport Avatar from \"./Avatar\";\nimport { removeTokenTimestamp } from \"../utils/utils\";\n\n\nconst NavBar = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n  const history = useHistory();\n\n  const { expanded, setExpanded, ref } = useClickOutsideToggle();\n\n  const handleSignOut = async () => {\n    try {\n      await axios.post(\"/dj-rest-auth/logout/\");\n      setCurrentUser(null);\n      removeTokenTimestamp();\n      history.push(\"/\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const loggedInLinks = (\n    <>\n      <NavLink\n      exact\n        to=\"/\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Home\n      </NavLink>\n      <NavLink\n        to=\"/map\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Map\n      </NavLink>\n      <NavLink\n        to=\"/feed\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Posts\n      </NavLink>\n      <NavLink\n        to=\"/travelers\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Travelers\n      </NavLink>\n      <NavLink\n        to=\"/trip/\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Trips\n      </NavLink>\n      <NavLink to=\"/\" onClick={handleSignOut} className={styles.NavLink}>\n        Logout\n      </NavLink>\n      <NavLink\n        to={`/profiles/${currentUser?.profile_id}`}\n        className={styles.NavLink}\n      >\n        {currentUser?.username}\n      </NavLink>\n      <Avatar\n        src={currentUser?.profile_image}\n        height={45}\n      />\n    </>\n  );\n  const loggedOutLinks = (\n    <>\n      <NavLink\n        exact\n        to=\"/\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Home\n      </NavLink>\n      <NavLink\n        to=\"/signin\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Login\n      </NavLink>\n      <NavLink\n        to=\"/signup\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Register\n      </NavLink>\n    </>\n  );\n\n  return (\n    <Navbar\n      expanded={expanded}\n      expand=\"md\"\n      className={`${styles.NavBar} shadow`}\n      fixed=\"top\"\n    >\n      <Container fluid>\n        <Navbar.Toggle\n          ref={ref}\n          onClick={() => setExpanded(!expanded)}\n          aria-controls=\"basic-navbar-nav\"\n        />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ms-auto\">\n            {currentUser ? loggedInLinks : loggedOutLinks}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport styles from '../styles/LandingPageText.module.css';\nimport btnStyles from '../styles/Button.module.css';\nimport { Link } from 'react-router-dom/cjs/react-router-dom';\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\n\nfunction LandingPageText() {\n  const currentUser = useCurrentUser();\n  return (\n    <Container className={styles.Container}>\n      <Row className={styles.HeroRow}>\n        <Col>\n          <h1 className={styles.Heading}>Explore the World, Share Your Adventures</h1>\n          <p className={styles.Subheading}>Connect with travelers, share memories, and get recommendations for your next journey.</p>\n          {!currentUser && <Link to=\"/signup\" className={btnStyles.Button}>\n              Start Your Journey\n            </Link> }\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default LandingPageText;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  ComposableMap,\n  Geographies,\n  Geography,\n  ZoomableGroup,\n} from \"react-simple-maps\";\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from '../../styles/Map.module.css';\n\nconst geoUrl = \"https://unpkg.com/world-atlas@2.0.2/countries-110m.json\";\n\nexport default function Map() {\n  const [countryPosts, setCountryPosts] = useState({});\n\n  useEffect(() => {\n    const fetchPostCounts = async () => {\n      try {\n        const { data } = await axiosReq.get(\"/posts/\");\n        const postCounts = data.country_post_counts || {};\n        setCountryPosts(postCounts);\n      } catch (err) {\n        console.error(\"Error fetching post counts:\", err);\n      }\n    };\n    fetchPostCounts();\n  }, []);\n\n  return (\n    <div>\n      <h3 className={styles.Header}>See Where Users Are Posting From</h3>\n      <ComposableMap\n        projectionConfig={{\n          center: [0, 0],\n          scale: 150,\n        }}\n        className={styles.Map}\n      >\n        <ZoomableGroup minZoom={0.5} maxZoom={3} enablePan={true} >\n          <Geographies geography={geoUrl}>\n            {({ geographies }) =>\n              geographies.map((geo) => {\n                const countryName = geo.properties.name;\n                const postCount = countryPosts[countryName] || 0;\n\n                return (\n                  <OverlayTrigger\n                    key={geo.rsmKey}\n                    placement=\"top\"\n                    overlay={\n                      <Tooltip id={`tooltip-${geo.rsmKey}`}>\n                        {countryName} - {postCount} {postCount < 2 ? 'post' : 'posts'}\n                      </Tooltip>\n                    }\n                  >\n                    <Geography\n                      geography={geo}\n                      style={{\n                        default: {\n                          fill: postCount > 0 ? \"#00BAE2\" : \"#ECEFF1\",\n                          stroke: \"#607D8B\",\n                          strokeWidth: 0.5,\n                          outline: \"none\",\n                        },\n                        hover: { fill: \"#00BAE2\", stroke: \"#000\", strokeWidth: 1 },\n                        pressed: { stroke: \"#000\", strokeWidth: 1 },\n                      }}\n                    />\n                  </OverlayTrigger>\n                );\n              })\n            }\n          </Geographies>\n        </ZoomableGroup>\n      </ComposableMap>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\nimport styles from \"../styles/Asset.module.css\";\n\nconst Asset = ({ spinner, src, message }) => {\n  return (\n    <div className={`${styles.Asset} p-4`}>\n      {spinner && <Spinner animation=\"border\" />}\n      {src && <img src={src} alt={message} />}\n      {message && <p className=\"mt-4\">{message}</p>}\n    </div>\n  );\n};\n\nexport default Asset;","import React, { useRef, useState, useEffect } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Image from \"react-bootstrap/Image\";\nimport Asset from \"../../components/Asset\";\nimport axios from \"axios\";\nimport Upload from \"../../assets/upload.png\";\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport { useHistory } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\nfunction PostCreateForm() {\n  useRedirect(\"loggedOut\");\n  const [errors, setErrors] = useState({});\n\n  const [postData, setPostData] = useState({\n    title: \"\",\n    content: \"\",\n    image: \"\",\n    country: \"\",\n  });\n\n  const { title, content, image, country } = postData;\n  const [countries, setCountries] = useState([]);\n\n  const imageInput = useRef(null);\n  const history = useHistory();\n\n  useEffect(() => {\n    const fetchCountries = async () => {\n      try {\n        const { data } = await axios.get(\"/countries/\");\n        setCountries(data);\n      } catch (error) {\n        console.error(\"Error fetching countries:\", error);\n      }\n    };\n\n    fetchCountries();\n  }, []);\n\n  const handleChange = (event) => {\n    setPostData({\n      ...postData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleChangeImage = (event) => {\n    if (event.target.files.length) {\n      URL.revokeObjectURL(image);\n      setPostData({\n        ...postData,\n        image: URL.createObjectURL(event.target.files[0]),\n      });\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"title\", title);\n    formData.append(\"content\", content);\n    formData.append(\"image\", imageInput.current.files[0]);\n    formData.append(\"country\", country);\n\n    try {\n      const { data } = await axiosReq.post(\"/posts/\", formData);\n      console.log({ data });\n      history.push(`/posts/${data.id}`);\n    } catch (err) {\n      console.log(err);\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  const textFields = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label>Title</Form.Label>\n        <Form.Control\n          type=\"text\"\n          name=\"title\"\n          value={title}\n          onChange={handleChange}\n          aria-label=\"title\"\n        />\n      </Form.Group>\n      {errors?.title?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n\n      <Form.Group>\n        <Form.Label>Content</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          rows={6}\n          name=\"content\"\n          value={content}\n          onChange={handleChange}\n          aria-label=\"content\"\n        />\n      </Form.Group>\n      {errors?.content?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n\n      <Form.Group>\n        <Form.Label>Country</Form.Label>\n        <Form.Control\n          as=\"select\"\n          name=\"country\"\n          value={country}\n          onChange={handleChange}\n          required\n          aria-label=\"country\"\n        >\n          <option value=\"\">Select a country</option>\n          {countries.map((c) => (\n            <option key={c.code} value={c.code}>\n              {c.name}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      <Button className={`${btnStyles.Button} ${btnStyles.Wide} mt-3`} type=\"submit\">\n        create\n      </Button>\n      <Button className={`${btnStyles.Button} ${btnStyles.Wide} mt-3`} onClick={() => history.goBack()}>\n        cancel\n      </Button>\n    </div>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\n          <Container\n            className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\n          >\n            <Form.Group className=\"text-center\">\n              {image ? (\n                <>\n                  <figure>\n                    <Image className={appStyles.Image} src={image} rounded />\n                  </figure>\n                  <div>\n                    <Form.Label\n                      className={`${btnStyles.Button} btn`}\n                      htmlFor=\"image-upload\"\n                    >\n                      Change the image\n                    </Form.Label>\n                  </div>\n                </>\n              ) : (\n                <Form.Label\n                  className=\"d-flex justify-content-center\"\n                  htmlFor=\"image-upload\"\n                >\n                  <Asset\n                    src={Upload}\n                    message=\"Click or tap to upload an image\"\n                  />\n                </Form.Label>\n              )}\n\n              <Form.File\n                id=\"image-upload\"\n                accept=\"image/*\"\n                onChange={handleChangeImage}\n                ref={imageInput}\n              />\n            </Form.Group>\n            {errors?.image?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n\n            <div className=\"d-md-none\">{textFields}</div>\n          </Container>\n        </Col>\n        <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\n          <Container className={appStyles.Content}>{textFields}</Container>\n        </Col>\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostCreateForm;\n","import React from \"react\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport styles from \"../styles/MoreDropdown.module.css\";\n\n// The forwardRef is important!!\n// Dropdown needs access to the DOM node in order to position the Menu\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\n  <i\n    className={`fas fa-ellipsis-v ${styles.Dot}`}\n    ref={ref}\n    onClick={(e) => {\n      e.preventDefault();\n      onClick(e);\n    }}\n  />\n));\n\n// Set the display name for the component due to eslint error\nThreeDots.displayName = \"ThreeDots\";\n\nexport const MoreDropdown = ({ handleEdit, handleDelete }) => {\n  return (\n    <Dropdown className=\"ml-auto\" drop=\"left\">\n      <Dropdown.Toggle as={ThreeDots} />\n\n      <Dropdown.Menu\n        className=\"text-center\"\n        popperConfig={{ strategy: \"fixed\" }}\n      >\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleEdit}\n          aria-label=\"edit\"\n        >\n          <i className={`fas fa-edit ${styles.Icon}`} />\n        </Dropdown.Item>\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleDelete}\n          aria-label=\"delete\"\n        >\n          <i className={`fas fa-trash-alt ${styles.Icon}`} />\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};\n\n","import React, { useState } from \"react\";\nimport styles from \"../../styles/Post.module.css\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { Card, Col, Modal, Button } from \"react-bootstrap\";\nimport Media from \"react-bootstrap/Media\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\nimport iconStyles from \"../../styles/MoreDropdown.module.css\";\nimport Avatar from \"../../components/Avatar\";\n\nconst Post = (props) => {\n  const {\n    id,\n    owner,\n    profile_id,\n    profile_image,\n    comments_count,\n    country_name,\n    title,\n    content,\n    image,\n    created_at,\n    postPage,\n  } = props;\n\n  const currentUser = useCurrentUser();\n  const is_owner = currentUser?.username === owner;\n  const history = useHistory();\n\n  // State to handle modal visibility\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n\n  const handleEdit = () => {\n    history.push(`/posts/${id}/edit`);\n  };\n\n  const handleDelete = async () => {\n    try {\n      await axiosRes.delete(`/posts/${id}/`);\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n \n  const handleShowDeleteModal = () => setShowDeleteModal(true);\n\n \n  const handleCloseDeleteModal = () => setShowDeleteModal(false);\n\n  return (\n    <Col xs={10} sm={8} md={7} lg={8}>\n      <Card className={styles.Post}>\n        <Card.Body>\n          <Media className=\"align-items-center justify-content-between\">\n            <div className=\"d-flex align-items-center\">\n              {is_owner && postPage && (\n                <MoreDropdown\n                  handleEdit={handleEdit}\n                  handleDelete={handleShowDeleteModal}\n                />\n              )}\n              <span>\n                {created_at} - {country_name}\n              </span>\n            </div>\n            <Link to={`/profiles/${profile_id}`} className={styles.Profile}>\n              <Avatar src={profile_image} />\n              <span className={styles.User}>{owner}</span>\n            </Link>\n          </Media>\n        </Card.Body>\n        <Link to={`/posts/${id}/`}>\n          <Card.Img src={image} alt={title} loading=\"lazy\" className={styles.Image} />\n        </Link>\n        <Card.Body>\n          {title && <Card.Title className=\"text-center\">{title}</Card.Title>}\n          {content && <Card.Text><p className={styles.Content}>{content}</p></Card.Text>}\n          <Link to={`/posts/${id}/`} aria-label=\"Comment this post\">\n            <i className={`far fa-comments ${iconStyles.Icon}`} />\n            <p className={styles.Hidden}>hidden text</p>\n          </Link>\n          {comments_count}\n        </Card.Body>\n      </Card>\n      <Modal show={showDeleteModal} onHide={handleCloseDeleteModal}>\n        <Modal.Header closeButton>\n          <Modal.Title>Delete Post</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>Are you sure you want to delete this post?</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleCloseDeleteModal}>\n            Cancel\n          </Button>\n          <Button variant=\"danger\" onClick={handleDelete}>\n            Delete\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Col>\n  );\n};\n\nexport default Post;\n","import React, { useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\n\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\n\nfunction CommentEditForm(props) {\n  const { id, content, setShowEditForm, setComments } = props;\n\n  const [formContent, setFormContent] = useState(content);\n\n  const handleChange = (event) => {\n    setFormContent(event.target.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosRes.put(`/comments/${id}/`, {\n        content: formContent.trim(),\n      });\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: prevComments.results.map((comment) => {\n          return comment.id === id\n            ? {\n                ...comment,\n                content: formContent.trim(),\n                updated_at: \"now\",\n              }\n            : comment;\n        }),\n      }));\n      setShowEditForm(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group className=\"pr-1\">\n        <Form.Control\n          className={styles.Form}\n          as=\"textarea\"\n          value={formContent}\n          onChange={handleChange}\n          rows={2}\n        />\n      </Form.Group>\n      <div className=\"text-right\">\n        <button\n          className={styles.Button}\n          onClick={() => setShowEditForm(false)}\n          type=\"button\"\n        >\n          Cancel\n        </button>\n        <button\n          className={styles.Button}\n          disabled={!content.trim()}\n          type=\"submit\"\n        >\n          Save\n        </button>\n      </div>\n    </Form>\n  );\n}\n\nexport default CommentEditForm;","import React, { useState } from \"react\";\nimport { Media, Modal, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Avatar from \"../../components/Avatar\";\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\nimport styles from \"../../styles/Comment.module.css\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport CommentEditForm from \"./CommentEditForm\";\n\nconst Comment = (props) => {\n  const {\n    profile_id,\n    profile_image,\n    owner,\n    updated_at,\n    content,\n    id,\n    setPost,\n    setComments,\n  } = props;\n\n  const currentUser = useCurrentUser();\n  const is_owner = currentUser?.username === owner;\n  const [showEditForm, setShowEditForm] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleDelete = async () => {\n    try {\n      await axiosRes.delete(`/comments/${id}/`);\n\n      if (setPost) {\n        setPost((prevPost) => ({\n          results: prevPost?.results?.map((post) => ({\n            ...post,\n            comments_count: Math.max(0, post.comments_count - 1),\n          })) || [],\n        }));\n      }\n\n      if (setComments) {\n        setComments((prevComments) => ({\n          ...prevComments,\n          results: prevComments?.results?.filter((comment) => comment.id !== id) || [],\n        }));\n      }\n\n      setShowDeleteModal(false);\n    } catch (err) {\n      setErrorMessage(\"Failed to delete comment. Please try again.\");\n    }\n  };\n\n  return (\n    <>\n      <hr />\n      <Media>\n        <Link to={`/profiles/${profile_id}`}>\n          <Avatar src={profile_image} />\n        </Link>\n        <Media.Body className=\"align-self-center ml-2\">\n          <span className={styles.Owner}>{owner}</span>\n          <span className={styles.Date}>{updated_at}</span>\n          {showEditForm ? (\n            <CommentEditForm\n              id={id}\n              profile_id={profile_id}\n              content={content}\n              profileImage={profile_image}\n              setComments={setComments}\n              setShowEditForm={setShowEditForm}\n            />\n          ) : (\n            <p>{content}</p>\n          )}\n        </Media.Body>\n        {is_owner && !showEditForm && (\n          <MoreDropdown\n            handleEdit={() => setShowEditForm(true)}\n            handleDelete={() => setShowDeleteModal(true)}\n          />\n        )}\n      </Media>\n      <Modal show={showDeleteModal} onHide={() => setShowDeleteModal(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>Confirm Delete</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          Are you sure you want to delete this comment?\n          {errorMessage && <p className=\"text-danger mt-2\">{errorMessage}</p>}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setShowDeleteModal(false)}>\n            Cancel\n          </Button>\n          <Button variant=\"danger\" onClick={handleDelete}>\n            Delete\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default Comment;\n","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\n\nfunction CommentCreateForm(props) {\n  const { post, setPost, setComments } = props;\n  const [content, setContent] = useState(\"\");\n\n  const handleChange = (event) => {\n    setContent(event.target.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const { data } = await axiosRes.post(\"/comments/\", {\n        content,\n        post,\n      });\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: [data, ...prevComments.results],\n      }));\n      setPost((prevPost) => ({\n        results: [\n          {\n            ...prevPost.results[0],\n            comments_count: prevPost.results[0].comments_count + 1,\n          },\n        ],\n      }));\n      setContent(\"\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className={styles.CommentFormContainer}>\n      <Form className=\"mt-2 w-50\" onSubmit={handleSubmit}>\n        <Form.Group>\n          <InputGroup>\n            <Form.Control\n              className={styles.Form}\n              placeholder=\"My comment...\"\n              as=\"textarea\"\n              value={content}\n              onChange={handleChange}\n              rows={2}\n              aria-label=\"comment\"\n            />\n            <button\n              className={styles.Button}\n              disabled={!content.trim()}\n              type=\"submit\"\n              aria-label=\"Submit comment\"\n            >\n              <i className={`fa-solid fa-paper-plane ${styles.Icon}`}></i>\n              <span className={styles.Hidden}>Text</span>\n            </button>\n          </InputGroup>\n        </Form.Group>\n      </Form>\n    </div>\n  );\n}\n\nexport default CommentCreateForm;\n","import React, { useEffect, useState } from \"react\";\nimport { axiosReq } from \"../api/axiosDefaults\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Accordion, Card, Button } from 'react-bootstrap';\nimport styles from '../styles/PopularDestinations.module.css'\nimport Loading from \"./Loading\";\n\nconst PopularDestinations = () => {\n  const [popularDestinations, setPopularDestinations] = useState([]);\n\n  useEffect(() => {\n    const fetchPostCounts = async () => {\n      try {\n        const { data } = await axiosReq.get(\"/posts/\");\n        const postCounts = data.country_post_counts || {};\n\n        const sortedDestinations = Object.entries(postCounts)\n          .map(([country, count]) => ({ country, count }))\n          .sort((a, b) => b.count - a.count)\n          .slice(0, 6); // Get top 6 destinations\n\n        setPopularDestinations(sortedDestinations);\n      } catch (err) {\n        console.error(\"Error fetching post counts:\", err);\n      }\n    };\n\n    fetchPostCounts();\n  }, []);\n\n  if (!popularDestinations.length) {\n    return <Loading />;\n  }\n\n  return (\n    <div className={`container my-4 ${styles.Container}`}>\n      <h3 className={`text-center text-danger mb-4 ${styles.Header}`}>Top Countries on WanderRoads</h3>\n      <Accordion>\n        {popularDestinations.map((dest, index) => {\n          const title = index === 0 ? \"Check the most popular\" :\n                        index === 1 ? \"Check the second most popular\" :\n                        index === 2 ? `Check the third most popular`:\n                         `Check the ${index + 1}th most popular`\n\n          return (\n            <Card key={index} className={styles.Card}>\n              <Card.Header className={styles.Accordion}>\n                <Accordion.Toggle as={Button} variant=\"link\" eventKey={String(index)} className={styles.Title}>\n                  {title} country\n                </Accordion.Toggle>\n              </Card.Header>\n              <Accordion.Collapse eventKey={String(index)}>\n                <Card.Body className={styles.CardBody}>\n                {dest.count} {dest.count > 1 ? \"posts\" : \"post\"} from {dest.country}\n                </Card.Body>\n              </Accordion.Collapse>\n            </Card>\n          );\n        })}\n      </Accordion>\n    </div>\n  );\n};\n\nexport default PopularDestinations;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { Col, Row, Container } from \"react-bootstrap\";\nimport appStyles from \"../../App.module.css\";\nimport styles from '../../styles/PostPage.module.css';\nimport Post from \"./Post\";\nimport Comment from \"../comments/Comment\";\nimport CommentCreateForm from \"../comments/CommentCreateForm\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Asset from \"../../components/Asset\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport PopularDestinations from \"../../components/PopularDestinations\";\n\nfunction PostPage() {\n  const { id } = useParams();\n  const [post, setPost] = useState({ results: [] });\n  const [comments, setComments] = useState({ results: [] });\n  const currentUser = useCurrentUser();\n  const profile_image = currentUser?.profile_image;\n\n  useEffect(() => {\n    console.log(`Fetching post with id: ${id}`);\n    const handleMount = async () => {\n      try {\n        const [{ data: post }, { data: comments }] = await Promise.all([\n          axiosReq.get(`/posts/${id}/`),\n          axiosReq.get(`/comments/?post=${id}`),\n        ]);\n        console.log(\"Fetched post:\", post);\n        setPost({ results: [post] });\n        setComments(comments);\n      } catch (err) {\n        console.error(\"Error fetching post:\", err);\n      }\n    };\n\n    handleMount();\n  }, [id]);\n\n  console.log(\"Posts state:\", post);\n  return (\n    <Row className={`h-100 ${styles.Row}`}>\n      <Col className={`py-2 p-0 p-lg-2 ${styles.Post}`} lg={8}>\n        <Post {...post.results[0]} setPosts={setPost} postPage />\n        <Container className={appStyles.Content}>\n          {currentUser ? (\n            <CommentCreateForm\n              profile_id={currentUser.profile_id}\n              profileImage={profile_image}\n              post={id}\n              setPost={setPost}\n              setComments={setComments}\n            />\n          ) : comments.results.length ? (\n            \"Comments\"\n          ) : null}\n          {comments.results.length ? (\n            <InfiniteScroll\n              dataLength={comments.results.length}\n              loader={<Asset spinner />}\n              hasMore={!!comments.next}\n              next={() => fetchMoreData(comments, setComments)}\n            >\n              {comments.results.map((comment) => (\n                <Comment\n                  key={comment.id}\n                  {...comment}\n                  setPost={setPost}\n                  setComments={setComments}\n                />\n              ))}\n            </InfiniteScroll>\n          ) : currentUser ? (\n            <span className={styles.Comment}>No comments yet, be the first to comment!</span>\n          ) : (\n            <span className={styles.Comment}>No comments... yet</span>\n          )}\n        </Container>\n      </Col>\n      <Col className={styles.Destination}>\n        <PopularDestinations />\n      </Col>\n    </Row>\n  );\n}\n\nexport default PostPage;\n","import React, { useEffect, useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport { Link } from \"react-router-dom\";\nimport Post from \"./Post\";\nimport navStyle from \"../../styles/NavBar.module.css\";\nimport styles from \"../../styles/PostsPage.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport { useLocation } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport Loading from \"../../components/Loading\";\n\nfunction PostsPage({ message, filter = \"\" }) {\n  const [posts, setPosts] = useState({ results: [] });\n  const [hasLoaded, setHasLoaded] = useState(false);\n  const { pathname } = useLocation();\n  const currentUser = useCurrentUser();\n  const [query, setQuery] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const { data } = await axiosReq.get(`/posts/?${filter}search=${query}`);\n        setPosts(data);\n        setHasLoaded(true);\n      } catch (err) {\n        console.log(err);\n        setError(\"Failed to load posts. Please try again.\");\n      }\n    };\n\n    setHasLoaded(false);\n    const timer = setTimeout(() => {\n      fetchPosts();\n    }, 1000);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [filter, query, pathname, currentUser]);\n\n  return (\n    <Row className={`h-100 ${styles.Row}`}>\n      <div className={styles.CreatePost}>\n        <Col className=\"py-2 p-0 p-lg-2\" sm={6} md={6} lg={8}>\n          <span className={styles.ShareText}> Share your journey! </span>\n          <Link\n            className={navStyle.NavLink}\n            activeClassName={navStyle.Active}\n            to=\"/posts/create\"\n          >\n            <i\n              className={`fa-solid fa-plane-departure ${styles.ShareIcon}`}\n            ></i>\n            <p className={styles.Hidden}>hidden text</p>\n          </Link>\n        </Col>\n      </div>\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\n        <i className={`fas fa-search ${styles.SearchIcon}`}></i>\n        <Form\n          className={styles.SearchBar}\n          onSubmit={(event) => event.preventDefault()}\n        >\n          <Form.Control\n            value={query}\n            onChange={(event) => setQuery(event.target.value)}\n            type=\"text\"\n            className=\"mr-sm-2\"\n            placeholder=\"Search posts\"\n            aria-label=\"search posts\"\n          />\n        </Form>\n        {error && <p className={appStyles.Error}>{error}</p>}\n        {hasLoaded ? (\n          <>\n            {posts.results.length ? (\n              <InfiniteScroll\n              className={styles.Post}\n              dataLength={posts.results.length}\n              loader={<Loading />}\n              hasMore={!!posts.next}\n              next={() => fetchMoreData(posts, setPosts)}\n            >\n              {posts.results.map((post) => (\n                <Post key={post.id} {...post} setPosts={setPosts} />\n              ))}\n            </InfiniteScroll>\n            ) : (\n              <Container className={appStyles.Content}>\n                <p>{message} </p>\n              </Container>\n            )}\n          </>\n        ) : (\n          <Container className={appStyles.Content}>\n            <Loading />\n          </Container>\n        )}\n      </Col>\n    </Row>\n  );\n}\n\nexport default PostsPage;\n","import React, { useEffect, useRef, useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Image from \"react-bootstrap/Image\";\nimport axios from 'axios'\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n\nimport { useHistory, useParams } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\n\nfunction PostEditForm() {\n  const [errors, setErrors] = useState({});\n\n  const [postData, setPostData] = useState({\n    title: \"\",\n    content: \"\",\n    image: \"\",\n    country: \"\",\n  });\n  const { title, content, image, country } = postData;\n\n  const [countries, setCountries] = useState([]);\n  const imageInput = useRef(null);\n  const history = useHistory();\n  const { id } = useParams();\n\n  useEffect(() => {\n    const handleMount = async () => {\n      try {\n        const { data } = await axiosReq.get(`/posts/${id}/`);\n        const { title, content, image, country, is_owner } = data;\n\n        is_owner\n          ? setPostData({ title, content, image, country })\n          : history.push(\"/\");\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    handleMount();\n  }, [history, id]);\n\n  const handleChange = (event) => {\n    setPostData({\n      ...postData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleChangeImage = (event) => {\n    if (event.target.files.length) {\n      URL.revokeObjectURL(image);\n      setPostData({\n        ...postData,\n        image: URL.createObjectURL(event.target.files[0]),\n      });\n    }\n  };\n\n  useEffect(() => {\n    const fetchCountries = async () => {\n      try {\n        const { data } = await axios.get(\"/countries/\");\n        setCountries(data);\n      } catch (error) {\n        console.error(\"Error fetching countries:\", error);\n      }\n    };\n\n    fetchCountries();\n  }, []);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"title\", title);\n    formData.append(\"content\", content);\n\n    if (imageInput?.current?.files[0]) {\n      formData.append(\"image\", imageInput.current.files[0]);\n    }\n    formData.append(\"country\", country);\n\n    try {\n      await axiosReq.put(`/posts/${id}/`, formData);\n      history.push(`/posts/${id}`);\n    } catch (err) {\n      console.log(err);\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  const textFields = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label>Title</Form.Label>\n        <Form.Control\n          type=\"text\"\n          name=\"title\"\n          value={title}\n          onChange={handleChange}\n          aria-label=\"title\"\n        />\n      </Form.Group>\n      {errors?.title?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n\n      <Form.Group>\n        <Form.Label>Content</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          rows={6}\n          name=\"content\"\n          value={content}\n          onChange={handleChange}\n          aria-label=\"content\"\n        />\n      </Form.Group>\n      {errors?.content?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n      <Form.Group>\n        <Form.Label>Country</Form.Label>\n        <Form.Control\n          as=\"select\"\n          name=\"country\"\n          value={country}\n          onChange={handleChange}\n          required\n          aria-label=\"country\"\n        >\n          <option value=\"\">Select a country</option>\n          {countries.map((c) => (\n            <option key={c.code} value={c.code}>\n              {c.name}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      <Button className={btnStyles.Button} onClick={() => history.goBack()}>\n        cancel\n      </Button>\n      <Button className={btnStyles.Button} type=\"submit\">\n        save\n      </Button>\n    </div>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\n          <Container\n            className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\n          >\n            <Form.Group className=\"text-center\">\n              <figure>\n                <Image className={appStyles.Image} src={image} rounded alt=\"post image\"/>\n              </figure>\n              <div>\n                <Form.Label\n                  className={`${btnStyles.Button} btn`}\n                  htmlFor=\"image-upload\"\n                >\n                  Change the image\n                </Form.Label>\n              </div>\n\n              <Form.File\n                id=\"image-upload\"\n                accept=\"image/*\"\n                onChange={handleChangeImage}\n                ref={imageInput}\n              />\n            </Form.Group>\n            {errors?.image?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n\n            <div className=\"d-md-none\">{textFields}</div>\n          </Container>\n        </Col>\n        <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\n          <Container className={appStyles.Content}>{textFields}</Container>\n        </Col>\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostEditForm;\n","import React, { useState, useRef } from \"react\";\nimport styles from '../styles/ThemeSong.module.css'\n\nexport default function ThemeSong(props) {\n    const [isMuted, setIsMuted] = useState(true);\n    const audioRef = useRef(null);\n\n    const toggleMute = () => {\n        if (audioRef.current) {\n            if (isMuted) {\n                audioRef.current.play();\n            } else {\n                audioRef.current.pause();\n            }\n            setIsMuted(!isMuted);\n        }\n    };\n\n    return (\n        <div className={styles.Container}>\n            <button onClick={toggleMute} className={styles.Button}>\n                <i className={`fa-solid ${isMuted ? \"fa-volume-xmark\" : \"fa-volume-high\"}`}></i>\n                <p className={styles.Hidden}>hidden text</p>\n            </button>\n            <audio ref={audioRef} src={props.theme_song} />\n        </div>\n    );\n}\n","import React, { useEffect, useState, Suspense, lazy, useMemo } from \"react\";\nimport axios from \"axios\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { Container, Nav, Tab } from \"react-bootstrap\";\nimport styles from \"../../styles/Profile.module.css\";\nimport ThemeSong from \"../../components/ThemeSong\";\nimport Asset from \"../../components/Asset\";\nimport Image from \"react-bootstrap/Image\";\nimport Loading from \"../../components/Loading\";\nimport backgroundImageUrl from \"../../assets/recommendation-bg.webp\";\n\n// Lazy-loaded components\nconst TravelPreferences = lazy(() =>\n  import(\"../travel_preference/TravelPreferences\")\n);\nconst TravelRecommendation = lazy(() =>\n  import(\"../travel_recommendation/TravelRecommendation\")\n);\nconst UserPosts = lazy(() => import(\"../posts/UserPosts\"));\n\nconst Profile = () => {\n  const { id } = useParams();\n  const currentUser = useCurrentUser();\n  const [profile, setProfile] = useState(null);\n\n  useEffect(() => {\n    axios\n      .get(`/profiles/${id}`)\n      .then((response) => setProfile(response.data))\n      .catch((error) => console.error(\"Error fetching profile:\", error));\n  }, [id]);\n\n  const isOwner = useMemo(\n    () => currentUser?.username === profile?.owner,\n    [currentUser, profile?.owner]\n  );\n\n  const visitedCountriesList = useMemo(\n    () =>\n      profile?.visited_countries?.length ? (\n        <div>\n          <p>\n            <span className=\"fw-bold\">*</span> You&apos;re rocking the {profile.experience} level! Just a few more trips and you&apos;ll rank up!\n          </p>\n          <ul className=\"d-flex flex-wrap gap-2 list-unstyled\">\n            {profile.visited_countries.map((c, index) => (\n              <li\n                key={index}\n                className={`bg-light px-3 py-1 rounded ${styles.Countries}`}\n              >\n                {c}\n              </li>\n            ))}\n          </ul>\n        </div>\n      ) : (\n        <p>No countries added yet.</p>\n      ),\n    [profile?.visited_countries]\n  );\n\n  if (!profile) {\n    return <Asset />;\n  }\n\n  return (\n    <Container className={styles.ProfileContainer}>\n      <div\n        className={styles.HeroSection}\n        style={{ backgroundImage: `url(${backgroundImageUrl})` }}\n      >\n        <div className={styles.Overlay}></div>\n        <div className={styles.ProfileContent}>\n          <Image\n            src={profile.image}\n            alt={profile.owner}\n            className={styles.ProfileImage}\n            roundedCircle\n          />\n          <div className={styles.ProfileText}>\n            <h4>\n              {profile.experience} {profile.owner}\n            </h4>\n            <p className={styles.Status}>{profile.status || \"No status set\"}</p>\n            <ThemeSong theme_song={profile.theme_song} className={styles.ThemeSong} />\n          </div>\n        </div>\n      </div>\n\n      <Tab.Container defaultActiveKey=\"posts\">\n        <Nav variant=\"tabs\" className={styles.ProfileNav}>\n          <Nav.Item>\n            <Nav.Link eventKey=\"posts\" className={styles.NavLink}>\n              Posts\n            </Nav.Link>\n          </Nav.Item>\n          {isOwner && (\n            <Nav.Item>\n              <Nav.Link eventKey=\"edit_profile\" className={styles.NavLink}>\n                Edit profile\n              </Nav.Link>\n            </Nav.Item>\n          )}\n          <Nav.Item>\n            <Nav.Link eventKey=\"visited_countries\" className={styles.NavLink}>\n              Visited countries\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link eventKey=\"preferences\" className={styles.NavLink}>\n              Travel Preferences\n            </Nav.Link>\n          </Nav.Item>\n          {isOwner && (\n            <Nav.Item>\n              <Nav.Link eventKey=\"recommendations\" className={styles.NavLink}>\n                Recommendations\n              </Nav.Link>\n            </Nav.Item>\n          )}\n        </Nav>\n\n        <Tab.Content className={styles.TabContent}>\n          <Suspense fallback={<Loading />}>\n            <Tab.Pane eventKey=\"posts\">\n              <UserPosts />\n            </Tab.Pane>\n            <Tab.Pane eventKey=\"preferences\">\n              <TravelPreferences profileOwner={profile?.owner} />\n            </Tab.Pane>\n            <Tab.Pane eventKey=\"visited_countries\">{visitedCountriesList}</Tab.Pane>\n            {isOwner && (\n              <>\n                <Tab.Pane eventKey=\"recommendations\">\n                  <TravelRecommendation />\n                </Tab.Pane>\n                <Tab.Pane eventKey=\"edit_profile\">\n                  <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                      <Link to={`/profiles/${profile.id}/change-image`}>\n                        <i className={`fa-solid fa-camera ${styles.EditIcon}`}>\n                          {\" \"}\n                          Change Image\n                        </i>\n                      </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <Link to={`/profiles/${profile.id}/edit/username`}>\n                        <i className={`far fa-id-card ${styles.EditIcon}`}>\n                          {\" \"}\n                          Change Username\n                        </i>\n                      </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <Link to={`/profiles/${profile.id}/edit/password`}>\n                        <i className={`fas fa-key ${styles.EditIcon}`}>\n                          {\" \"}\n                          Change Password\n                        </i>\n                      </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <Link to={`/profiles/${profile.id}/edit/status`}>\n                        <i className={`fas fa-comment ${styles.EditIcon}`}>\n                          {\" \"}\n                          Edit Status\n                        </i>\n                      </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <Link to={`/profiles/${profile.id}/edit/countries`}>\n                        <i className={`fas fa-globe ${styles.EditIcon}`}>\n                          {\" \"}\n                          Edit Visited Countries\n                        </i>\n                      </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <Link to={`/profiles/${profile.id}/edit/theme-song`}>\n                        <i className={`fas fa-music ${styles.EditIcon}`}>\n                          {\" \"}\n                          Change Theme Song\n                        </i>\n                      </Link>\n                    </li>\n                  </ul>\n                </Tab.Pane>\n              </>\n            )}\n          </Suspense>\n        </Tab.Content>\n      </Tab.Container>\n    </Container>\n  );\n};\n\nexport default Profile;\n","import React, { useEffect, useState } from \"react\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { Link } from \"react-router-dom\";\nimport { Row, Col, Card, Dropdown, Form } from \"react-bootstrap\";\nimport styles from \"../../styles/Profiles.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport searchStyles from \"../../styles/PostsPage.module.css\";\nimport Loading from \"../../components/Loading\";\n\nconst UserList = () => {\n  const [profiles, setProfiles] = useState([]);\n  const [sortBy, setSortBy] = useState(\"owner\");\n  const [query, setQuery] = useState(\"\");\n\n  useEffect(() => {\n    const fetchProfiles = async () => {\n      try {\n        const { data } = await axiosReq.get(\n          `/profiles/?ordering=${sortBy}&search=${query}`\n        );\n        setProfiles(data.results);\n      } catch (err) {\n        console.error(\"Error fetching profiles:\", err);\n      }\n    };\n    const timer = setTimeout(() => {\n      fetchProfiles();\n    }, 500);\n\n    return () => clearTimeout(timer);\n  }, [sortBy, query]);\n\n  return (\n    <div className={styles.Users}>\n      <Col lg={4} md={6} sm={6} xs={6}>\n        <i className={`fas fa-search ${searchStyles.SearchIcon}`} />\n        <Form\n          className={searchStyles.SearchBar}\n          onSubmit={(event) => event.preventDefault()}\n        >\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Search users...\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            aria-label=\"serach users\"\n          />\n        </Form>\n      </Col>\n      <Dropdown onSelect={(eventKey) => setSortBy(eventKey)}>\n        <Dropdown.Toggle id=\"dropdown-basic\" className={btnStyles.Button}>\n          Sort By: {sortBy === \"owner\" ? \"Username\" : \"Posts Count\"}\n        </Dropdown.Toggle>\n\n        <Dropdown.Menu>\n          <Dropdown.Item eventKey=\"owner\">Username</Dropdown.Item>\n          <Dropdown.Item eventKey=\"posts_count\">Posts Count</Dropdown.Item>\n        </Dropdown.Menu>\n      </Dropdown>\n      {profiles.length === 0 ? (\n        <Loading />\n      ) : (\n        <Row className=\"g-4\">\n          {profiles.map((user) => (\n            <Col xs={6} sm={4} md={4} lg={3} key={user.id}>\n              <Card className={`h-100 ${styles.UserCard}`}>\n              <Link to={`/profiles/${user.id}`} className={styles.User}>\n                <Card.Img\n                  variant=\"top\"\n                  src={user.image}\n                  alt={`${user.owner}'s profile picture`}\n                  loading=\"lazy\"\n                />\n                </Link>\n                <Card.Body>\n                  <Card.Title className=\"d-flex align-items-center gap-2\">\n                      <span>{user.owner}</span>\n                  </Card.Title>\n                  <Card.Text>\n                    <p className={styles.Status}>{user.status}</p>\n                    <p>Visited countries: {user.visited_countries.length}</p>\n                    <p>Total posts: {user.posts_count}</p>\n                  </Card.Text>\n                </Card.Body>\n              </Card>\n            </Col>\n          ))}\n        </Row>\n      )}\n    </div>\n  );\n};\n\nexport default UserList;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport styles from \"../../styles/TravelPreferenceEditForm.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\"\n\nexport default function TravelPreferenceEditForm() {\n  const [preferencesData, setPreferencesData] = useState({\n    preferred_continent: \"\",\n    climate: \"\",\n    activity: \"\",\n    budget: \"\",\n    travel_style: \"\",\n    duration: \"\",\n  });\n\n  const { id } = useParams();\n  const history = useHistory();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const { data } = await axiosReq.get(`/travel-preference/${id}/`);\n        setPreferencesData(data);\n      } catch (err) {\n        console.error(\"Error fetching travel preferences:\", err);\n        history.push(\"/\");\n      }\n    };\n\n    fetchData();\n  }, [id, history]);\n\n  const handleChange = (event) => {\n    setPreferencesData({\n      ...preferencesData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosReq.put(`/travel-preference/${id}/`, preferencesData);\n      history.goBack();\n    } catch (err) {\n      console.error(\"Error updating travel preferences:\", err);\n    }\n  };\n\n  return (\n    <div className={styles.EditPrefContainer}>\n      <h2 className={styles.EditPrefHeading}>Edit Travel Preferences</h2>\n      <Form onSubmit={handleSubmit} className={styles.EditPrefForm}>\n        <Form.Group>\n          <Form.Label>Preferred Continent</Form.Label>\n          <Form.Control\n            as=\"select\"\n            name=\"preferred_continent\"\n            className=\"text-center\"\n            value={preferencesData.preferred_continent}\n            onChange={handleChange}\n          >\n            <option value=\"ANY\">Any Continent</option>\n            <option value=\"AF\">Africa</option>\n            <option value=\"NA\">North America</option>\n            <option value=\"SA\">South America</option>\n            <option value=\"AS\">Asia</option>\n            <option value=\"EU\">Europe</option>\n            <option value=\"OC\">Oceania</option>\n            <option value=\"AN\">Antarctica</option>\n          </Form.Control>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Climate</Form.Label>\n          <Form.Control\n            as=\"select\"\n            name=\"climate\"\n            className=\"text-center\"\n            value={preferencesData.climate}\n            onChange={handleChange}\n          >\n            <option value=\"ANY\">Any</option>\n            <option value=\"HOT\">Hot</option>\n            <option value=\"COLD\">Cold</option>\n            <option value=\"TROPICAL\">Tropical</option>\n            <option value=\"MILD\">Mild</option>\n          </Form.Control>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Activity</Form.Label>\n          <Form.Control\n            as=\"select\"\n            name=\"activity\"\n            className=\"text-center\"\n            value={preferencesData.activity}\n            onChange={handleChange}\n          >\n            <option value=\"ANY\">Any</option>\n            <option value=\"CULTURE\">Culture & History</option>\n            <option value=\"NATURE\">Nature & Wildlife</option>\n            <option value=\"BEACH\">Beaches & Islands</option>\n            <option value=\"ADVENTURE\">Adventure & Hiking</option>\n            <option value=\"CITY\">City & Nightlife</option>\n            <option value=\"FOOD\">Food & Culinary</option>\n          </Form.Control>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Budget</Form.Label>\n          <Form.Control\n            as=\"select\"\n            name=\"budget\"\n            className=\"text-center\"\n            value={preferencesData.budget}\n            onChange={handleChange}\n          >\n            <option value=\"ANY\">Any</option>\n            <option value=\"LOW\">Budget-Friendly</option>\n            <option value=\"MEDIUM\">Mid-Range</option>\n            <option value=\"HIGH\">Luxury</option>\n          </Form.Control>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Travel Style</Form.Label>\n          <Form.Control\n            as=\"select\"\n            name=\"travel_style\"\n            className=\"text-center\"\n            value={preferencesData.travel_style}\n            onChange={handleChange}\n          >\n            <option value=\"ANY\">Any</option>\n            <option value=\"SOLO\">Solo Travel</option>\n            <option value=\"FAMILY\">Family</option>\n            <option value=\"BACKPACKING\">Backpacking</option>\n            <option value=\"LUXURY\">Luxury Travel</option>\n          </Form.Control>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Duration</Form.Label>\n          <Form.Control\n            as=\"select\"\n            name=\"duration\"\n            className=\"text-center\"\n            value={preferencesData.duration}\n            onChange={handleChange}\n          >\n            <option value=\"ANY\">Any</option>\n            <option value=\"WEEKEND\">Weekend</option>\n            <option value=\"ONE_WEEK\">1 Week</option>\n            <option value=\"TWO_WEEKS\">2 Weeks</option>\n            <option value=\"MONTH\">1 Month</option>\n          </Form.Control>\n        </Form.Group>\n\n        <Button\n          className={`${btnStyles.Button} ${btnStyles.Wide} mt-3 `}\n          onClick={() => history.goBack()}\n        >\n          Cancel\n        </Button>\n        <Button\n          className={`${btnStyles.Button} ${btnStyles.Wide} mt-3 `}\n          type=\"submit\"\n        >\n          Save\n        </Button>\n      </Form>\n    </div>\n  );\n}","import React, { useState, useEffect } from \"react\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport axios from \"axios\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Card, Container, Row, Col, Button, Modal } from \"react-bootstrap\";\nimport styles from \"../../styles/Trip.module.css\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\nimport Asset from '../../components/Asset';\n\nexport default function Trip() {\n  const currentUser = useCurrentUser();\n  const [trip, setTrip] = useState(null);\n  const history = useHistory();\n  const [showModal, setShowModal] = useState(false);\n  const [tripToDelete, setTripToDelete] = useState(null);\n\n  useEffect(() => {\n    if (currentUser) {\n      axios\n        .get(\"/trip/\")\n        .then(async (response) => {\n          console.log(\"Trip: \", response.data);\n  \n          // Filter out expired trips\n          const validTrips = response.data.results.filter((t) => t.days_until_trip >= 0);\n  \n          // Sort trips by start_date \n          const sortedTrips = validTrips.sort((a, b) => new Date(a.start_date) - new Date(b.start_date));\n  \n          setTrip({ ...response.data, results: sortedTrips }); \n  \n          // Automatically delete expired trips\n          const expiredTrips = response.data.results.filter((t) => t.days_until_trip < 0);\n          for (let trip of expiredTrips) {\n            try {\n              await axiosRes.delete(`/trip/${trip.id}`);\n              console.log(`Deleted expired trip: ${trip.destination}`);\n            } catch (err) {\n              console.error(`Error deleting expired trip ${trip.id}:`, err);\n            }\n          }\n        })\n        .catch((error) => {\n          console.error(\"Error fetching trips:\", error);\n        });\n    }\n  }, [currentUser]);\n\n  const handleEdit = (tripId) => {\n    history.push(`/trip/${tripId}/edit`);\n  };\n\n  // Step 1: Show confirmation modal when delete is clicked\n  const confirmDelete = (tripId) => {\n    setTripToDelete(tripId);\n    setShowModal(true);\n  };\n\n  // Step 2: Perform deletion if user confirms\n  const handleDelete = async () => {\n    if (!tripToDelete) return;\n\n    try {\n      await axiosRes.delete(`/trip/${tripToDelete}`);\n      setTrip((prevTrip) => ({\n        ...prevTrip,\n        results: prevTrip.results.filter((t) => t.id !== tripToDelete),\n      }));\n    } catch (err) {\n      console.error(\"Error deleting trip:\", err);\n    }\n\n    setShowModal(false);\n    setTripToDelete(null);\n  };\n\n  return (\n    <Container className=\"mt-4\">\n      <div className=\"d-flex justify-content-start mb-3\">\n        <Link to=\"/trip/create\">\n          <i className=\"fa-solid fa-plus\"> Add an upcoming trip</i>\n        </Link>\n      </div>\n\n      {trip && trip.results && trip.results.length > 0 ? (\n        <Row className=\"g-4\">\n          {trip.results.map((t) => (\n            <Col md={6} lg={4} key={t.id}>\n              <Card\n                className={`shadow-sm border-0 ${\n                  t.days_until_trip > 5 ? styles.Card : styles.Soon\n                }`}\n              >\n                <Card.Body>\n                  <Card.Title>\n                    <MoreDropdown\n                      handleEdit={() => handleEdit(t.id)}\n                      handleDelete={() => confirmDelete(t.id)}\n                    />{\" \"}\n                    {t.destination}\n                  </Card.Title>\n                  <Card.Subtitle className=\"mb-2\">\n                    <strong>Trip starts in {t.days_until_trip} days</strong>\n                  </Card.Subtitle>\n                  <Card.Text>\n                    <strong>Departure:</strong> {t.start_date} <br />\n                    <strong>Return:</strong> {t.end_date}\n                  </Card.Text>\n                  {t.notes && <Card.Text>{t.notes}</Card.Text>}\n                </Card.Body>\n              </Card>\n            </Col>\n          ))}\n        </Row>\n      ) : (\n        <Asset spinner/>\n      )}\n\n      <Modal show={showModal} onHide={() => setShowModal(false)} centered>\n        <Modal.Header closeButton>\n          <Modal.Title>Confirm Delete</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>Are you sure you want to delete this trip?</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setShowModal(false)}>\n            Cancel\n          </Button>\n          <Button variant=\"danger\" onClick={handleDelete}>\n            Delete\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    \n    </Container>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport { useHistory, useParams } from \"react-router\";\nimport axios from \"axios\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport Button from \"react-bootstrap/Button\";\nimport { Row, Col, Alert } from \"react-bootstrap\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport styles from \"../../styles/AddTrip.module.css\";\n\nexport default function TripEditForm() {\n  const [errors, setErrors] = useState({});\n  const [countries, setCountries] = useState([]);\n  const [tripData, setTripData] = useState({\n    destination: \"\",\n    start_date: \"\",\n    end_date: \"\",\n    notes: \"\",\n  });\n\n  const { id } = useParams();\n  const history = useHistory();\n\n  useEffect(() => {\n    const fetchCountries = async () => {\n      try {\n        const { data } = await axios.get(\"/countries/\");\n        setCountries(data);\n      } catch (error) {\n        console.error(\"Error fetching countries:\", error);\n      }\n    };\n\n    fetchCountries();\n  }, []);\n\n  useEffect(() => {\n    if (!countries.length) return;\n\n    const fetchData = async () => {\n      try {\n        const { data } = await axiosReq.get(`/trip/${id}`);\n        console.log(\"Fetched Trip Data:\", data);\n\n        const matchingCountry = countries.find((c) => c.name === data.destination);\n        const countryCode = matchingCountry ? matchingCountry.code : \"\";\n\n        setTripData({\n          destination: countryCode || \"\",\n          start_date: data.start_date,\n          end_date: data.end_date,\n          notes: data.notes || \"\",\n        });\n      } catch (err) {\n        console.error(\"Error fetching trip details:\", err);\n        history.push(\"/\");\n      }\n    };\n\n    fetchData();\n  }, [id, history, countries]);\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n  \n    setTripData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  \n    setErrors((prevErrors) => {\n      const newErrors = { ...prevErrors };\n  \n      if (name === \"start_date\" || name === \"end_date\") {\n        const updatedStartDate = name === \"start_date\" ? new Date(value) : new Date(tripData.start_date);\n        const updatedEndDate = name === \"end_date\" ? new Date(value) : new Date(tripData.end_date);\n  \n        if (updatedStartDate && updatedEndDate && updatedEndDate < updatedStartDate) {\n          newErrors.end_date = \"End date cannot be earlier than start date.\";\n        } else {\n          delete newErrors.end_date;\n        }\n  \n        if (updatedStartDate && updatedEndDate && updatedStartDate > updatedEndDate) {\n          newErrors.start_date = \"Start date cannot be later than end date.\";\n        } else {\n          delete newErrors.start_date;\n        }\n      }\n  \n      return newErrors;\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    if (new Date(tripData.end_date) < new Date(tripData.start_date)) {\n      setErrors((prev) => ({ ...prev, end_date: \"End date cannot be earlier than start date.\" }));\n      return;\n    }\n\n    try {\n      await axiosReq.put(`/trip/${id}`, tripData);\n      history.goBack();\n    } catch (err) {\n      console.error(err);\n      setErrors(err.response?.data || {});\n    }\n  };\n\n  return (\n    <div className={styles.Form}>\n      <Form onSubmit={handleSubmit} className=\"text-center\">\n        <Row className=\"mb-3\">\n          <Col xs={12} md={6}>\n            <Form.Group>\n              <Form.Label>Destination</Form.Label>\n              <Form.Control\n                as=\"select\"\n                name=\"destination\"\n                value={tripData.destination || \"\"}\n                onChange={handleChange}\n                required\n                className=\"text-center\"\n              >\n                <option value=\"\">Select a country</option>\n                {countries.map((c) => (\n                  <option key={c.code} value={c.code}>\n                    {c.name}\n                  </option>\n                ))}\n              </Form.Control>\n            </Form.Group>\n          </Col>\n\n          <Col xs={12} md={6}>\n            <Form.Group>\n              <Form.Label>Start Date</Form.Label>\n              <Form.Control\n                type=\"date\"\n                name=\"start_date\"\n                value={tripData.start_date || \"\"}\n                onChange={handleChange}\n                className=\"text-center\"\n                aria-label=\"start-date\"\n              />\n            </Form.Group>\n            {errors.start_date && (\n              <Alert variant=\"warning\">{errors.start_date}</Alert>\n            )}\n          </Col>\n\n          <Col xs={12} md={6}>\n            <Form.Group>\n              <Form.Label>End Date</Form.Label>\n              <Form.Control\n                type=\"date\"\n                name=\"end_date\"\n                value={tripData.end_date || \"\"}\n                onChange={handleChange}\n                className=\"text-center\"\n                aria-label=\"end-date\"\n              />\n            </Form.Group>\n            {errors.end_date && (\n              <Alert variant=\"warning\">{errors.end_date}</Alert>\n            )}\n          </Col>\n\n          <Col xs={12} md={6}>\n            <Form.Group>\n              <Form.Label>Notes</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"notes\"\n                value={tripData.notes}\n                onChange={handleChange}\n                className=\"text-center\"\n                aria-label=\"notes\"\n              />\n            </Form.Group>\n          </Col>\n        </Row>\n\n        <Row className=\"mb-3\">\n          <Col xs={12} className=\"d-flex justify-content-between\">\n            <Button className={`${btnStyles.Button} ${btnStyles.Wide}`} onClick={() => history.goBack()}>\n              Cancel\n            </Button>\n            <Button className={`${btnStyles.Button} ${btnStyles.Wide}`} type=\"submit\">\n              Save\n            </Button>\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useHistory } from \"react-router-dom\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport { Form, Row, Col, Button, Alert } from \"react-bootstrap\";\nimport styles from \"../../styles/AddTrip.module.css\";\n\nexport default function AddTrip() {\n  const [errors, setErrors] = useState({});\n  const [tripData, setTripData] = useState({\n    destination: \"\",\n    start_date: \"\",\n    end_date: \"\",\n    notes: \"\",\n  });\n\n  const { destination, start_date, end_date, notes } = tripData;\n  const [countries, setCountries] = useState([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    const fetchCountries = async () => {\n      try {\n        const { data } = await axios.get(\"/countries/\");\n        setCountries(data);\n      } catch (error) {\n        console.error(\"Error fetching countries:\", error);\n      }\n    };\n\n    fetchCountries();\n  }, []);\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n  \n    setTripData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  \n    setErrors((prevErrors) => {\n      const newErrors = { ...prevErrors };\n  \n      if (name === \"start_date\" || name === \"end_date\") {\n        const updatedStartDate = name === \"start_date\" ? new Date(value) : new Date(tripData.start_date);\n        const updatedEndDate = name === \"end_date\" ? new Date(value) : new Date(tripData.end_date);\n  \n        if (updatedStartDate && updatedEndDate && updatedEndDate < updatedStartDate) {\n          newErrors.end_date = [\"End date cannot be earlier than start date.\"];\n        } else {\n          delete newErrors.end_date;\n        }\n      }\n  \n      return newErrors;\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"destination\", destination);\n    formData.append(\"start_date\", start_date);\n    formData.append(\"end_date\", end_date);\n    formData.append(\"notes\", notes);\n\n    try {\n      const { data } = await axiosReq.post(\"/trip/\", formData);\n      console.log({ data });\n      history.push(`/trip/${data.id}`);\n    } catch (err) {\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  return (\n    <div className={styles.Form}>\n      <Form onSubmit={handleSubmit}>\n        <Row className=\"mb-3\">\n          <Col xs={12} md={6} lg={6}>\n            <Form.Group controlId=\"destination\">\n              <Form.Label>Destination</Form.Label>\n              <Form.Control\n                as=\"select\"\n                name=\"destination\"\n                value={destination}\n                onChange={handleChange}\n                required\n              >\n                <option value=\"\">Select a country</option>\n                {countries.map((country) => (\n                  <option key={country.code} value={country.name}>\n                    {country.name}\n                  </option>\n                ))}\n              </Form.Control>\n            </Form.Group>\n          </Col>\n\n          <Col xs={12} md={6} lg={6}>\n            <Form.Group controlId=\"start_date\">\n              <Form.Label>Start Date</Form.Label>\n              <Form.Control\n                type=\"date\"\n                name=\"start_date\"\n                value={start_date}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors.start_date?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\">\n                  {message}\n                </Alert>\n              ))}\n          </Col>\n\n          <Col xs={12} md={6} lg={6}>\n            <Form.Group controlId=\"end_date\">\n              <Form.Label>End Date</Form.Label>\n              <Form.Control\n                type=\"date\"\n                name=\"end_date\"\n                value={end_date}\n                onChange={handleChange}\n              />\n            </Form.Group>\n             {errors.end_date?.map((message, idx) => (\n                            <Alert key={idx} variant=\"warning\">\n                              {message}\n                            </Alert>\n                          ))}\n          </Col>\n\n          <Col xs={12} md={6} lg={6}>\n            <Form.Group controlId=\"notes\">\n              <Form.Label>Notes</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"notes\"\n                value={notes}\n                onChange={handleChange}\n              />\n            </Form.Group>\n          </Col>\n        </Row>\n\n        <Row className=\"mb-3\">\n          <Col xs={12} md={6} lg={12} className=\"d-flex justify-content-between\">\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Wide}`}\n              onClick={() => history.goBack()}\n            >\n              Cancel\n            </Button>\n            <Button className={`${btnStyles.Button} ${btnStyles.Wide}`} type=\"submit\">\n              Create\n            </Button>\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\n\nconst UsernameForm = () => {\n  const [username, setUsername] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n  const { id } = useParams();\n\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() === id) {\n      setUsername(currentUser.username);\n    } else {\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosRes.put(\"/dj-rest-auth/user/\", {\n        username,\n      });\n      setCurrentUser((prevUser) => ({\n        ...prevUser,\n        username,\n      }));\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row>\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\n        <Container className={appStyles.Content}>\n          <Form onSubmit={handleSubmit} className=\"my-2\">\n            <Form.Group>\n              <Form.Label>Change username</Form.Label>\n              <Form.Control\n                placeholder=\"username\"\n                type=\"text\"\n                value={username}\n                onChange={(event) => setUsername(event.target.value)}\n                className=\"text-center\"\n                aria-label=\"username\"\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Col className=\"py-2 mx-auto text-center\" >\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Wide}`}\n              onClick={() => history.goBack()}\n            >\n              cancel\n            </Button>\n            </Col>\n            <Col className=\"py-2 mx-auto text-center\" >\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Wide}`}\n              type=\"submit\"\n            >\n              save\n            </Button>\n            </Col>\n          </Form>\n        </Container>\n      </Col>\n    </Row>\n  );\n};\n\nexport default UsernameForm;","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\n\nconst UserPasswordForm = () => {\n  const history = useHistory();\n  const { id } = useParams();\n  const currentUser = useCurrentUser();\n\n  const [userData, setUserData] = useState({\n    new_password1: \"\",\n    new_password2: \"\",\n  });\n  const { new_password1, new_password2 } = userData;\n\n  const [errors, setErrors] = useState({});\n\n  const handleChange = (event) => {\n    setUserData({\n      ...userData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() !== id) {\n      // redirect user if they are not the owner of this profile\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosRes.post(\"/dj-rest-auth/password/change/\", userData);\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row>\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\n        <Container className={appStyles.Content}>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group>\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                placeholder=\"new password\"\n                type=\"password\"\n                value={new_password1}\n                onChange={handleChange}\n                name=\"new_password1\"\n                className=\"text-center\"\n                aria-label=\"new password\"\n              />\n            </Form.Group>\n            {errors?.new_password1?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Form.Group>\n              <Form.Label>New password</Form.Label>\n              <Form.Control\n                placeholder=\"confirm new password\"\n                type=\"password\"\n                value={new_password2}\n                onChange={handleChange}\n                name=\"new_password2\"\n                className=\"text-center\"\n                aria-label=\"confirm new password\"\n              />\n            </Form.Group>\n            {errors?.new_password2?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Col className=\"py-2 mx-auto text-center\" >\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Wide}`}\n              onClick={() => history.goBack()}\n            >\n              cancel\n            </Button>\n            </Col>\n            <Col className=\"py-2 mx-auto text-center\" >\n            <Button\n              type=\"submit\"\n              className={`${btnStyles.Button} ${btnStyles.Wide}`}\n            >\n              save\n            </Button>\n            </Col>\n          </Form>\n        </Container>\n      </Col>\n    </Row>\n  );\n};\n\nexport default UserPasswordForm;","import React, { useState, useRef, useEffect } from \"react\";\nimport Image from \"react-bootstrap/Image\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useHistory, useParams } from \"react-router\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Asset from '../../components/Asset';\nimport appStyles from \"../../App.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n\nexport default function ProfileImageChangeForm() {\n  const [errors, setErrors] = useState({});\n  const [profile, setProfile] = useState({ image: \"\" });\n  const [loading, setLoading] = useState(true);\n\n  const history = useHistory();\n  const { id } = useParams();\n  const imageInput = useRef(null);\n\n  useEffect(() => {\n    const handleMount = async () => {\n      try {\n        const { data } = await axiosReq.get(`/profiles/${id}`);\n        if (data.is_owner) {\n          setProfile({ image: data.image });\n        } else {\n          history.push(\"/\");\n        }\n      } catch (err) {\n        console.log(err);\n      } finally {\n        setLoading(false); \n      }\n    };\n\n    handleMount();\n  }, [history, id]);\n\n  const handleChangeImage = (event) => {\n    if (event.target.files.length) {\n      URL.revokeObjectURL(profile.image);\n      setProfile({\n        ...profile,\n        image: URL.createObjectURL(event.target.files[0]),\n      });\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n\n    if (imageInput?.current?.files[0]) {\n      formData.append(\"image\", imageInput.current.files[0]);\n    }\n\n    try {\n      setLoading(true);\n      await axiosReq.put(`/profiles/${id}`, formData);\n      history.push(`/profiles/${id}`);\n    } catch (err) {\n      console.log(err);\n      setErrors(err.response?.data || {});\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      {loading ? (\n        <div className=\"text-center mt-5\">\n          <Asset spinner/>\n        </div>\n      ) : (\n        <Row className=\"justify-content-center\">\n          <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\n            <Container\n              className={`${appStyles.Content} d-flex flex-column justify-content-center align-items-center`}\n            >\n              <Form.Group className=\"text-center\">\n                <figure>\n                  <Image className={appStyles.Image} src={profile.image} rounded alt=\"Profile\" />\n                </figure>\n                <div>\n                  <Form.Label className={`${btnStyles.Button} ${btnStyles.Wide} btn`} htmlFor=\"image-upload\">\n                    Change the image\n                  </Form.Label>\n                </div>\n\n                <Form.Control\n                  type=\"file\"\n                  id=\"image-upload\"\n                  accept=\"image/*\"\n                  onChange={handleChangeImage}\n                  ref={imageInput}\n                />\n\n                <Col className=\"py-2 mx-auto text-center\">\n                  <Button className={`${btnStyles.Button} ${btnStyles.Wide} btn`} type=\"submit\">\n                    Save\n                  </Button>\n                </Col>\n                <Col className=\"py-2 mx-auto text-center\">\n                  <Button className={`${btnStyles.Button} ${btnStyles.Wide} btn`} onClick={() => history.goBack()}>\n                    Cancel\n                  </Button>\n                </Col>\n              </Form.Group>\n\n              {errors.image?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                  {message}\n                </Alert>\n              ))}\n            </Container>\n          </Col>\n        </Row>\n      )}\n    </Form>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport styles from \"../../styles/EditStatus.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n\nexport default function EditStatus() {\n  const { id } = useParams();\n  const history = useHistory();\n  const [status, setStatus] = useState(\"\");\n\n  const handleSave = async () => {\n    try {\n      await axios.put(`/profiles/${id}`, { status });\n      history.goBack();\n    } catch (error) {\n      console.error(\"Error updating status:\", error);\n    }\n  };\n\n  return (\n    <Container className={styles.StatusContainer}>\n      <div className={styles.StatusCard}>\n        <h2 className={styles.StatusHeading}>Update Your Status</h2>\n\n        <Form.Group>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"What's on your mind?\"\n            value={status}\n            onChange={(e) => setStatus(e.target.value)}\n            className={styles.StatusInput}\n            aria-label=\"status\"\n          />\n        </Form.Group>\n\n        <Button\n          className={`mt-3 ${btnStyles.Button} ${styles.SaveButton}`}\n          onClick={handleSave}\n        >\n         Update Status\n        </Button>\n      </div>\n    </Container>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport styles from \"../../styles/AddCountry.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n\nexport default function AddCountry() {\n  const { id } = useParams();\n  const history = useHistory();\n  const [countries, setCountries] = useState([]);\n  const [selectedCountry, setSelectedCountry] = useState(\"\");\n  const [visitedCountries, setVisitedCountries] = useState([]);\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const { data } = await axios.get(`/profiles/${id}`);\n        setVisitedCountries(data.visited_countries || []);\n      } catch (error) {\n        console.error(\"Error fetching profile:\", error);\n      }\n    };\n\n    fetchProfile();\n  }, [id]);\n\n  \n  useEffect(() => {\n    const fetchCountries = async () => {\n      try {\n        const { data } = await axios.get(\"/countries/\");\n        setCountries(data);\n      } catch (error) {\n        console.error(\"Error fetching countries:\", error);\n      }\n    };\n\n    fetchCountries();\n  }, []);\n\n  const handleAddCountry = () => {\n    if (selectedCountry && !visitedCountries.includes(selectedCountry)) {\n      setVisitedCountries([...visitedCountries, selectedCountry]);\n    }\n  };\n\n  const handleRemoveCountry = (countryToRemove) => {\n    setVisitedCountries(visitedCountries.filter((c) => c !== countryToRemove));\n  };\n\n  const handleSave = async () => {\n    try {\n      await axios.put(`/profiles/${id}`, {\n        visited_countries: visitedCountries,\n      });\n      history.goBack();\n    } catch (error) {\n      console.error(\"Error updating visited countries:\", error);\n    }\n  };\n\n  return (\n    <Container className={`d-flex flex-column justify-content-center ${styles.Container}`}>\n      <Form.Group controlId=\"countrySelect\">\n        <Form.Label>Select a Country</Form.Label>\n        <Form.Control\n          as=\"select\"\n          value={selectedCountry}\n          onChange={(e) => setSelectedCountry(e.target.value)}\n        >\n          <option value=\"\">Choose a country</option>\n          {countries.map((c) => (\n            <option key={c.code} value={c.name}>\n              {c.name}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n\n      <Button\n        variant=\"primary\"\n        onClick={handleAddCountry}\n        className={`mt-2 ${btnStyles.Button}`}\n      >\n        Add Country\n      </Button>\n\n      <h4 className=\"mt-4\">Visited Countries:</h4>\n      <div className=\"row\">\n        {visitedCountries.map((country, index) => (\n          <div className=\"col-xs-12 col-sm-6 col-md-4 col-lg-3\" key={index}>\n            <div className={styles.Country}>\n              <Button\n                variant=\"danger\"\n                size=\"sm\"\n                onClick={() => handleRemoveCountry(country)}\n                className={styles.Delete}\n              >\n                Remove\n              </Button>\n              <span className={styles.Visited}> {country}</span>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <Button\n        variant=\"success\"\n        onClick={handleSave}\n        className={`mt-3 ${btnStyles.Button}`}\n      >\n        Save Changes\n      </Button>\n    </Container>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport styles from \"../../styles/EditProfile.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n\nexport default function ChangeThemeSong() {\n  const { id } = useParams();\n  const history = useHistory();\n  const [themeSong, setThemeSong] = useState(null);\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const { data } = await axios.get(`/profiles/${id}`);\n        setThemeSong(data.theme_song || null);\n      } catch (error) {\n        console.error(\"Error fetching profile:\", error);\n      }\n    };\n\n    fetchProfile();\n  }, [id]);\n\n  const handleThemeSongUpload = (e) => {\n    if (e.target.files.length) {\n      const file = e.target.files[0];\n      if (file.type !== \"audio/mpeg\") {\n        alert(\"Please upload an MP3 file.\");\n        return;\n      }\n      setThemeSong(file);\n    }\n  };\n\n  const handleSave = async () => {\n    const formData = new FormData();\n    if (themeSong instanceof File) {\n      formData.append(\"theme_song\", themeSong);\n    }\n\n    try {\n      await axios.put(`/profiles/${id}`, formData);\n      history.goBack();\n    } catch (error) {\n      console.error(\"Error updating theme song:\", error);\n    }\n  };\n\n  return (\n    <Container className={styles.ThemeSongContainer}>\n      <h2 className={styles.Heading}>🎶 Change Your Theme Song</h2>\n\n      <div className={styles.MoodDescription}>\n        <p>Let others know your mood – add your favorite music theme song to your profile!</p>\n      </div>\n\n      <div className={styles.SongCard}>\n        <Form.Group controlId=\"themeSong\" className={styles.UploadSection}>\n          <Form.Label className={styles.UploadLabel}>\n            <i className=\"fa-solid fa-music\"></i> Upload a New Theme Song\n          </Form.Label>\n          <Form.File accept=\"audio/mpeg\" onChange={handleThemeSongUpload} className={styles.UploadButton} />\n          \n          {themeSong && (\n            <div className={styles.SongPreview}>\n              <p>\n                <i className=\"fas fa-headphones\"></i> Now Selected:{\" \"}\n                {themeSong instanceof File\n                  ? themeSong.name\n                  : themeSong.slice(themeSong.lastIndexOf(\"/\") + 1)}\n              </p>\n            </div>\n          )}\n        </Form.Group>\n      </div>\n\n      <Button\n        variant=\"success\"\n        onClick={handleSave}\n        className={`mt-3 ${btnStyles.Button} ${styles.SaveButton}`}\n      >\n        <i className=\"fas fa-check\"></i> Save Changes\n      </Button>\n    </Container>\n  );\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport btnStyles from '../../styles/Button.module.css';\nimport styles from '../../styles/Confirmation.module.css';\n\nfunction Confirmation() {\n  const currentUser = useCurrentUser(); \n  return (\n    <div className={`text-center ${styles.Container}`}>\n      <h2 className={styles.Header}>Preferences successfully created!</h2>\n      <p>Your travel preferences have been saved successfully.</p>\n      <Link to={`/profiles/${currentUser.profile_id}`} className={`btn ${btnStyles.Button}`}>\n        Go back to your profile\n      </Link>\n    </div>\n  );\n}\n\nexport default Confirmation;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport buttonStyles from '../styles/Button.module.css'; \nimport styles from '../styles/NotFoundPage.module.css'; \n\nconst NotFoundPage = () => {\n  const history = useHistory();\n\n  const handleRedirect = () => {\n    history.push('/'); \n  };\n\n  return (\n    <div className={` text-center ${styles.Container}`}>\n      <div>\n        <h1 className={`${styles.NotFound}`}>404</h1>\n        <div className={`mb-3 ${styles.Text}`}>\n          <h2 className='display-4'>Looks like you&apos;ve wandered off the beaten path!</h2>\n          <p className={styles.SubText}>Not all who wander are lost... but you are right now.</p>\n        </div>\n        <button className={buttonStyles.Button} onClick={handleRedirect}>\n          Get back on track\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default NotFoundPage;\n","import React from 'react'\nimport styles from './App.module.css';\nimport Container from \"react-bootstrap/Container\";\nimport {Route,Switch, useLocation} from 'react-router-dom';\nimport './api/axiosDefaults'\nimport SignUpForm from './pages/auth/SignUpForm'\nimport SignInForm from './pages/auth/SignInForm';\nimport NavBar from './components/NavBar'\nimport LandingPageText from './components/LandingPageText';\nimport Map from './pages/map/Map';\nimport PostCreateForm from './pages/posts/PostCreateForm';\nimport PostPage from './pages/posts/PostPage';\nimport PostsPage from './pages/posts/PostsPage';\nimport { useCurrentUser } from './contexts/CurrentUserContext';\nimport PostEditForm from './pages/posts/PostEditForm';\nimport Profile from './pages/profile/Profile';\nimport Profiles from './pages/profile/Profiles';\nimport TravelPreferenceEditForm from './pages/travel_preference/TravelPreferenceEditForm';\nimport AddTravelPreference from './pages/travel_preference/AddTravelPreferences';\nimport TravelRecommendation from './pages/travel_recommendation/TravelRecommendation';\nimport Trip from './pages/trip/Trip';\nimport TripEditForm from './pages/trip/TripEditForm';\nimport AddTrip from './pages/trip/AddTrip';\nimport UsernameForm from './pages/profile/UsernameForm'\nimport UserPasswordForm from './pages/profile/UserPasswordForm'\nimport ProfileImageChangeForm from './pages/profile/ProfileImageChangeForm';\nimport EditStatus from './pages/profile/EditStatus';\nimport AddCountry from './pages/profile/AddCountry';\nimport ChangeThemeSong from './pages/profile/ChangeThemeSong';\nimport Confirmation from './pages/travel_preference/Confirmation';\nimport NotFoundPage from './components/NotFoundPage';\nimport landingPageImage from './assets/landing_page.webp';\n\n\nfunction App() {\n\n  const currentUser = useCurrentUser();\n  const profile_id = currentUser?.profile_id || \"\"\n  const location = useLocation(); \n  const isLandingPage = location.pathname === \"/\"; \n  \n  return (\n    <div\n    style={{\n      backgroundImage: isLandingPage ? `url(${landingPageImage})` : \"none\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"center\",\n      backgroundRepeat: \"no-repeat\",\n      backgroundAttachment: \"fixed\",\n    }}\n    className={`${styles.App} ${styles.LandingBackground}`}\n  >\n      < NavBar />\n     {\n       <Container fluid className={styles.Main}>\n      <Switch>\n      <Route exact path='/map' render={()=> <Map />}/>\n      <Route exact path='/' render={()=> <LandingPageText/>}/>\n      {!currentUser && (\n        <>\n          <Route exact path='/signin' render={() => <SignInForm />} />\n          <Route exact path='/signup' render={() => <SignUpForm />} />\n        </>\n      )}\n      <Route exact path='/confirmation' render={() => < Confirmation />}/>\n      <Route path=\"/profiles/:id/edit/status\" render= {()=> <EditStatus/>}/>\n      <Route path=\"/profiles/:id/edit/countries\" render={() => <AddCountry/>}/>\n      <Route path=\"/profiles/:id/edit/theme-song\" render={() => <ChangeThemeSong />}/>\n      <Route path=\"/profiles/:id/change-image\" render= {() => <ProfileImageChangeForm />} />\n      <Route exact path=\"/profiles/:id/edit/username\" render={()=> <UsernameForm />}/>\n      <Route exact path=\"/profiles/:id/edit/password\" render={() => <UserPasswordForm />}/>\n      <Route path=\"/profiles/:id\" render= {()=> <Profile />} />\n      <Route path=\"/trip/:id/edit\" render={() => <TripEditForm />}/> \n      <Route path=\"/trip/create\" render={() => <AddTrip />}/>\n      <Route path=\"/trip/\" render= {() => <Trip />} />\n      <Route path='/travel-preference/:id/edit' render= {()=> <TravelPreferenceEditForm />}/>\n      <Route path='/travel-preference/' render= {()=> <AddTravelPreference />}/>\n      <Route path='/travel-recommendation/' render= {()=> <TravelRecommendation />}/>\n      <Route exact path='/posts/create' render={()=> <PostCreateForm />}/>\n      <Route exact path=\"/posts/:id\" component={PostPage} />\n      <Route exact path=\"/posts/:id/edit\" render={() => <PostEditForm />} />\n      <Route exact path='/feed' render={()=> <PostsPage \n      message=\"No results found.\" \n      filter={`owner__travel_buddies_initiated__owner__profile=${profile_id}&`} />\n    }/>\n      <Route exact path='/travelers/' render={()=> <Profiles />}/>\n      <Route exact path='/logout' render={()=> <h1>Logout</h1>}/>\n      <Route render={() => < NotFoundPage />} />\n      </Switch>\n      </Container>\n     }\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport { CurrentUserProvider } from './contexts/CurrentUserContext';\n\nReactDOM.render(\n    <Router>\n      <CurrentUserProvider>\n        <App />\n      </CurrentUserProvider>\n    </Router>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}